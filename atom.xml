<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://imcm.xyz</id>
    <title>IMCM</title>
    <updated>2021-03-19T07:35:56.317Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://imcm.xyz"/>
    <link rel="self" href="https://imcm.xyz/atom.xml"/>
    <subtitle>&lt;span id=&quot;jinrishici-sentence&quot;&gt;æ­£åœ¨åŠ è½½ä»Šæ—¥è¯—è¯....&lt;/span&gt;
&lt;script src=&quot;https://sdk.jinrishici.com/v2/browser/jinrishici.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</subtitle>
    <logo>https://imcm.xyz/images/avatar.png</logo>
    <icon>https://imcm.xyz/favicon.ico</icon>
    <rights>All rights reserved 2021, IMCM</rights>
    <entry>
        <title type="html"><![CDATA[git clone åŠ é€Ÿ]]></title>
        <id>https://imcm.xyz/git-clone-accelerate/</id>
        <link href="https://imcm.xyz/git-clone-accelerate/">
        </link>
        <updated>2021-03-18T14:40:05.000Z</updated>
        <summary type="html"><![CDATA[<p>ä½¿ç”¨githubçš„é•œåƒç½‘ç«™è¿›è¡Œè®¿é—®: github.comï¼Œæˆ‘ä»¬å°†åŸæœ¬çš„ç½‘ç«™ä¸­çš„github.com è¿›è¡Œæ›¿æ¢ä¸º github.com.cnpmjs.orgå³å¯</p>
]]></summary>
        <content type="html"><![CDATA[<p>ä½¿ç”¨githubçš„é•œåƒç½‘ç«™è¿›è¡Œè®¿é—®: github.comï¼Œæˆ‘ä»¬å°†åŸæœ¬çš„ç½‘ç«™ä¸­çš„github.com è¿›è¡Œæ›¿æ¢ä¸º github.com.cnpmjs.orgå³å¯</p>
<!-- more -->
<figure data-type="image" tabindex="1"><img src="https://imcm.xyz/post-images/1616031519815.jpg" alt="" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è§£æ”¾é¼ æ ‡æ‰‹ï¼Œæˆä¸ºé”®ç›˜ä¾ ï¼šmacOS å¸¸ç”¨å¿«æ·é”®åˆ†äº«]]></title>
        <id>https://imcm.xyz/ac-shortcut/</id>
        <link href="https://imcm.xyz/ac-shortcut/">
        </link>
        <updated>2021-03-15T12:57:32.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€â€</h2>
<p>ä½œä¸ºMacç”µè„‘çš„é‡åº¦ä½¿ç”¨è€…ï¼Œå¦‚æœåªä½¿ç”¨é¼ æ ‡æ“ä½œï¼Œä¸å¯é¿å…çš„ä¼šé™ä½ä½¿ç”¨æ•ˆç‡ï¼Œæ‰€ä»¥å¿«æ·é”®æ˜¾å¾—å°¤ä¸ºä¾¿æ·ï¼Œæœ¬æ–‡å°†åˆ†äº«ç¬”è€…ä½œä¸ºç¨‹åºçŒ¿ğŸ’å¸¸ç”¨çš„ä¸€äº›å¿«æ·é”®ï¼Œè§£æ”¾ä½ çš„é¼ æ ‡æ‰‹ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€â€</h2>
<p>ä½œä¸ºMacç”µè„‘çš„é‡åº¦ä½¿ç”¨è€…ï¼Œå¦‚æœåªä½¿ç”¨é¼ æ ‡æ“ä½œï¼Œä¸å¯é¿å…çš„ä¼šé™ä½ä½¿ç”¨æ•ˆç‡ï¼Œæ‰€ä»¥å¿«æ·é”®æ˜¾å¾—å°¤ä¸ºä¾¿æ·ï¼Œæœ¬æ–‡å°†åˆ†äº«ç¬”è€…ä½œä¸ºç¨‹åºçŒ¿ğŸ’å¸¸ç”¨çš„ä¸€äº›å¿«æ·é”®ï¼Œè§£æ”¾ä½ çš„é¼ æ ‡æ‰‹ã€‚</p>
<!-- more -->
<h2 id="å¿«æ·é”®æ ‡è¯†ç®€ä»‹">å¿«æ·é”®æ ‡è¯†ç®€ä»‹</h2>
<p>å½“ä½ åœ¨åº”ç”¨èœå•ä¸­å‘ç°éƒ¨åˆ†æ“ä½œé¡¹åè¾¹æœ‰ä¸€äº›ç‰¹æ®Šæ ‡è¯†è€Œä¸çŸ¥é“å¯¹åº”çš„å«ä¹‰æ—¶ï¼Œå¯ä»¥å…ˆå¯¹Macç‰¹æœ‰çš„æŒ‰é”®æ ‡è¯†åšä¸‹ç®€å•çš„äº†è§£ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼š</p>
<figure data-type="image" tabindex="1"><img src="https://imcm.xyz/post-images/1615802862051.png" alt="" loading="lazy"></figure>
<p>Macå¸¸ç”¨çš„ç‰¹æ®ŠæŒ‰é”®æ ‡è¯†æœ‰ä¸‹è¾¹è¿™äº›ï¼š</p>
<ul>
<li>
<p>âŒ˜ -- Command(Win)</p>
</li>
<li>
<p>âŒ¥ -- Option(Alt)</p>
</li>
<li>
<p>âŒƒ -- Control(Ctrl)</p>
</li>
<li>
<p>â‡§ -- Shift</p>
</li>
<li>
<p>â‹ -- Esc</p>
</li>
<li>
<p>â -- Enter</p>
</li>
<li>
<p>â‡ª -- Caps Lock</p>
</li>
<li>
<p>âŒ« -- Backspace(åˆ é™¤)</p>
</li>
<li>
<p>â‡¥ -- Tab</p>
</li>
</ul>
<p>å¯è°ƒå‡ºè™šæ‹Ÿé”®ç›˜ï¼ˆç‚¹å‡»é¡¶éƒ¨è¾“å…¥æ³•ï¼Œåœ¨ä¸‹æ‹‰èœå•ä¸­ï¼Œæ˜¾ç¤ºè™šæ‹Ÿé”®ç›˜é€‰é¡¹ï¼‰æŸ¥çœ‹å¯¹åº”é”®ä½ï¼ˆå¯¹åº”è‹¹æœMagic Keyboardå¦™æ§é”®ç›˜é”®ä½ï¼‰</p>
<figure data-type="image" tabindex="2"><img src="https://imcm.xyz/post-images/1615802870725.png" alt="" loading="lazy"></figure>
<h3 id="1-è°ƒåº¦ä¸­å¿ƒ">1ã€è°ƒåº¦ä¸­å¿ƒ</h3>
<p>å› ä¸ºéœ€è¦åŒæ—¶æ‰“å¼€å¤šä¸ªAppæˆ–è€…åŒä¸€Appçš„å¤šä¸ªçª—å£ï¼Œå¦‚æœæ”¾åˆ°åŒä¸€ä¸ªæ¡Œé¢ä¸Šï¼Œå¯»æ‰¾å¯¹åº”çš„çª—å£ä¼šéå¸¸çš„éº»çƒ¦ï¼Œæ­¤æ—¶Macæä¾›çš„è°ƒåº¦ä¸­å¿ƒï¼ˆå¤šæ¡Œé¢ç®¡ç†ï¼‰å°±å‘æŒ¥äº†è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œä¸»è¦é€‚ç”¨äºéè‹¹æœå®˜æ–¹é”®ç›˜ã€‚</p>
<ul>
<li>
<p>Ctrl+â†‘ æ‰“å¼€è°ƒåº¦ä¸­å¿ƒï¼Œé¡¶éƒ¨å³ä¾§æœ‰æ·»åŠ æŒ‰é’®ï¼Œå¯ä»¥æœ€å¤šåˆ›å»º16ä¸ªæ¡Œé¢ç©ºé—´ï¼Œç›¸å½“äºè‹¹æœé”®ç›˜F3</p>
</li>
<li>
<p>Ctrl+â†â†’  åˆ‡æ¢å·¦å³æ¡Œé¢ï¼Œç›¸å½“äºè‹¹æœé¼ æ ‡çš„äºŒæŒ‡è½»æ‰«</p>
</li>
<li>
<p>Ctrl+â†“ æ˜¾ç¤ºå½“å‰Appçš„æ‰€æœ‰çª—å£ï¼ŒåŒä¸€åº”ç”¨æ‰“å¼€å¤šä¸ªçª—å£æ—¶ä½¿ç”¨</p>
</li>
</ul>
<blockquote>
<p>å°æŠ€å·§ï¼š<br>
Appé»˜è®¤åªåœ¨ä¸€ä¸ªæ¡Œé¢ç©ºé—´ä¸­ä½¿ç”¨ï¼Œæ­¤æ—¶åœ¨å…¶ä»–æ¡Œé¢ä¸­ç‚¹å‡»Appæ—¶ï¼Œä¼šè‡ªåŠ¨åˆ‡æ¢å›åŸå…ˆæ‰“å¼€è¿‡çš„æ¡Œé¢ä¸­ï¼Œå¦‚æœæƒ³åœ¨å¤šä¸ªæ¡Œé¢ä¸­åŒæ—¶ä½¿ç”¨ï¼Œå¯ä»¥åœ¨ç¨‹åºåå·²å¯åŠ¨Appä¸Šå³é”®-é€‰é¡¹-åˆ†é…ç»™-æ‰€æœ‰æ¡Œé¢å³å¯ã€‚</p>
</blockquote>
<figure data-type="image" tabindex="3"><img src="https://imcm.xyz/post-images/1615802877944.png" alt="" loading="lazy"></figure>
<h3 id="2-ç³»ç»Ÿå¸¸ç”¨">2ã€ç³»ç»Ÿå¸¸ç”¨</h3>
<ul>
<li>
<p>Command+Tab  åœ¨å¤šä¸ªæ‰“å¼€çš„Appä¹‹é—´åˆ‡æ¢åˆ°æœ€è¿‘æ‰“å¼€çš„Appï¼ŒæŒ‰ä½Commandä¸æ”¾å³å¯ä½¿ç”¨ Tab/~ å‰ååˆ‡æ¢App</p>
</li>
<li>
<p>Command+~  åœ¨å½“å‰Appçš„ä¸åŒçª—å£ä¹‹é—´æ¥å›åˆ‡æ¢</p>
</li>
<li>
<p>Command+Space  æ‰“å¼€èšç„¦ï¼ˆSpotlightï¼‰å¿«æ·æœç´¢</p>
</li>
<li>
<p>Ctrl+Space  åˆ‡æ¢è¾“å…¥æ³•</p>
</li>
<li>
<p>Command+Ctrl+Space  è°ƒå‡ºemojiè¡¨æƒ…åŠç‰¹æ®Šç¬¦å·è¾“å…¥æ¡†</p>
</li>
<li>
<p>Command+Ctrl+F  å½“å‰Appè¿›å…¥å…¨å±æ¨¡å¼</p>
</li>
<li>
<p>Command+Option+Esc  è°ƒå‡ºAppå¼ºåˆ¶é€€å‡ºçª—å£ï¼ŒAppæ— å“åº”æ—¶ä½¿ç”¨ï¼ˆå¯èƒ½å¯¼è‡´ä¿®æ”¹å†…å®¹æœªä¿å­˜ï¼‰</p>
</li>
</ul>
<h3 id="3-ç³»ç»Ÿæˆªå›¾">3ã€ç³»ç»Ÿæˆªå›¾</h3>
<ul>
<li>
<p>Command+Shift+3  å…¨å±æˆªå›¾</p>
</li>
<li>
<p>Command+Shift+4  å¯é€‰æ‹©éƒ¨åˆ†åŒºåŸŸæˆªå›¾</p>
</li>
<li>
<p>Command+Shift+4+Space  å¯¹é€‰å®šAppæ•´ä¸ªçª—å£è¿›è¡Œæˆªå›¾</p>
</li>
</ul>
<h3 id="4-å¼€å…³æœº-ç¡çœ ">4ã€å¼€å…³æœºã€ç¡çœ </h3>
<p>ç¬”è€…å·¥ä½œä½¿ç”¨iMacï¼Œç”µæºé”®ä¸å¥½æŒ‰ï¼Œæ‰€ä»¥å¼€å…³æœºå¿«æ·é”®è¿˜æ˜¯æ¯”è¾ƒé€‚ç”¨äºç¬”è®°æœ¬ç³»åˆ—ã€‚</p>
<ul>
<li>
<p>Ctrl+ç”µæºé”®  å¼¹çª—è¯¢é—®é‡å¯ã€ç¡çœ è¿˜æ˜¯å…³æœº</p>
</li>
<li>
<p>Command+Ctrl+ç”µæºé”®  å¼ºåˆ¶é‡å¯ï¼Œä¸ä¼šè¯¢é—®æ˜¯å¦ä¿å­˜</p>
</li>
<li>
<p>Command+Ctrl+Q  ç«‹å³é”å®šå±å¹•ï¼ˆå¯èƒ½å’Œå”¤èµ·QQå¿«æ·é”®å†²çªï¼Œéœ€è¦æ”¹ä¸‹é…ç½®ï¼‰</p>
</li>
<li>
<p>Command+Shift+Q  é€€å‡ºå½“å‰ç™»å½•çš„ç”¨æˆ·è´¦å·</p>
</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šéƒ¨åˆ†å¼€å…³æœºå¿«æ·é”®ä¸é€‚ç”¨äºå¸¦TouchIDè§£é”çš„æœºå‹</p>
</blockquote>
<h3 id="5-finderè®¿è¾¾">5ã€Finderï¼ˆè®¿è¾¾ï¼‰</h3>
<ul>
<li>
<p>Command+Shift+G  æ‰“å¼€â€œå‰å¾€æ–‡ä»¶å¤¹â€çª—å£</p>
</li>
<li>
<p>Command+N  æ–°å»ºFinderçª—å£</p>
</li>
<li>
<p>Command+Shift+N  æ–°å»ºæ–‡ä»¶å¤¹</p>
</li>
<li>
<p>Command+Backspace  åˆ é™¤é€‰ä¸­æ–‡ä»¶ã€æ–‡ä»¶å¤¹</p>
</li>
<li>
<p>Command+Shift+Backspace  æ¸…å€’åºŸçº¸ç¯“</p>
</li>
<li>
<p>Command+K  æ‰“å¼€â€œè¿æ¥æœåŠ¡å™¨â€çª—å£</p>
</li>
<li>
<p>Command+i  æ˜¾ç¤ºæ‰€é€‰æ–‡ä»¶çš„â€œæ˜¾ç¤ºç®€ä»‹â€çª—å£</p>
</li>
<li>
<p>OptionåŠ æ‹–ç§»  æ‹·è´æ–‡ä»¶ã€æ–‡ä»¶å¤¹</p>
</li>
<li>
<p>Command+Shift+.  æ§åˆ¶éšè—æ–‡ä»¶çš„æ˜¾éšï¼ˆåœ¨ macOS SierraåŠä»¥ä¸Šç³»ç»Ÿ(Mojave)ä¸­ç”Ÿæ•ˆï¼Œä½ç‰ˆæœ¬ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ç»ˆç«¯å‘½ä»¤è¡Œæ§åˆ¶ï¼‰</p>
</li>
</ul>
<h3 id="6-æµè§ˆå™¨">6ã€æµè§ˆå™¨</h3>
<ul>
<li>
<p>Command+T  æ‰“å¼€æ–°æ ‡ç­¾é¡µ</p>
</li>
<li>
<p>Command+Shift+T  æ¢å¤ä¸Šæ¬¡å…³é—­çš„ç½‘é¡µï¼ˆå…³æœºæ—¶æœªé€‰æ‹©å†æ¬¡ç™»å½•é‡æ–°æ‰“å¼€çª—å£çš„å¿…å¤‡æŠ€èƒ½ï¼‰</p>
</li>
<li>
<p>Command+L  å…‰æ ‡ç§»åŠ¨åˆ°åœ°å€æ ï¼Œå¿«é€Ÿè¾“å…¥ç½‘å€</p>
</li>
<li>
<p>Command+Option+â†â†’  å‰ååˆ‡æ¢æ ‡ç­¾é¡µ</p>
</li>
<li>
<p>Command+Shift+R  å¼ºåˆ¶åˆ·æ–°</p>
</li>
</ul>
<h3 id="7-xcode">7ã€Xcode</h3>
<p>Appleå®˜æ–¹é›†æˆå¼€å‘å·¥å…·ï¼ˆIDEï¼‰ï¼Œæ­¤éƒ¨åˆ†é’ˆå¯¹iOSerã€‚</p>
<ul>
<li>
<p>Command+Shift+J  å¿«é€Ÿå®šä½é€‰ä¸­æ–‡ä»¶ä½ç½®</p>
</li>
<li>
<p>Command+Shift+O  å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶</p>
</li>
<li>
<p>Command+Shift+K  æ¸…ç†ç¼“å­˜clean</p>
</li>
<li>
<p>Command+Shift+Y  è¾“å‡ºæ§åˆ¶å°æ˜¾éš</p>
</li>
<li>
<p>Command+Ctrl+â†â†’  åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶</p>
</li>
<li>
<p>Ctrl+i  é€‰ä¸­ä»£ç å¯¹é½</p>
</li>
</ul>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„æ‰€æœ‰å†…å®¹äº†ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼æ›´å¤šå¿«æ·é”®å¯è®¿é—®å‚è€ƒé“¾æ¥æŸ¥çœ‹</p>
<p>è½¬è‡ª:<a href="https://www.ithome.com/0/540/134.htm">ITä¹‹å®¶</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Watchtower - è‡ªåŠ¨æ›´æ–° Docker é•œåƒä¸å®¹å™¨]]></title>
        <id>https://imcm.xyz/watchtower-auto-update-docker/</id>
        <link href="https://imcm.xyz/watchtower-auto-update-docker/">
        </link>
        <updated>2021-03-05T12:54:48.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p><a href="https://containrrr.github.io/watchtower/">Watchtower</a> æ˜¯ä¸€æ¬¾å®ç°è‡ªåŠ¨åŒ–æ›´æ–° Docker é•œåƒä¸å®¹å™¨çš„å®ç”¨å·¥å…·.å®ƒç›‘æ§ç€æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ä»¥åŠç›¸å…³é•œåƒ,å½“æ£€æµ‹æœ¬åœ°é•œåƒä¸é•œåƒä»“åº“ä¸­çš„é•œåƒæœ‰å·®å¼‚æ—¶,ä¼šè‡ªåŠ¨æ‹‰å–æœ€æ–°é•œåƒå¹¶ä½¿ç”¨æœ€åˆéƒ¨ç½²æ—¶çš„å‚æ•°é‡æ–°å¯åŠ¨ç›¸åº”çš„å®¹å™¨.</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p><a href="https://containrrr.github.io/watchtower/">Watchtower</a> æ˜¯ä¸€æ¬¾å®ç°è‡ªåŠ¨åŒ–æ›´æ–° Docker é•œåƒä¸å®¹å™¨çš„å®ç”¨å·¥å…·.å®ƒç›‘æ§ç€æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ä»¥åŠç›¸å…³é•œåƒ,å½“æ£€æµ‹æœ¬åœ°é•œåƒä¸é•œåƒä»“åº“ä¸­çš„é•œåƒæœ‰å·®å¼‚æ—¶,ä¼šè‡ªåŠ¨æ‹‰å–æœ€æ–°é•œåƒå¹¶ä½¿ç”¨æœ€åˆéƒ¨ç½²æ—¶çš„å‚æ•°é‡æ–°å¯åŠ¨ç›¸åº”çš„å®¹å™¨.</p>
<!-- more -->
<h2 id="éƒ¨ç½²">éƒ¨ç½²</h2>
<h3 id="å¿«é€Ÿå¯åŠ¨">å¿«é€Ÿå¯åŠ¨</h3>
<p>æ‰§è¡Œä»¥ä¸‹æ ‡å‡†å‘½ä»¤å¯åŠ¨ WatchÂ­tower å®¹å™¨,å¹¶æ¯ 5 åˆ†é’Ÿä¸€æ¬¡æ£€æŸ¥æ‰€æœ‰å®¹å™¨çš„é•œåƒæ˜¯å¦ä¸ºæœ€æ–°ç‰ˆ,å¦‚å‘ç°é•œåƒæ›´æ–°å°†ä¼šè‡ªåŠ¨åœæ­¢å®¹å™¨,åˆ é™¤å®¹å™¨,æ‹‰å–æœ€æ–°é•œåƒ,åœ¨ä»¥ä¹‹å‰å¯åŠ¨å®¹å™¨çš„å‘½ä»¤å¯åŠ¨å®¹å™¨.</p>
<pre><code class="language-shell">docker run -d \
    --name watchtower \
    -v /var/run/docker.sock:/var/run/docker.sock \
    containrrr/watchtower
</code></pre>
<h3 id="æ¸…ç†æ—§é•œåƒ">æ¸…ç†æ—§é•œåƒ</h3>
<p>é•œåƒåœ¨æ›´æ–°åæ—§é•œåƒæ ‡ç­¾ä¼šå˜ä¸ºnone,é•¿æœŸè‡ªåŠ¨æ›´æ–°ä¼šå¯¼è‡´è¿‡å¤šçš„noneé•œåƒå ç”¨ç©ºé—´,åŠ å…¥--cleanupå‚æ•°å¯ä»¥åœ¨æ¯æ¬¡æ›´æ–°åè‡ªåŠ¨åˆ é™¤noneé•œåƒ.</p>
<pre><code class="language-shell">docker run -d \
    --name watchtower \
    --restart always \
    -v /var/run/docker.sock:/var/run/docker.sock \
    containrrr/watchtower \
    --cleanup
</code></pre>
<h3 id="æŒ‡å®šå®¹å™¨æ›´æ–°">æŒ‡å®šå®¹å™¨æ›´æ–°</h3>
<p>å¦‚æ— éœ€è‡ªåŠ¨æ›´æ–°æ‰€æœ‰ç¨³å®šè¿è¡Œçš„å®¹å™¨,å¯ä»¥é…ç½®ä»…æ›´æ–°æŒ‡å®šå®¹å™¨,åªéœ€è¦åœ¨å‘½ä»¤ååŠ ä¸Šå®¹å™¨å.ä¾‹å¦‚åªæ›´æ–°nginxå’Œredis.</p>
<pre><code class="language-shell">docker run -d \
    --name watchtower \
    --restart always \
    -v /var/run/docker.sock:/var/run/docker.sock \
    containrrr/watchtower \
    --cleanup \
    nginx redis
</code></pre>
<blockquote>
<p>æ³¨æ„æŒ‡å®šå®¹å™¨éœ€å¡«å†™ å®¹å™¨å ,å¹¶éé•œåƒå.ç”±äºéƒ¨åˆ†å®¹å™¨å¯åŠ¨æ—¶å¯èƒ½æ²¡æœ‰å®šä¹‰ --name å‚æ•°,è¯·æ‰§è¡Œ docker ps æŸ¥è¯¢æ ¸å¯¹å®¹å™¨å.</p>
</blockquote>
<h3 id="é…ç½®è‡ªåŠ¨æ›´æ–°é¢‘ç‡">é…ç½®è‡ªåŠ¨æ›´æ–°é¢‘ç‡</h3>
<p>WatchÂ­tower é»˜è®¤æ¯ 5 åˆ†é’Ÿè½®è¯¢ä¸€æ¬¡,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‚æ•°é…ç½®æ›´æ–°çš„é¢‘ç‡.</p>
<ul>
<li>--interval,-i é…ç½®æ›´æ–°å‘¨æœŸ,é»˜è®¤300ç§’.</li>
<li>--schedule,-s é…ç½®å®šæ—¶æ›´æ–°,ä½¿ç”¨Cronè¡¨è¾¾å¼,ä¾‹å¦‚&quot;0 0 1 * * *&quot;.å³æ¯å¤©å‡Œæ™¨1ç‚¹æ›´æ–°.</li>
</ul>
<blockquote>
<p>æ³¨æ„:å½“ä½¿ç”¨ -s å‚æ•°æ¥é…ç½®å®šæ—¶æ›´æ–°æ—¶,ç”±äºå®¹å™¨å†…é»˜è®¤ä¸º UTC æ—¶é—´,ä¸Šè¿°è®¾ç½®çš„ å‡Œæ™¨1ç‚¹ å®é™…ä¸Šæ˜¯åŒ—äº¬æ—¶é—´ æ—©ä¸Š9ç‚¹ .å¯ä»¥é€šè¿‡åŠ ä¸Š -e TZ=Asia/Shanghai ç¯å¢ƒå˜é‡æ¥å®šä¹‰æ—¶åŒº,æ­¤æ—¶é…ç½®çš„æ—¶é—´åˆ™ä¸ºåŒ—äº¬æ—¶é—´.</p>
</blockquote>
<h3 id="æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡">æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡</h3>
<pre><code class="language-shell">docker run -d \
    --name watchtower \
    --restart always \
    -v /var/run/docker.sock:/var/run/docker.sock \
    containrrr/watchtower \
    --cleanup \
    -i 3600
</code></pre>
<h3 id="æ¯å¤©å‡Œæ™¨1ç‚¹æ›´æ–°åŒ—äº¬æ—¶é—´">æ¯å¤©å‡Œæ™¨1ç‚¹æ›´æ–°ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰</h3>
<pre><code class="language-shell">docker run -d \
    --name watchtower \
    --restart always \
    -e TZ=Asia/Shanghai \
    -v /var/run/docker.sock:/var/run/docker.sock \
    containrrr/watchtower \
    --cleanup \
    -s &quot;0 0 1 * * *&quot;
</code></pre>
<h3 id="æ‰‹åŠ¨æ›´æ–°">æ‰‹åŠ¨æ›´æ–°</h3>
<p>ä½¿ç”¨æ‰‹åŠ¨æ›´æ–°çš„æ–¹å¼,è¿è¡Œä¸€æ¬¡WatchÂ­towerå®¹å™¨æ¥æ›´æ–°æ‰€éœ€çš„å®¹å™¨,æ›´æ–°åä¼šè‡ªåŠ¨åˆ é™¤æœ¬æ¬¡è¿è¡Œçš„WatchÂ­towerå®¹å™¨.åªéœ€è¦åŠ ä¸Š--rmå’Œ--run-onceå‚æ•°å³å¯.åŒæ—¶ä¹Ÿå¯ä»¥é…åˆä»¥ä¸ŠæŒ‡å®šå®¹å™¨æˆ–æŒ‡å®šæ’é™¤å®¹å™¨çš„å‚æ•°æ¥ä½¿ç”¨.</p>
<h4 id="æ‰‹åŠ¨æ›´æ–°æ‰€æœ‰å®¹å™¨">æ‰‹åŠ¨æ›´æ–°æ‰€æœ‰å®¹å™¨</h4>
<pre><code class="language-shell">docker run --rm \
    -v /var/run/docker.sock:/var/run/docker.sock \
    containrrr/watchtower \
    --cleanup \
    --run-once
</code></pre>
<h4 id="æ‰‹åŠ¨æ›´æ–°æŒ‡å®šå®¹å™¨">æ‰‹åŠ¨æ›´æ–°æŒ‡å®šå®¹å™¨</h4>
<pre><code class="language-shell">docker run --rm \
    -v /var/run/docker.sock:/var/run/docker.sock \
    containrrr/watchtower \
    --cleanup \
    --run-once \
    nginx redis
</code></pre>
<blockquote>
<p>æ³¨æ„æŒ‡å®šå®¹å™¨éœ€å¡«å†™ å®¹å™¨å ,å¹¶éé•œåƒå.ç”±äºéƒ¨åˆ†å®¹å™¨å¯åŠ¨æ—¶å¯èƒ½æ²¡æœ‰å®šä¹‰ --name å‚æ•°,è¯·æ‰§è¡Œ docker ps æŸ¥è¯¢æ ¸å¯¹å®¹å™¨å.<br>
æ‰‹åŠ¨è¿è¡Œæ›´æ–°æ—¶ä¼šå‡ºç°ä»¥ä¸‹æ¶ˆæ¯,è¡¨ç¤ºæ­£åœ¨æ›´æ–°,è¯·è€å¿ƒç­‰å¾…å‡ åˆ†é’Ÿ.</p>
</blockquote>
<pre><code class="language-shell">time=&quot;2020-02-18T03:58:24Z&quot; level=info msg=&quot;Running a one time update.&quot;
</code></pre>
<p>éšåæç¤ºæ‰¾åˆ°æ›´æ–°é•œåƒ,åœæ­¢å®¹å™¨,æ›´æ–°é•œåƒ,é‡å¯å®¹å™¨å¹¶ç§»é™¤æ—§é•œåƒ.è‡³æ­¤æ›´æ–°å®Œæ¯•.</p>
<pre><code class="language-shell">time=&quot;2020-02-18T04:02:45Z&quot; level=info msg=&quot;Found new xxxx/xxxx:latest image (sha256:10383f5b5720d7e1fxxxx137034c69b7f6xxxxxxafcc4e9d508b561af77)&quot;
time=&quot;2020-02-18T04:02:45Z&quot; level=info msg=&quot;Stopping /xxxx (2e9ce1ebe319f3a35d80bxxxxxxxxxx6763ada155da957acb24fe76fc8a8c5) with SIGTERM&quot;
time=&quot;2020-02-18T04:02:46Z&quot; level=info msg=&quot;Creating /xxxx&quot;
time=&quot;2020-02-18T04:02:46Z&quot; level=info msg=&quot;Removing image sha256:ff4ee4caaa237174080c0d545xxxxxxxxxxxxxxx5d740ddc51e7737839cb5&quot;
</code></pre>
<h2 id="ç»“è¯­">ç»“è¯­</h2>
<p>å…¶ä»–æ›´å¤šå‚æ•°ä»¥åŠåŠŸèƒ½è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£: <a href="https://containrrr.github.io/watchtower/">Watchtower</a></p>
<p>è½¬è‡ª: <a href="https://www.ioiox.com/archives/84.html">IOIOX</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¦‚ä½•åœ¨Raspberry Piä¸Šå®‰è£…Dockerå’ŒPortainerï¼]]></title>
        <id>https://imcm.xyz/docker-portainer/</id>
        <link href="https://imcm.xyz/docker-portainer/">
        </link>
        <updated>2021-02-22T11:36:57.000Z</updated>
        <summary type="html"><![CDATA[<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ç ”ç©¶å¦‚ä½•åœ¨Raspberry Piä¸Šå®‰è£…Dockerå’ŒPortainerã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ç ”ç©¶å¦‚ä½•åœ¨Raspberry Piä¸Šå®‰è£…Dockerå’ŒPortainerã€‚</p>
<!-- more -->
<p>è¿™ä¸ªè¿‡ç¨‹éå¸¸ç®€å•ï¼Œåœ¨ä»¥åçš„æ•™ç¨‹ä¸­å°†ä½¿ç”¨Portaineræ¥è®¾ç½®ä¸åŒçš„dockerå®¹å™¨ï¼Œå› æ­¤è¿™æ˜¯è¦ç ”ç©¶çš„ç¬¬ä¸€ä»¶äº‹ã€‚è¯¥æ ‘è“æ´¾4ç”¨ä»¥ä½œä¸ºå°ï¼Œå› ä¸ºå®ƒæ˜¯éå¸¸å¼ºå¤§çš„ã€‚ç»“åˆå¤§é‡çš„å¤§å‹Dockerå®¹å™¨ä¸éœ€è¦å¼ºå¤§çš„CPUçš„äº‹å®ï¼Œåœ¨Raspberry Piä¸Šè¿è¡ŒæŸäº›Dockerå®¹å™¨å¯¹äºè®¸å¤šäººæ¥è¯´æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
<p>ä»¥ä¸‹æ­¥éª¤å°†åˆ©ç”¨Raspberry Pi OSçš„å…¨æ–°å®‰è£…ã€‚å¦‚æœæ‚¨ä¸ç¡®å®šå¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œï¼Œè¯·åœ¨æ­¤å¤„è¿›è¡Œè¯´æ˜ã€‚</p>
<h3 id="æ‰€éœ€çš„ç¡¬ä»¶">æ‰€éœ€çš„ç¡¬ä»¶</h3>
<ul>
<li>
<p>Raspbery Pi 4ï¼šDockerå’ŒPortainerå¯ä»¥å®‰è£…åœ¨è¾ƒæ—§çš„Raspberry Piè®¾å¤‡ä¸Šï¼Œä½†æ˜¯Raspberry Pi 4æ¯”è¾ƒæ—§çš„è®¾å¤‡å…·æœ‰æ›´å¤§çš„å¤„ç†èƒ½åŠ›ï¼Œè¿™å°†å¸¦æ¥æ›´å¥½çš„æ€§èƒ½ã€‚</p>
</li>
<li>
<p>å¾®å‹SDå¡ï¼šè¿™é‡Œä¸éœ€è¦ä»»ä½•ç–¯ç‹‚çš„ä¸œè¥¿ï¼Œåªéœ€ä¸€ä¸ªå…·æœ‰è¶³å¤Ÿå­˜å‚¨ç©ºé—´çš„ä¼˜è´¨å¾®å‹SDå¡å³å¯ã€‚</p>
</li>
<li>
<p>ç”µæºï¼šä¸ºRaspberry Piä¾›ç”µã€‚</p>
</li>
<li>
<p>HDMIç”µç¼†ï¼šé€šå¸¸é€šè¿‡SSHè¿æ¥åˆ°Raspberry Piè®¾å¤‡ï¼Œå› æ­¤ä»…å½“æ‚¨æ‰“ç®—å°†Raspberry Piè¿æ¥åˆ°æ˜¾ç¤ºå™¨æ—¶æ‰éœ€è¦ã€‚</p>
</li>
</ul>
<h3 id="è¯´æ˜-åœ¨raspberry-piä¸Šå®‰è£…dockerå’Œportainer">è¯´æ˜-åœ¨Raspberry Piä¸Šå®‰è£…Dockerå’ŒPortainer</h3>
<ol>
<li>é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç¡®ä¿æ‚¨çš„Raspberry Piæ˜¯æœ€æ–°çš„ã€‚</li>
</ol>
<pre><code class="language-shell">sudo apt update
sudo apt upgrade -y
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://imcm.xyz/post-images/1613976193237.webp" alt="" loading="lazy"></figure>
<ol start="2">
<li>æ¥ä¸‹æ¥è¦è¿è¡Œçš„è„šæœ¬æ˜¯åœ¨Raspberry Piä¸Šå®‰è£…Dockerçš„è„šæœ¬ã€‚Portaineræ˜¯ç”¨äºç®¡ç†Dockerå®¹å™¨çš„GUIï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç¡®ä¿å·²å®‰è£…Dockerã€‚</li>
</ol>
<pre><code class="language-shell">curl -sSL https://get.docker.com |  sh
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://imcm.xyz/post-images/1613976202912.webp" alt="" loading="lazy"></figure>
<ol start="3">
<li>è„šæœ¬å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦ä¸ºPiç”¨æˆ·å¸æˆ·æˆäºˆDockerè®¿é—®æƒé™ã€‚</li>
</ol>
<pre><code class="language-shell">sudo usermod -aG docker pi
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://imcm.xyz/post-images/1613976214762.webp" alt="" loading="lazy"></figure>
<ol start="4">
<li>æ·»åŠ ç”¨æˆ·åï¼Œæˆ‘ä»¬å°†è¿è¡Œå‘½ä»¤ä»¥ä¸‹è½½ç”¨äºARMå¤„ç†å™¨çš„æœ€æ–°Portaineræ˜ åƒï¼ˆRaspberry Piä½¿ç”¨çš„æ˜ åƒï¼‰ã€‚</li>
</ol>
<pre><code class="language-shell">sudo docker pull portainer/portainer-ce:alpine
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://imcm.xyz/post-images/1613976221298.webp" alt="" loading="lazy"></figure>
<ol start="5">
<li>æˆ‘ä»¬çš„æœ€åä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªå°†è¿è¡ŒPortainerçš„æ–°å®¹å™¨ã€‚å¦‚æœæ‚¨å·²ç»å°†Raspberry Piä¸Šçš„ç«¯å£9000ç”¨äºå…¶ä»–ç”¨é€”ï¼ˆè¿™ä¸å¤ªå¯èƒ½ï¼‰ï¼Œåˆ™éœ€è¦æ›´æ”¹ä»¥ä¸‹ç«¯å£ã€‚</li>
</ol>
<pre><code class="language-shell">sudo docker run --restart always -d -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce:alpine
</code></pre>
<figure data-type="image" tabindex="5"><img src="https://imcm.xyz/post-images/1613976234190.webp" alt="" loading="lazy"></figure>
<ol start="6">
<li>ç°åœ¨ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨æµè§ˆå™¨è¾“å…¥Raspberry Piçš„IPåœ°å€å’Œç«¯å£9000æ¥è®¿é—®Portainerã€‚å½“æ‰“å¼€é¡µé¢æ—¶ï¼Œè¯·æ–°å»ºä¸€ä¸ªç”¨æˆ·åå’Œå¯†ç ã€‚</li>
</ol>
<pre><code class="language-shell">http://[RASPBERRY_PI_IP_ADDRESS]:9000
</code></pre>
<figure data-type="image" tabindex="6"><img src="https://imcm.xyz/post-images/1613976243565.webp" alt="" loading="lazy"></figure>
<ol start="7">
<li>
<p>é€‰æ‹©æœ¬åœ°å¹¶è¿æ¥ã€‚<br>
<img src="https://imcm.xyz/post-images/1613976251702.webp" alt="" loading="lazy"></p>
</li>
<li>
<p>ç°åœ¨ï¼Œåº”è¯¥å·²è¿æ¥åˆ°Portainerï¼<br>
<img src="https://imcm.xyz/post-images/1613976256721.webp" alt="" loading="lazy"></p>
</li>
</ol>
<h3 id="ç»“è®º">ç»“è®º</h3>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„è¿‡ç¨‹ï¼Œå¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·åœ¨è¯„è®ºä¸­ä¿ç•™ã€‚è°¢è°¢é˜…è¯»ï¼</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ ‘è“æ´¾å®ç°æ¸©æ§é£æ‰‡]]></title>
        <id>https://imcm.xyz/raspberry-smartfan/</id>
        <link href="https://imcm.xyz/raspberry-smartfan/">
        </link>
        <updated>2021-02-10T07:16:00.000Z</updated>
        <summary type="html"><![CDATA[<p>æ ‘è“æ´¾é£æ‰‡å£°éŸ³å¤ªå¤§äº†, éå¸¸å½±å“ç¡è§‰ï¼Œ ä¸å¼€é£æ‰‡cpuæ¸©åº¦åˆå¾ˆå®¹æ˜“å¤ªé«˜äº†</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ ‘è“æ´¾é£æ‰‡å£°éŸ³å¤ªå¤§äº†, éå¸¸å½±å“ç¡è§‰ï¼Œ ä¸å¼€é£æ‰‡cpuæ¸©åº¦åˆå¾ˆå®¹æ˜“å¤ªé«˜äº†</p>
<!-- more -->
<h3 id="å‡†å¤‡">å‡†å¤‡</h3>
<p>æœé‚¦çº¿æ¯å¯¹æ¯2æ ¹, å…¬å¯¹æ¯2æ ¹, ç›´æ¥æ·˜å®ä¹°40pinçš„2æ’<br>
ä¸‰æç®¡S85501ä¸ªï¼Œæ·˜å®ä¹°2å—é’±50ä¸ªåŒ…é‚®<br>
S8550ä¸ºPNPå‹ä¸‰æç®¡ï¼ŒåŸºææ–½åŠ ä½ç”µå¹³æ—¶æ‰å¯¼é€šç”µè·¯ï¼Œå¦‚æœæ˜¯ç”¨çš„NPNå‹ä¸‰æç®¡åˆ™ä¸ä¹‹ç›¸å<br>
æ ‘è“æ´¾å°é£æ‰‡1ä¸ª<br>
æ ‘è“æ´¾å¼•è„š:<br>
<img src="https://imcm.xyz/post-images/1612941425828.png" alt="" loading="lazy"></p>
<p>ä¸‰æç®¡å¼•è„š:<br>
<img src="https://imcm.xyz/post-images/1612941453685.jpeg" alt="" loading="lazy"></p>
<ul>
<li>
<p>E: å‘å°„æœº<br>
æ­£çº§(æ¥ç”µæºæ­£æ, 5V)<br>
å¯æ¥æ ‘è“æ´¾4å·å¼•è„š</p>
</li>
<li>
<p>B: åŸºçº§<br>
ä¿¡å·ææ§åˆ¶æ˜¯å¦é€šç”µ(GPIO)<br>
å¯ä»¥æ¥æ ‘è“æ´¾8å·å¼•è„š</p>
</li>
<li>
<p>Cï¼šé›†ç”µæ<br>
è´Ÿæ (æ¥ç”µæºè´Ÿæ, Ground)<br>
å¯ä»¥æ¥æ ‘è“æ´¾6å·å¼•è„š</p>
</li>
</ul>
<h3 id="æ¥çº¿">æ¥çº¿</h3>
<ol>
<li>é£æ‰‡çº¢çº¿(æ­£æ)æ¥æ ‘è“æ´¾5Vï¼Œå¦‚4å·å¼•è„š</li>
<li>é£æ‰‡é»‘çº¿(è´Ÿæ)æ¥ä¸‰æç®¡C(é›†ç”µé›†)</li>
<li>ä¸‰æç®¡E(å‘å°„æ)æ¥æ ‘è“æ´¾Ground, å¦‚6å·å¼•è„š</li>
<li>ä¸‰æç®¡Bçº§, æ¥æ ‘è“æ´¾GPIOï¼Œå¦‚8å·å¼•è„š<br>
å¦‚å›¾:<br>
<img src="https://imcm.xyz/post-images/1612941492479.png" alt="" loading="lazy"></li>
</ol>
<h3 id="pythonç¨‹åºé£æ‰‡">Pythonç¨‹åºé£æ‰‡</h3>
<p>åœ¨pythonäº¤äº’å¼å‘½ä»¤è¡Œä¸‹æµ‹è¯•ä¸‹æ˜¯å¦å¯è¡Œ</p>
<pre><code class="language-shell">pi@raspberrypi:~/script $ python
Python 2.7.16 (default, Apr  6 2019, 01:42:57) 
[GCC 8.2.0] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import RPi.GPIO as GPIO
&gt;&gt;&gt; GPIO_OUT = 14
&gt;&gt;&gt; GPIO.setmode(GPIO.BCM)
&gt;&gt;&gt; GPIO.setwarnings(False)
&gt;&gt;&gt; GPIO.setup(GPIO_OUT, GPIO.OUT, initial=GPIO.HIGH)
&gt;&gt;&gt; GPIO.output(GPIO_OUT, GPIO.LOW)  # é£æ‰‡å¼€
&gt;&gt;&gt; GPIO.output(GPIO_OUT, GPIO.HIGH) # é£æ‰‡å…³é—­
</code></pre>
<blockquote>
<p>æ³¨ï¼šPNPå‹ä¸‰æç®¡GPIO.LOWæ˜¯å¼€, HIGHæ˜¯å…³ï¼Œ NPNå‹ç›¸å</p>
</blockquote>
<h3 id="å®Œæ•´ç¨‹åº">å®Œæ•´ç¨‹åº:</h3>
<p><a href="https://raw.githubusercontent.com/lovehhf/raspi_script/master/smartfan.py">smartfan.py</a></p>
<h4 id="ä¸»è¦é€»è¾‘">ä¸»è¦é€»è¾‘:</h4>
<ol>
<li>è¯»å–/sys/class/thermal/thermal_zone0/tempå†…å®¹, é™¤1000è·å–CPUæ¸©åº¦</li>
<li>é£æ‰‡åˆå§‹çŠ¶æ€è®¾ç½®ä¸ºå…³é—­çŠ¶æ€</li>
<li>æ¸©åº¦ä½äº55åº¦ä¸”å½“å‰å¤„äºå…³é—­çŠ¶æ€å¼€æœºé£æ‰‡</li>
<li>æ¸©åº¦ä½äº45åº¦ä¸”å½“å‰å¤„äºå¼€å¯çŠ¶æ€å…³é—­é£æ‰‡</li>
<li>æ¯éš”15ç§’æŸ¥ä¸€ä¸‹æ¸©åº¦å¹¶æ›´æ–°çŠ¶æ€</li>
</ol>
<pre><code class="language-shell">mkdir -p /home/pi/script &amp;&amp; cd /home/pi/script
wget https://raw.githubusercontent.com/lovehhf/raspi_script/master/smartfan.py
</code></pre>
<h3 id="supervisorç®¡ç†pythonè¿›ç¨‹">supervisorç®¡ç†pythonè¿›ç¨‹</h3>
<p>æ·»åŠ é…ç½®æ–‡ä»¶: vim /etc/supervisor/conf.d/fan.conf:<br>
å†…å®¹å¦‚ä¸‹:</p>
<pre><code class="language-shell">[program:fan]
command=/usr/bin/python3 /home/pi/script/smartfan.py
user=root
directory=/home/pi/script
stdout_logfile=/var/log/supervisor/%(program_name)s-stdout.log
stderr_logfile=/var/log/supervisor/%(program_name)s-stderr.log
autorestart=true
autostart=true
</code></pre>
<p>é‡å¯supervisorå¹¶æŸ¥çœ‹çŠ¶æ€:</p>
<pre><code class="language-shell">pi@raspberrypi:/var/log $ sudo systemctl restart supervisor
pi@raspberrypi:/var/log $ sudo supervisorctl status fan
fan                              RUNNING   pid 3903, uptime 0:01:26
</code></pre>
<h3 id="æµ‹è¯•">æµ‹è¯•</h3>
<pre><code class="language-shell">sudo apt install stress
stress -c 50   # cpuå‹åŠ›æµ‹è¯•, å¼€50ä¸ªè¿›ç¨‹ä¸åœåœ°sqrt, ä¸€ä¸‹å­é£æ‰‡å°±è½¬èµ·æ¥äº†
tail -f /var/log/fan_control.log  # æŸ¥çœ‹æ—¥å¿—
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¦‚ä½•ä»ä¸»é¡¹ç›®æ›´æ–°forkçš„é¡¹ç›®]]></title>
        <id>https://imcm.xyz/git-fork/</id>
        <link href="https://imcm.xyz/git-fork/">
        </link>
        <updated>2021-01-29T13:36:15.000Z</updated>
        <summary type="html"><![CDATA[<h1 id="å¦‚ä½•ä»ä¸»é¡¹ç›®æ›´æ–°forkçš„é¡¹ç›®">å¦‚ä½•ä»ä¸»é¡¹ç›®æ›´æ–°forkçš„é¡¹ç›®ï¼Ÿ</h1>
<p>å½“æˆ‘ä»¬ä»é¡¹ç›®A forkäº†ä¸€ä»½åˆ°è‡ªå·±çš„ä»“åº“åï¼Œé¡¹ç›®Açš„ä½œè€…è¿˜æ˜¯ç»§ç»­æ›´æ–°ã€‚æˆ‘ä»¬è¯¥æ€ä¹ˆåœ¨ä¸é‡å¤forkçš„æƒ…å†µä¸‹ï¼Œæ›´æ–°é¡¹ç›®Açš„å†…å®¹åˆ°è‡ªå·±çš„ä»“åº“å‘¢ï¼Ÿ</p>
]]></summary>
        <content type="html"><![CDATA[<h1 id="å¦‚ä½•ä»ä¸»é¡¹ç›®æ›´æ–°forkçš„é¡¹ç›®">å¦‚ä½•ä»ä¸»é¡¹ç›®æ›´æ–°forkçš„é¡¹ç›®ï¼Ÿ</h1>
<p>å½“æˆ‘ä»¬ä»é¡¹ç›®A forkäº†ä¸€ä»½åˆ°è‡ªå·±çš„ä»“åº“åï¼Œé¡¹ç›®Açš„ä½œè€…è¿˜æ˜¯ç»§ç»­æ›´æ–°ã€‚æˆ‘ä»¬è¯¥æ€ä¹ˆåœ¨ä¸é‡å¤forkçš„æƒ…å†µä¸‹ï¼Œæ›´æ–°é¡¹ç›®Açš„å†…å®¹åˆ°è‡ªå·±çš„ä»“åº“å‘¢ï¼Ÿ</p>
<!-- more -->
<p>å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ“ä½œè¿›è¡Œã€‚</p>
<h4 id="step-1">step 1</h4>
<p>æ‰“å¼€ï¼šterminalï¼Œcdåˆ°è‡ªå·±forkågit cloneçš„projectä¸‹</p>
<p>é¦–å…ˆéœ€è¦æ‰“å¼€terminalç»ˆç«¯ï¼Œè¿›å…¥åˆ°ä»githubä¸Šforkçš„é¡¹ç›®ï¼Œå¹¶ä¸”è¯¥é¡¹ç›®è¢«git cloneçš„ä½ è‡ªå·±çš„æœ¬åœ°ç›®å½•ä¸‹ã€‚</p>
<h4 id="step-2">step 2</h4>
<pre><code class="language-shell">&gt; git remote add upstream https://github.com/xxxx/xxxx.git
</code></pre>
<p>ä¸ä¸Šæ¸¸ä»“åº“åŒæ­¥ä»£ç ä¹‹å‰ï¼Œå¿…é¡»é…ç½® remoteï¼Œâ€œxxxxâ€ä»£è¡¨ä½ éœ€è¦ä¸ä¹‹ä¿æŒåŒæ­¥çš„æ•°æ®æºï¼Œæœ¬æ¬¡lunnlewçš„AutoSignMachineä¸ºä¾‹ï¼Œgité¡¹ç›®åœ°å€<br>
<img src="https://imcm.xyz/post-images/1612145554103.png" alt="" loading="lazy"></p>
<p>æŸ¥çœ‹æœ¬åœ°è¿œç¨‹ä»“åº“</p>
<pre><code class="language-shell">&gt; git remote -v
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://imcm.xyz/post-images/1612145638658.png" alt="" loading="lazy"></figure>
<h4 id="step-3">step 3</h4>
<pre><code class="language-shell">&gt; git fetch upstream
</code></pre>
<p>ä»è¿œç¨‹forkä»“åº“æ›´æ–°åŒæ­¥ä»£ç <br>
<img src="https://imcm.xyz/post-images/1612145759397.png" alt="" loading="lazy"></p>
<h4 id="step-4">step 4</h4>
<pre><code class="language-shell">&gt; git merge upstream/main
</code></pre>
<p>è¿›è¡Œä¸»èŠ‚ç‚¹å’Œä¸Šæ¸¸èŠ‚ç‚¹æ•°æ®çš„åˆå¹¶<br>
<img src="https://imcm.xyz/post-images/1612145867583.png" alt="" loading="lazy"></p>
<h4 id="step-6">step 6</h4>
<pre><code class="language-shell">&gt; git push
</code></pre>
<p>åˆå¹¶åçš„æ–‡ä»¶è¿›è¡Œpushæ“ä½œï¼Œå°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ è‡³githubæœåŠ¡å™¨ä¸Šã€‚<br>
<img src="https://imcm.xyz/post-images/1612145911370.png" alt="" loading="lazy"></p>
<h4 id="tips">tips</h4>
<ol>
<li>ä½ è‡ªå·±çš„æ–‡ä»¶åœ¨pushåˆ°githubä¹‹å‰ä¸€å®šè¦è¿›è¡Œaddå’Œcommitçš„æ“ä½œï¼Œå¦åˆ™ä¼šæœ‰æŠ¥é”™çš„æç¤º</li>
<li>æ“ä½œå®Œæˆåï¼Œå»GitHubç¡®è®¤ï¼Œè‡ªå·±é¡¹ç›®æ–‡ä»¶å†…å®¹ä¸ä¸Šæ¸¸æ•°æ®ä¸€è‡´æ€§ï¼Œæ¥ä¸‹æ¥å†è¿›è¡Œpull requestæ“ä½œ</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ”¶é›†çš„Gitæ•™ç¨‹]]></title>
        <id>https://imcm.xyz/git-course/</id>
        <link href="https://imcm.xyz/git-course/">
        </link>
        <updated>2021-01-26T14:47:09.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="åœ¨ç½‘ç»œä¸Šæœé›†åˆ°çš„å…¨éƒ¨gitå­¦ä¹ èµ„æ–™">åœ¨ç½‘ç»œä¸Šæœé›†åˆ°çš„å…¨éƒ¨Gitå­¦ä¹ èµ„æ–™</h2>
]]></summary>
        <content type="html"><![CDATA[<h2 id="åœ¨ç½‘ç»œä¸Šæœé›†åˆ°çš„å…¨éƒ¨gitå­¦ä¹ èµ„æ–™">åœ¨ç½‘ç»œä¸Šæœé›†åˆ°çš„å…¨éƒ¨Gitå­¦ä¹ èµ„æ–™</h2>
<!-- more -->
<h3 id="1-å®éªŒæ¥¼">1. å®éªŒæ¥¼</h3>
<blockquote>
<p><a href="https://www.shiyanlou.com/" title="å®éªŒæ¥¼">https://www.shiyanlou.com/</a></p>
<p>å®éªŒæ¥¼æ˜¯å›½å†…é¢†å…ˆçš„ITæŠ€æœ¯å®è®­å¹³å°ï¼Œé‡‡ç”¨åˆ›æ–°çš„â€œåœ¨çº¿å®éªŒâ€å­¦ä¹ æ¨¡å¼ï¼Œä¸ºå­¦ç”ŸåŠåœ¨èŒç¨‹åºå‘˜æä¾›ç¼–ç¨‹ã€è¿ç»´ã€æµ‹è¯•ã€äº‘è®¡ç®—ã€å¤§æ•°æ®ã€æ•°æ®åº“ç­‰æœ€æ–°çš„ITæŠ€æœ¯å®è·µè¯¾ç¨‹ã€‚</p>
</blockquote>
<h3 id="2-å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™">2. å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™</h3>
<blockquote>
<p><a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" title="å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™">https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000</a></p>
<p><a href="http://weibo.com/liaoxuefeng">å»–é›ªå³°</a>ï¼Œåå¹´è½¯ä»¶å¼€å‘ç»éªŒï¼Œä¸šä½™äº§å“ç»ç†ï¼Œç²¾é€šJava/Python/Ruby/Visual Basic/Objective Cç­‰ï¼Œå¯¹å¼€æºæ¡†æ¶æœ‰æ·±å…¥ç ”ç©¶ï¼Œè‘—æœ‰ã€ŠSpring 2.0æ ¸å¿ƒæŠ€æœ¯ä¸æœ€ä½³å®è·µã€‹ä¸€ä¹¦ï¼Œå¤šä¸ªä¸šä½™å¼€æºé¡¹ç›®æ‰˜ç®¡åœ¨GitHub</p>
</blockquote>
<h3 id="3-git-ç®€æ˜æŒ‡å—">3. git - ç®€æ˜æŒ‡å—</h3>
<blockquote>
<p><a href="http://rogerdudler.github.io/git-guide/index.zh.html">http://rogerdudler.github.io/git-guide/index.zh.html</a></p>
<p>è¶…ç®€æ´å›¾æ–‡ä»‹ç»</p>
</blockquote>
<h3 id="4-å›¾è§£git">4. å›¾è§£git</h3>
<blockquote>
<p><a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html">http://marklodato.github.io/visual-git-guide/index-zh-cn.html</a></p>
</blockquote>
<h3 id="5-é˜³å¿—å¹³çš„ç½‘ç«™-å¦‚ä½•é«˜æ•ˆåˆ©ç”¨github">5. é˜³å¿—å¹³çš„ç½‘ç«™-ã€Šå¦‚ä½•é«˜æ•ˆåˆ©ç”¨GitHubã€‹</h3>
<blockquote>
<p><a href="http://www.yangzhiping.com/tech/github.html">http://www.yangzhiping.com/tech/github.html</a></p>
<p>æ­£æ˜¯Githubï¼Œè®©ç¤¾ä¼šåŒ–ç¼–ç¨‹æˆä¸ºç°å®ã€‚æœ¬æ–‡å°è¯•è°ˆè°ˆGitHubçš„æ–‡åŒ–ã€æŠ€å·§ä¸å½±å“ã€‚</p>
</blockquote>
<h3 id="6-pro-git">6. Pro Git</h3>
<blockquote>
<p><a href="http://iissnan.com/progit/">http://iissnan.com/progit/</a></p>
</blockquote>
<h3 id="7-æ˜“ç™¾æ•™ç¨‹">7. æ˜“ç™¾æ•™ç¨‹</h3>
<blockquote>
<p><a href="http://www.yiibai.com/git">http://www.yiibai.com/git</a></p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ ‘è“æ´¾ä½¿ç”¨Aria2æ­å»ºBTè¿œç¨‹ä¸‹è½½æœº]]></title>
        <id>https://imcm.xyz/pi-aria2/</id>
        <link href="https://imcm.xyz/pi-aria2/">
        </link>
        <updated>2021-01-07T10:31:28.000Z</updated>
        <summary type="html"><![CDATA[<p>å¼€ç€ç”µè„‘ä¸‹ç”µå½±é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œè€Œä¸”è¿˜å¾ˆè´¹ç”µï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨æ ‘è“æ´¾ï¼Œåˆ©ç”¨Aria2è¿™ä¸ªå·¥å…·ï¼Œæ­å»ºä¸€ä¸ªè¿œç¨‹ç¦»çº¿ä¸‹è½½æœºï¼Œæƒ³çœ‹çš„ç”µå½±ï¼Œæ¨é€åˆ°æ ‘è“æ´¾ä¸‹è½½åï¼Œä½¿ç”¨SMBå°±å¯ä»¥åœ¨ç”µè§†ä¸Šè§‚çœ‹äº†ã€‚è¦ä¸‹è½½å¤§æ–‡ä»¶ï¼ŒåŒæ ·æ¨é€åˆ°æ ‘è“æ´¾ä¸‹è½½ï¼Œå®Œæˆåå†æ‹‰åˆ°ç”µè„‘ä¸Šï¼Œéå¸¸æ–¹ä¾¿ï¼Œä»¥ä¸‹æ˜¯å…·ä½“çš„æ­å»ºè¿‡ç¨‹ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>å¼€ç€ç”µè„‘ä¸‹ç”µå½±é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œè€Œä¸”è¿˜å¾ˆè´¹ç”µï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨æ ‘è“æ´¾ï¼Œåˆ©ç”¨Aria2è¿™ä¸ªå·¥å…·ï¼Œæ­å»ºä¸€ä¸ªè¿œç¨‹ç¦»çº¿ä¸‹è½½æœºï¼Œæƒ³çœ‹çš„ç”µå½±ï¼Œæ¨é€åˆ°æ ‘è“æ´¾ä¸‹è½½åï¼Œä½¿ç”¨SMBå°±å¯ä»¥åœ¨ç”µè§†ä¸Šè§‚çœ‹äº†ã€‚è¦ä¸‹è½½å¤§æ–‡ä»¶ï¼ŒåŒæ ·æ¨é€åˆ°æ ‘è“æ´¾ä¸‹è½½ï¼Œå®Œæˆåå†æ‹‰åˆ°ç”µè„‘ä¸Šï¼Œéå¸¸æ–¹ä¾¿ï¼Œä»¥ä¸‹æ˜¯å…·ä½“çš„æ­å»ºè¿‡ç¨‹ã€‚</p>
<!-- more -->
<h2 id="ä¸€-å®‰è£…aria2">ä¸€ã€å®‰è£…Aria2</h2>
<pre><code class="language-shell">    sudo apt-get update
    sudo apt-get install aria2
</code></pre>
<h2 id="äºŒ-aria2é…ç½®">äºŒã€Aria2é…ç½®</h2>
<h3 id="21åˆ›å»ºé…ç½®æ–‡ä»¶">2.1åˆ›å»ºé…ç½®æ–‡ä»¶</h3>
<pre><code class="language-shell">    mkdir -p ~/.config/aria2/
    touch ~/.config/aria2/aria2.session
    nano ~/.config/aria2/aria2.config
</code></pre>
<h3 id="22æ·»åŠ å¦‚ä¸‹é…ç½®ä¿¡æ¯">2.2æ·»åŠ å¦‚ä¸‹é…ç½®ä¿¡æ¯</h3>
<pre><code class="language-shell">    # set your own path
    dir=[yourpath]
    disk-cache=32M
    file-allocation=trunc
    continue=true
    
    max-concurrent-downloads=10
    
    max-connection-per-server=16
    min-split-size=10M
    split=5
    max-overall-download-limit=0
    #max-download-limit=0
    #max-overall-upload-limit=0
    #max-upload-limit=0
    disable-ipv6=false
    
    save-session=~/.config/aria2/aria2.session
    input-file=~/.config/aria2/aria2.session
    save-session-interval=60
    
    
    enable-rpc=true
    rpc-allow-origin-all=true
    rpc-listen-all=true
    rpc-secret=secret
    #event-poll=select
    rpc-listen-port=6800
    
    
    # for PT user please set to false
    enable-dht=true
    enable-dht6=true
    enable-peer-exchange=true
    
    # for increasing BT speed
    listen-port=51413
    #follow-torrent=true
    #bt-max-peers=55
    #dht-listen-port=6881-6999
    #bt-enable-lpd=false
    #bt-request-peer-speed-limit=50K
    peer-id-prefix=-TR2770-
    user-agent=Transmission/2.77
    seed-ratio=0
    #force-save=false
    #bt-hash-check-seed=true
    bt-seed-unverified=true
    bt-save-metadata=true
    bt-tracker=http://93.158.213.92:1337/announce,udp://151.80.120.114:2710/announce,udp://62.210.97.59:1337/announce,udp://188.241.58.209:6969/announce,udp://80.209.252.132:1337/announce,udp://208.83.20.20:6969/announce,udp://185.181.60.67:80/announce,udp://194.182.165.153:6969/announce,udp://37.235.174.46:2710/announce,udp://5.206.3.65:6969/announce,udp://89.234.156.205:451/announce,udp://92.223.105.178:6969/announce,udp://51.15.40.114:80/announce,udp://207.241.226.111:6969/announce,udp://176.113.71.60:6961/announce,udp://207.241.231.226:6969/announce
</code></pre>
<p>ç„¶åå¯åŠ¨aria2ï¼š</p>
<pre><code class="language-shell">$ sudo aria2c --conf-path=/home/pi/.config/aria2/aria2.config
Exception caught
Exception: \[download\_helper.cc:563\] errorCode=1 Failed to open the file ~/.config/aria2/aria2.session, cause: File not found or it is a directory
</code></pre>
<p>ç»“æœå‡ºç°é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºæ‰¾ä¸åˆ°aria2.sessionæ–‡ä»¶å¯¼è‡´çš„ï¼Œåº”è¯¥æ˜¯æ— æ³•è¯†åˆ«â€œï½â€ç›®å½•é€ æˆçš„ï¼Œæ‰€ä»¥è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°†é…ç½®æ–‡ä»¶ä¸­çš„**â€œï½â€ä¿®æ”¹ä¸ºâ€œ/home/piâ€**å³å¯ã€‚</p>
<p>ä¿®æ”¹åå†æ¬¡å¯åŠ¨aria2ï¼š</p>
<pre><code class="language-shell">$ sudo aria2c --conf-path=/home/pi/.config/aria2/aria2.config
03/19 13:35:47 \[NOTICE\] IPv4 RPC: listening on TCP port 6800
03/19 13:35:47 \[NOTICE\] IPv6 RPC: listening on TCP port 6800
</code></pre>
<p>å¯ä»¥çœ‹åˆ°aria2å·²ç»æˆåŠŸå¯åŠ¨äº†ï¼</p>
<h2 id="ä¸‰-é…ç½®aria2å¼€æœºå¯åŠ¨">ä¸‰ã€é…ç½®aria2å¼€æœºå¯åŠ¨</h2>
<p>åˆ›å»ºsystemctl serviceæ–‡ä»¶</p>
<pre><code class="language-shell">    sudo nano /lib/systemd/system/aria2.service
</code></pre>
<p>User,conf-pathä¸‹æ¢æˆè‡ªå·±çš„username</p>
<pre><code class="language-shell">[Unit]
Description=Aria2 Service
After=network.target

[Service]
User=pi    
ExecStart=/usr/bin/aria2c --conf-path=/home/pi/.config/aria2/aria2.config

[Install]
WantedBy=default.target
</code></pre>
<p>é‡è½½æœåŠ¡å¹¶è®¾ç½®å¼€æœºå¯åŠ¨</p>
<pre><code class="language-shell">    sudo systemctl daemon-reload
    sudo systemctl enable aria2
    sudo systemctl start aria2
    sudo systemctl status aria2
</code></pre>
<p>çœ‹åˆ°å¦‚ä¸‹æ–‡å­—è¯æ˜å¯åŠ¨æˆåŠŸ(è®°ä½TCP portï¼ŒAiraNgé…ç½®ä»¥åŠå…¬ç½‘ç«¯å£æ˜ å°„éœ€è¦)</p>
<pre><code class="language-shell">$ sudo systemctl status aria2
â— aria2.service - Aria2 Service
   Loaded: loaded (/lib/systemd/system/aria2.service; enabled; vendor preset: enabled)
   Active: active (running) since Thu 2020-03-19 13:44:39 CST; 5s ago
 Main PID: 6798 (aria2c)
    Tasks: 1 (limit: 2200)
   Memory: 3.4M
   CGroup: /system.slice/aria2.service
           â””â”€6798 /usr/bin/aria2c --conf-path=/home/pi/.config/aria2/aria2.config

Mar 19 13:44:39 raspberrypi systemd\[1\]: Started Aria2 Service.
Mar 19 13:44:39 raspberrypi aria2c\[6798\]: 03/19 13:44:39 \[NOTICE\] IPv4 RPC: listening on TCP port 6800
Mar 19 13:44:39 raspberrypi aria2c\[6798\]: 03/19 13:44:39 \[NOTICE\] IPv6 RPC: listening on TCP port 6800
</code></pre>
<h2 id="å››-å®‰è£…ariangä»¥åœ¨ç½‘é¡µä¸Šè¿›è¡Œä¸‹è½½ç®¡ç†">å››ã€å®‰è£…AriaNgä»¥åœ¨ç½‘é¡µä¸Šè¿›è¡Œä¸‹è½½ç®¡ç†</h2>
<p>AriaNg æ˜¯ä¸€ä¸ªè®© aria2 æ›´å®¹æ˜“ä½¿ç”¨çš„ç°ä»£ Web å‰ç«¯. AriaNg ä½¿ç”¨çº¯ html &amp; javascript å¼€å‘, æ‰€ä»¥å…¶ä¸éœ€è¦ä»»ä½•ç¼–è¯‘å™¨æˆ–è¿è¡Œç¯å¢ƒ. åªè¦å°† AriaNg æ”¾åœ¨ Web æœåŠ¡å™¨é‡Œå¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å³å¯ä½¿ç”¨. AriaNg ä½¿ç”¨å“åº”å¼å¸ƒå±€, æ”¯æŒå„ç§è®¡ç®—æœºæˆ–ç§»åŠ¨è®¾å¤‡.</p>
<p>å®‰è£…AriaNgçš„å‰ææ˜¯æ ‘è“æ´¾ä¸Šå·²ç»é…ç½®å¥½äº†webç¯å¢ƒï¼Œå¦‚æœæ²¡æœ‰ï¼ŒæŒ‰ç…§<a href="http://www.lxx1.com/3696">æ ‘è“æ´¾å®‰è£… lnmp å¥—ä»¶æ­å»ºä¸ªäººåšå®¢ç½‘ç«™æœåŠ¡å™¨</a> çš„æ•™ç¨‹ï¼Œåœ¨æ ‘è“æ´¾ä¸Šå®‰è£…nginxè½¯ä»¶ï¼ˆâš ï¸æ³¨æ„ï¼šåªéœ€è¦å®‰è£…nginxå³å¯ï¼‰ã€‚</p>
<h4 id="å®‰è£…ariang">å®‰è£…AriaNg</h4>
<p>åœ¨<a href="https://github.com/mayswind/AriaNg/releases">è¿™é‡Œ</a>é€‰æ‹©æœ€æ–°ç‰ˆæœ¬çš„AriaNg.</p>
<pre><code>cd /var/www/html
wget https://github.com/mayswind/AriaNg/releases/download/1.0.0/AriaNg-1.0.0.zip
unzip AriaNg-1.0.0.zip -d aira
</code></pre>
<p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®<code>http://your-ip/aira</code>å³å¯æ‰“å¼€AriaNgäº†ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://imcm.xyz/post-images/1610013315460.png" alt="" loading="lazy"></figure>
<p>è¿™æ—¶AriaNgæ˜¾ç¤ºæœªè¿æ¥ï¼Œåœ¨â€œç³»ç»Ÿè®¾ç½®-ï¼ˆPRC192.168.0.108ï¼‰-Aria2 PRC å¯†é’¥ â€ä¸­ï¼Œè¾“å…¥â€œ<strong>secret</strong>â€ å³å¯è¿æ¥ï¼</p>
<p>ä¹‹åï¼Œå°±å¯ä»¥æ„‰å¿«çš„ç”¨æ ‘è“æ´¾ä¸‹è½½ç”µå½±æˆ–è€…æ–‡ä»¶äº†ï½</p>
<figure data-type="image" tabindex="2"><img src="https://imcm.xyz/post-images/1610013229922.png" alt="" loading="lazy"></figure>
<p>è½¬è½½è‡ª<a href="https://www.lxx1.com/">ç§‘æŠ€çˆ±å¥½è€…åšå®¢</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¸€ä¸‡å­—æ€»ç»“Vue2.6.X]]></title>
        <id>https://imcm.xyz/one-vue/</id>
        <link href="https://imcm.xyz/one-vue/">
        </link>
        <updated>2021-01-06T10:37:59.000Z</updated>
        <content type="html"><![CDATA[<h2 id="vue">Vue</h2>
<blockquote>
<p>å®˜ç½‘ä»‹ç»å®ƒæ˜¯ä¸€ä¸ªæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ ;</p>
<p>æ¸è¿›å¼æ¡†æ¶ : ä¸»å¼ æœ€å°‘ , æ¯ä¸ªæ¡†æ¶éƒ½ä¸å¯é¿å…ä¼šæœ‰è‡ªå·±çš„ä¸€äº›ç‰¹ç‚¹ , ä»è€Œå¯¹ä½¿ç”¨è€…æœ‰ä¸€å®šçš„è¦æ±‚ , è¿™äº›è¦æ±‚å°±æ˜¯ä¸»å¼  , ä¸»å¼ æœ‰å¼ºæœ‰å¼±ï¼Œå®ƒçš„å¼ºåŠ¿ç¨‹åº¦ä¼šå½±å“åœ¨ä¸šåŠ¡å¼€å‘ä¸­çš„ä½¿ç”¨æ–¹å¼ ; è€Œ Vue è™½ç„¶æœ‰å…¨å®¶æ¡¶å¥—é¤ , ä½†æ˜¯ä½ å¯ä»¥åªç”¨å®ƒçš„ä¸€éƒ¨åˆ† , è€Œä¸æ˜¯ç”¨äº†å®ƒçš„ æ ¸å¿ƒåº“ å°±å¿…é¡»ç”¨å®ƒçš„å…¨éƒ¨ .</p>
</blockquote>
<h2 id="å£°æ˜å¼æ¸²æŸ“">å£°æ˜å¼æ¸²æŸ“</h2>
<blockquote>
<p>Vue.js æä¾›äº†ç®€æ´çš„æ¨¡æ¿è¯­æ³•å£°æ˜å¼çš„å°†æ•°æ®æ¸²æŸ“è‡³ DOM ä¸­</p>
</blockquote>
<pre><code>&lt;div id=&quot;app&quot;&gt;
	{{ message }}
&lt;/div&gt;


const vm = new Vue({
	el: '#app',
	data: {
		message: 'hello vue'
	}
})
</code></pre>
<ul>
<li><code>el</code> : ã€€å…ƒç´ æŒ‚è½½ç‚¹ï¼›åªæœ‰åœ¨ new åˆ›å»ºå®ä¾‹çš„æ—¶å€™ç”Ÿæ•ˆ ; å®ä¾‹æŒ‚è½½ä¹‹åå¯ä»¥ä½¿ç”¨ <code>vm.$el</code> è®¿é—®</li>
<li><code>data</code> : Vue å®ä¾‹çš„æ•°æ®å¯¹è±¡ , Vue ä¼šé€’å½’çš„å°† data çš„ property è½¬æ¢ä¸º getter å’Œ setter , ä»è€Œè®© data çš„ property èƒ½å¤Ÿå“åº”æ•°æ®å˜åŒ– ; å¯¹è±¡å¿…é¡»æ˜¯çº¯ç²¹çš„å¯¹è±¡ (å«æœ‰ 0 ä¸ªæˆ–è€… å¤šä¸ª é”®å€¼å¯¹) æµè§ˆå™¨ API åˆ›å»ºçš„å¯¹è±¡ , åŸå‹ä¸Šçš„ property ä¼šè¢«å¿½ç•¥ , å¤§æ¦‚æ¥è¯´ data åªèƒ½å­˜åœ¨æ•°æ® , ä¸æ¨èè§‚å¯Ÿæ‹¥æœ‰çŠ¶æ€è¡Œä¸ºçš„å¯¹è±¡ ;</li>
<li><code>{{}}</code> : æ’å€¼è¡¨è¾¾å¼ ; å®˜ç½‘ä¹Ÿç§°ä¸º <code>Mustache</code> è¯­æ³•</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆç»„ä»¶ä¸­-data-æ˜¯æ–¹æ³•">ä¸ºä»€ä¹ˆç»„ä»¶ä¸­ data æ˜¯æ–¹æ³•</h3>
<p>å½“ä¸€ä¸ªç»„ä»¶è¢«å®šä¹‰æ—¶ (éæ ¹ç»„ä»¶) <code>data</code> å¿…é¡»å£°æ˜ä¸ºä¸€ä¸ªè¿”å›å¯¹è±¡çš„å‡½æ•° , å› ä¸ºç»„ä»¶å¯èƒ½è¢«ç”¨æ¥åˆ›å»ºå¤šä¸ªå®ä¾‹, å¦‚æœ data ä»ç„¶æ˜¯ä¸€ä¸ªå¯¹è±¡ , è¿™æ ·æ‰€æœ‰å®ä¾‹è®²å…±äº«å¼•ç”¨åŒä¸€ä¸ªæ•°æ®å¯¹è±¡ , é€šè¿‡æä¾› data å‡½æ•° , æ¯æ¬¡åˆ›å»ºä¸€ä¸ªå®ä¾‹çš„æ—¶å€™ , æˆ‘ä»¬èƒ½å¤Ÿè°ƒç”¨ data å‡½æ•° , ä»è€Œè¿”å›åˆå§‹æ•°æ®çš„ä¸€ä¸ªå…¨æ–°æ•°æ®å¯¹è±¡</p>
<pre><code>// é”™è¯¯ ç¤ºä¾‹
let options = {
  data: {
    uname: 'zs'
  }
}
function Component(options) {
  this.data = options.data
}

let user1 = new Component(options)
let user2 = new Component(options)

user1.data.uname = 'ls' // ä¿®æ”¹ user1  è§¦å‘äº†æ‰€æœ‰
console.log(user2.data.uname) // ls


// æ­£ç¡®ç¤ºä¾‹
let options = {
  data() {
    return {
      uname: 'zs'
    }
  }
}
function Component(options) {
  this.data = options.data()
}

let user1 = new Component(options)
let user2 = new Component(options)

user1.data.uname = 'ls' 
console.log(user2.data.uname) // zs
console.log(user1.data.uname) // ls
</code></pre>
<p>ç”±äºç»„ä»¶æ˜¯å¯ä»¥å¤šæ¬¡å¤ç”¨çš„ , å¦‚æœä¸ä½¿ç”¨ <code>function return</code> æ¯ä¸ªç»„ä»¶çš„ data åœ¨å†…å­˜ä¸­éƒ½æ˜¯æŒ‡å‘åŒä¸€ä¸ªåœ°å€çš„ , ç”±äº JavaScript å¤æ‚æ•°æ®ç±»å‹çš„ç‰¹æ€§ , é‚£ä¸€ä¸ªæ•°æ®æ”¹å˜å…¶ä»–çš„ä¹Ÿæ”¹å˜äº† , ä½†æ˜¯å¦‚æœç”¨äº† <code>function return</code> å…¶å®å°±ç›¸å½“äºç”³æ˜äº†æ–°å˜é‡ , ç›¸äº’ç‹¬ç«‹ , è‡ªç„¶å°±ä¸å­˜åœ¨ä»¥ä¸Šä¾‹å­ä¸­å­˜åœ¨çš„é—®é¢˜ ; JavaScript åœ¨èµ‹å€¼ <code>Object</code> æ—¶ , æ˜¯ç›´æ¥ä¸€ä¸ªç›¸åŒçš„å†…å­˜åœ°å€ , æ‰€ä»¥ä¸ºäº†æ¯ä¸ªç»„ä»¶çš„ç‹¬ç«‹ , é‡‡ç”¨äº†è¿™ç§æ–¹å¼ ; ä½†ç”±äºæ ¹ç»„ä»¶åªæœ‰ä¸€ä¸ª , ä¸å­˜åœ¨æ•°æ®æ±¡æŸ“çš„æƒ…å†µ , æ‰€ä»¥å°±å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ ;</p>
<p><strong>å‚è€ƒèµ„æ–™ :</strong></p>
<ul>
<li><a href="https://segmentfault.com/a/1190000021680253"></a><a href="https://segmentfault.com/a/1190000021680253">segmentfault.com/a/119000002â€¦</a></li>
<li><a href="https://axiu.me/coding/why-vue-component-data-must-be-function/"></a><a href="https://axiu.me/coding/why-vue-component-data-must-be-function/">axiu.me/coding/why-â€¦</a></li>
<li><a href="https://blog.csdn.net/shaleilei/article/details/78084171"></a><a href="https://blog.csdn.net/shaleilei/article/details/78084171">blog.csdn.net/shaleilei/aâ€¦</a></li>
</ul>
<h2 id="æŒ‡ä»¤">æŒ‡ä»¤</h2>
<h3 id="v-cloak"><code>v-cloak</code></h3>
<blockquote>
<p>è¿™ä¸ªæŒ‡ä»¤å¯ä»¥é…åˆç€ <code>CSS</code> éšè—æœªç¼–è¯‘çš„ <code>Mustache</code> æ ‡ç­¾ , ç›´åˆ°å®ä¾‹å‡†å¤‡å®Œæ¯•</p>
</blockquote>
<p><strong>é—®é¢˜å±•ç¤º :</strong></p>
<figure data-type="image" tabindex="1"><img src="https://user-gold-cdn.xitu.io/2020/7/24/1737f87f3b1db6fe?imageslim" alt="" loading="lazy"></figure>
<pre><code>/* css */
[v-cloak] { display: none; }


&lt;div v-cloak&gt;{{ root }}&lt;/div&gt;
</code></pre>
<h3 id="v-text"><code>v-text</code></h3>
<blockquote>
<p>æ›´æ–°æŸä¸ªå…ƒç´ èŠ‚ç‚¹ä¸‹çš„å€¼ ; æ³¨æ„ : ä¼šæ›´æ–°å…¨éƒ¨å†…å®¹ , å¦‚æœæƒ³è¦å±€éƒ¨æ›´æ–° , å¯ä»¥ä½¿ç”¨ <code>Mustache</code> è¯­æ³•</p>
</blockquote>
<pre><code>&lt;div v-text=&quot;root&quot;&gt;&lt;/div&gt;
</code></pre>
<h3 id="v-html"><code>v-html</code></h3>
<blockquote>
<p>æ›´æ–°å…ƒç´ çš„ <code>innerHTML</code> æ³¨æ„ : æ™®é€š html å†…å®¹</p>
<p>åœ¨ç½‘ç«™ä¸Šä½¿ç”¨ HTML æ˜¯éå¸¸å±é™©çš„ , å®¹æ˜“å¯¼è‡´ XSS å·¥å…· , ç”¨æˆ·æäº¤å†…å®¹æ—¶ åˆ‡è®°å‹¿è¦ä½¿ç”¨</p>
</blockquote>
<pre><code>&lt;div v-html=&quot;html&quot;&gt;&lt;/div&gt;


new Vue({
  el: '#app',
  data: {
    html: '&lt;p&gt;hello vue&lt;/p&gt;'
  }
})
</code></pre>
<h3 id="v-pre"><code>v-pre</code></h3>
<blockquote>
<p>åŸæ–‡è¾“å‡º , ä¸ä¼šå‚ä¸ç¼–è¯‘ , è¾“å…¥ä»€ä¹ˆå†…å®¹å°±å±•ç¤ºä»€ä¹ˆå†…å®¹</p>
</blockquote>
<pre><code>&lt;div v-pre&gt;{{ will not compile }}&lt;/div&gt;
</code></pre>
<h3 id="v-once"><code>v-once</code></h3>
<blockquote>
<p>è¢«å®šä¹‰äº† <code>v-once</code> æŒ‡ä»¤çš„å…ƒç´ æˆ–è€…ç»„ä»¶ (åŒ…æ‹¬å…ƒç´ æˆ–ç»„ä»¶å†…çš„å­å­™èŠ‚ç‚¹) åªèƒ½è¢«æ¸²æŸ“ä¸€æ¬¡ , é¦–æ¬¡æ¸²æŸ“æ”¶ , å³æ—¶æ•°æ®å‘ç”Ÿå˜åŒ– , ä¹Ÿä¸ä¼šè¢«é‡æ–°æ¸²æŸ“ , ä¸€èˆ¬ç”¨äºé™æ€å†…å®¹å±•ç¤º ;</p>
</blockquote>
<pre><code>&lt;div v-once&gt;{{ content }}&lt;/div&gt;


const vm = new Vue({
  el: '#app',
  data: {
    content: 'this is init data'
  }
})
vm.content = 'update data'
</code></pre>
<h3 id="v-show-ä¸-v-if"><code>v-show</code> ä¸ <code>v-if</code></h3>
<blockquote>
<p>è¿™é‡Œçš„ <code>v-if</code> ä¸å•å•æ˜¯è¿™ä¸€ä¸ªæŒ‡ä»¤ , å®ƒåŒ…å« <code>v-else-if</code> <code>v-else</code> åŠŸèƒ½å·®ä¸å¤š , è¿™é‡Œå°±ç»Ÿä¸€è§£é‡Šäº†</p>
<p><strong><code>v-show</code></strong> : æ ¹æ®è¡¨è¾¾å¼çš„çœŸå‡å€¼ , åˆ¤æ–­å…ƒç´ æ˜¯å¦éšè— ( åˆ‡æ¢å…ƒç´ çš„ display : block/none )</p>
<p><strong><code>v-if</code></strong> : æ ¹æ®è¡¨è¾¾å¼çš„å€¼æ¥æœ‰æ¡ä»¶çš„æ¸²æŸ“æ•°æ® , åœ¨åˆ‡æ¢æ—¶å…ƒç´ ä»¥åŠå®ƒçš„æ•°æ®ç»‘å®š / ç»„ä»¶è¢«é”€æ¯å¹¶é‡å»º</p>
</blockquote>
<p><strong>å·®å¼‚ :</strong></p>
<figure data-type="image" tabindex="2"><img src="https://user-gold-cdn.xitu.io/2020/7/24/1737f8831ff7a2be?imageslim" alt="" loading="lazy"></figure>
<pre><code>&lt;div v-if=&quot;isShow&quot;&gt; v-if &lt;/div&gt;
&lt;div v-show=&quot;isShow&quot;&gt; v-show &lt;/div&gt;
</code></pre>
<p><strong>åˆ†æ”¯åˆ¤æ–­ä»£ç æ¼”ç¤º</strong></p>
<pre><code>&lt;!-- æœ€ç»ˆä¸€ä¼šå±•ç¤ºä¸€ä¸ª p æ ‡ç­¾ä¸­çš„å†…å®¹  --&gt;
&lt;div&gt;
  &lt;p v-if=&quot;score &gt; 90&quot;&gt; 
  	&lt;span&gt;æˆç»©ä¼˜å¼‚ : {{ score }}&lt;/span&gt;
  &lt;/p&gt;
  &lt;p v-else-if=&quot;score &gt; 70&quot;&gt; 
  	&lt;span&gt;æˆç»©åŠæ ¼ : {{ score }}&lt;/span&gt;
  &lt;/p&gt;
  &lt;p v-else&gt; 
  	&lt;span&gt;ä¸åŠæ ¼ : {{ score }}&lt;/span&gt;
  &lt;/p&gt;
&lt;/div&gt;
</code></pre>
<h3 id="v-for"><code>v-for</code></h3>
<blockquote>
<p>åœ¨ <code>v-for</code> ä¸­è¢«å¾ªç¯çš„å¯¹è±¡ , å¿…é¡»æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ <code>iterable</code> ( Array | Number | Object | String ... )</p>
<p>è¯­æ³•æ ¼å¼ä¸º <code>alias in expression</code> å…¶ä¸­çš„ in ä¹Ÿå¯ä»¥ä½¿ç”¨ of æ›¿ä»£</p>
<p>å¯ä»¥ä¸ºæ•°ç»„æˆ–è€…å¯¹è±¡å¢åŠ ç´¢å¼•å€¼</p>
</blockquote>
<pre><code>&lt;!-- æ•°ç»„å¾ªç¯ --&gt;
&lt;div v-for=&quot;(item, index) in items&quot;&gt;
  {{ item.text }}
&lt;/div&gt;


&lt;!-- å¯¹è±¡å¾ªç¯ --&gt;
&lt;div v-for=&quot;(val, key, index) in object&quot;&gt;
  {{ val }} {{ key }} {{ index }}
&lt;/div&gt;
</code></pre>
<h3 id="ä¸ºä»€ä¹ˆ-v-for-å¿…é¡»æ·»åŠ å”¯ä¸€-key">ä¸ºä»€ä¹ˆ <code>v-for</code> å¿…é¡»æ·»åŠ å”¯ä¸€ <code>key</code></h3>
<blockquote>
<p>å½“ Vue æ­£åœ¨æ›´æ–°ä½¿ç”¨ v-for æ¸²æŸ“çš„æ•°æ®åˆ—è¡¨æ—¶ , å®ƒé»˜è®¤ä½¿ç”¨ å°±åœ°æ›´æ–° ç­–ç•¥ , å¦‚æœæ•°æ®é¡¹çš„é¡ºåºè¢«æ”¹å˜ , Vue å°†ä¸ä¼šç§»åŠ¨ DOM æ¥åŒ¹é…æ•°æ®é¡¹çš„æ•°æ® , è€Œæ˜¯å°±åœ°æ›´æ–°æ¯ä¸ªå…ƒç´  , ä¿è¯å®ƒä»¬åœ¨æ¯ä¸ªç´¢å¼•ä½ç½®çš„æ­£ç¡®æ¸²æŸ“ ;</p>
</blockquote>
<h4 id="ä¸ºä»€ä¹ˆè¦åŠ -key">ä¸ºä»€ä¹ˆè¦åŠ  <code>key</code></h4>
<ul>
<li>ä¸ºäº†ç»™ Vue ä¸€ä¸ªæç¤º , ä»¥ä¾¿å®ƒè·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ , ä»è€Œé‡ç”¨ å’Œ é‡æ–°æ’åºç°æœ‰å…ƒç´  éœ€è¦ä¸ºæ¯ä¸€é¡¹æä¾›ä¸€ä¸ªå”¯ä¸€ key</li>
<li>key ä¸»è¦ç”¨åœ¨ Vue çš„ è™šæ‹Ÿ DOM ç®—æ³• , åœ¨æ–°æ—§èŠ‚ç‚¹å¯¹æ¯”æ—¶ , è¾¨è¯†è™šæ‹ŸDOM , å¦‚æœä¸ä½¿ç”¨ <code>key</code> ä¼šä½¿ç”¨ä¸€ç§æœ€å¤§é™åº¦å‡å°‘åŠ¨æ€å…ƒç´ å¹¶ä¸”å°½å¯èƒ½çš„å°è¯•å°±åœ°ä¿®æ”¹/å¤ç”¨ç›¸åŒç±»å‹å…ƒç´ çš„ç®—æ³• , è€Œå¦‚æœä½¿ç”¨äº†<code>key</code> å®ƒä¼šåŸºäº <code>key</code> çš„å˜åŒ–é‡æ–°æ’åˆ—å…ƒç´ é¡ºåº , å¹¶ä¸”ä¼šç§»é™¤ <code>key</code> ä¸å­˜åœ¨çš„å…ƒç´ </li>
</ul>
<h4 id="ä¸ºä»€ä¹ˆä¸èƒ½ç”¨-index-åš-key">ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ <code>index</code> åš <code>key</code></h4>
<pre><code>// ç»„ä»¶æ•°æ®å®šä¹‰
const vm = new Vue({
  el: '#app',
  data: {
    users: [
      { id: 1, uname: 'zs', age: 23 },
	     { id: 2, uname: 'ls', age: 24 },
	     { id: 3, uname: 'we', age: 25 },
	     { id: 4, uname: 'mz', age: 26 },
	  ]
  }
})
</code></pre>
<p><strong><code>index</code> é”™è¯¯ç¤ºä¾‹</strong></p>
<blockquote>
<p>é‡ç‚¹åœ¨äºä¸Šé¢æˆ‘ä»¬æ‰€è¯´çš„ä¼šåŸºäº Key çš„å˜åŒ–é‡æ–°æ’åˆ—å…ƒç´ é¡ºåº , å¯ä»¥çœ‹å‡ºå¦‚æœæˆ‘ä»¬ç”¨ index ä½œä¸º key æ•°ç»„ç¿»è½¬çš„æ—¶å€™ , å…¶å® Key çš„é¡ºåºæ˜¯æ²¡æœ‰å˜çš„ , ä½†æ˜¯ä¼ å…¥çš„å€¼å®Œå…¨å˜äº† , è¿™æ—¶å€™åŸæœ¬ä¸ä¸€æ ·çš„æ•°æ® , è¢«è¯¯ä»¥ä¸ºä¸€æ ·äº† , æ‰€ä»¥å°±é€ æˆä»¥ä¸‹é—®é¢˜ ;</p>
</blockquote>
<figure data-type="image" tabindex="3"><img src="https://user-gold-cdn.xitu.io/2020/7/24/1737f886ba386ae0?imageslim" alt="" loading="lazy"></figure>
<pre><code>&lt;!-- å…·ä½“è¯­æ³•ç¨åä»‹ç»; æ„æ€ä¸ºç‚¹å‡»ç¿»è½¬æ•°ç»„ --&gt;
&lt;button @click=&quot;users.reverse()&quot;&gt;å¹´é¾„æ’åº&lt;/button&gt;
&lt;ul&gt;
  &lt;!-- å¾ªç¯è¿™ä¸ª users ç”Ÿæˆä¸€ä¸ªæ•°æ®åˆ—è¡¨ å¹¶ä¸”é‡Œé¢å¸¦æœ‰ å¤šé€‰æ¡† ä»¥ä¾›æˆ‘ä»¬æµ‹è¯• --&gt;
  &lt;li v-for=&quot;(user, index) of users&quot; :key=&quot;index&quot;&gt;
    &lt;input type=&quot;checkbox&quot; /&gt;
    &lt;span&gt;{{ user.uname }}&lt;/span&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p><strong>å”¯ä¸€ Id æ­£ç¡®ç¤ºä¾‹</strong></p>
<blockquote>
<p>æ­¤æ—¶çš„ key å’Œæ•°æ®åšç»‘å®š , å½“ä½ ç¿»è½¬æ•°ç»„çš„æ—¶å€™ , ç»‘å®šçš„å…¶å®æ˜¯è¿™ä¸€æ¡æ•°æ® , è€Œä¸æ˜¯ç´¢å¼• , å°±ä¸ä¼šé€ æˆä»¥ä¸Šé—®é¢˜äº†</p>
</blockquote>
<figure data-type="image" tabindex="4"><img src="https://user-gold-cdn.xitu.io/2020/7/24/1737f8894e82c1c8?imageslim" alt="" loading="lazy"></figure>
<pre><code>&lt;li v-for=&quot;(user, index) of users&quot; :key=&quot;user.id&quot;&gt;
  ......
&lt;/li&gt;
</code></pre>
<p><strong>å‚è€ƒèµ„æ–™</strong> :</p>
<p><a href="https://juejin.im/post/6844904113587634184"></a><a href="https://juejin.im/post/6844904113587634184">juejin.im/post/684490â€¦</a></p>
<h3 id="v-bind"><code>v-bind</code></h3>
<blockquote>
<p>å±æ€§ç»‘å®š ; å¯ç¼©å†™ä¸º <code>:</code></p>
</blockquote>
<pre><code>// ç»‘å®š attrbute
&lt;div v-bind:content=&quot;message&quot;&gt;&lt;/div&gt;

// ç»‘å®š class 
&lt;div :class=&quot;{box: isBox}&quot;&gt;&lt;/div&gt;
&lt;div :class=&quot;['box', 'box1']&quot;&gt;&lt;/div&gt;
&lt;div :class=&quot;['box', {box1: isBox}]&quot;&gt;&lt;/div&gt;

// ç»‘å®š style
&lt;div :style=&quot;{fontSize: '20px', color: 'white'}&quot;&gt;&lt;/div&gt;
&lt;div :style=&quot;[{fontSize: '20px'}, {color: 'white'}]&quot;&gt;&lt;/div&gt;
</code></pre>
<h3 id="v-on"><code>v-on</code></h3>
<blockquote>
<p>äº‹ä»¶ç»‘å®š ; å¯ç¼©å†™ <code>@</code> ç›‘å¬DOMäº‹ä»¶ , å¹¶åœ¨è§¦å‘æ—¶è¿è¡Œä¸€äº› js ä»£ç </p>
</blockquote>
<pre><code>&lt;button v-on:click=&quot;count += 1&quot;&gt;&lt;/button&gt;
{{ count }}
</code></pre>
<blockquote>
<p>å¯ä»¥æ¥æ”¶ä¸€ä¸ªæ–¹æ³•åç§° ;</p>
<p>æ³¨æ„ : å½“åªæ˜¯ä¸€ä¸ªæ–¹æ³•åç§°æ—¶, é»˜è®¤ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºäº‹ä»¶å¯¹è±¡ e</p>
<p>å½“éœ€è¦ä¼ å…¥å‚æ•°æ—¶ , é‚£ä¹ˆäº‹ä»¶å¯¹è±¡å°±éœ€è¦æ‰‹åŠ¨çš„ä¼ å…¥, æœ€åä¸€ä¸ª å¹¶ä¸”å¼ºåˆ¶å†™æˆ <code>$event</code></p>
</blockquote>
<pre><code>&lt;button @click=&quot;handle&quot;&gt;ç‚¹å‡»1&lt;/button&gt;
&lt;button @click=&quot;handle1('content', $event)&quot;&gt;ç‚¹å‡»2&lt;/button&gt;


methods: {
  handle(e) {
    console.log(e.target)
  },
  handle1(ct, e) {
  	console.log(ct)
    console.log(e.target)
  }
}
</code></pre>
<h4 id="äº‹ä»¶ä¿®é¥°ç¬¦">äº‹ä»¶ä¿®é¥°ç¬¦</h4>
<ul>
<li>
<p><code>.prevent</code> : é˜»æ­¢é»˜è®¤äº‹ä»¶</p>
</li>
<li>
<p><code>.stop</code> : é˜»æ­¢å†’æ³¡</p>
</li>
<li>
<p><code>.self</code> : åªæœ‰å½“å‰å…ƒç´ è§¦å‘äº‹ä»¶</p>
</li>
<li>
<p><code>.once</code> : åªè§¦å‘ä¸€æ¬¡è¯¥äº‹ä»¶</p>
</li>
<li>
<p><code>.native</code> : ç›‘å¬ç»„ä»¶æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶</p>
<p>// å®šä¹‰å­ç»„ä»¶<br>
Vue.component('my-component', {<br>
template: <code>&lt;button @mousedown=&quot;handle&quot; :style=&quot;{color: 'white', lineHeight: '20px', backgroundColor: 'black'}&quot;&gt;ç»„ä»¶&lt;/button&gt;</code>,<br>
methods: {<br>
handle() {<br>
console.log('///')<br>
}<br>
}<br>
})</p>
</li>
</ul>
<p>åŠ äº† <code>native</code> ç›¸å½“äºæŠŠè‡ªå®šä¹‰ç»„ä»¶çœ‹æˆäº† html å¯ä»¥ç›´æ¥åœ¨ä¸Šé¢ç›‘å¬åŸç”Ÿäº‹ä»¶, å¦åˆ™è‡ªå®šä¹‰ç»„ä»¶ä¸Šé¢ç»‘å®šçš„å°±æ˜¯è‡ªå®šä¹‰äº‹ä»¶ , è€Œä½ åœ¨è‡ªå®šä¹‰äº‹ä»¶ä¸Šæ²¡æœ‰å®šä¹‰è¿™ä¸ªäº‹ä»¶ , æ‰€ä»¥ä¸åŠ  <code>native</code> ä¸ä¼šæ‰§è¡Œ</p>
<pre><code>// çˆ¶ç»„ä»¶ä¸­å¼•ç”¨
&lt;my-component @click.native=&quot;handle('çˆ¶ç»„ä»¶')&quot;&gt;&lt;/my-component&gt;
</code></pre>
<p><strong>å‚è€ƒèµ„æ–™</strong> :</p>
<p><a href="https://segmentfault.com/q/1010000011186651"></a><a href="https://segmentfault.com/q/1010000011186651">segmentfault.com/q/101000001â€¦</a></p>
<ul>
<li>
<p><code>.capture</code> : æ·»åŠ äº‹ä»¶ç›‘å¬æ—¶ , ä½¿ç”¨ æ•è·æ¨¡å¼</p>
<p>// æ­¤æ—¶ä¼šä¼˜å…ˆæ•è· box1</p>
<div class="box" style="background: skyblue;  width: 180px;" @click.capture="handle('box1')">
  <div class="box1 box" style="background: slateblue; width: 140px;" @click="handle('box2')">
    <div class="box2 box" style="background: red;" @click="handle('box3')"></div>
  </div>
</div>
<p>// å…è®¸åªæœ‰ä¿®é¥°ç¬¦ prevent é˜»æ­¢é»˜è®¤äº‹ä»¶<br>
&lt;a href=&quot;http://www.baidu.com&quot; @click.prevent &gt;ç™¾åº¦</a></p>
<p>// å¤šä¸ªäº‹ä»¶ä¿®é¥°ç¬¦å¯ä»¥è¿ç”¨è§¦å‘æ—¶æœºä¹Ÿæ˜¯ç›¸åŒçš„<br>
&lt;a href=&quot;http://www.baidu.com&quot; @click.prevent.stop=&quot;handle('a')&quot;&gt;baidu</a></p>
</li>
</ul>
<h4 id="æŒ‰é”®ä¿®é¥°ç¬¦">æŒ‰é”®ä¿®é¥°ç¬¦</h4>
<blockquote>
<p>Vue ä¸­å…è®¸ä¸º <code>v-on</code> ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶æ·»åŠ é”®ç›˜ä¿®é¥°ç¬¦</p>
<pre><code>&lt;input v-on:keyup.enter=&quot;submit&quot;&gt;
</code></pre>
<p>å½“ç„¶æä¾›äº†å¤§å¤šæ•°çš„æŒ‰é”®ç åˆ«å æŒ‰é”®ç </p>
<p>è¿˜å¯ä»¥é€šè¿‡å…¨å±€ <code>Vue.config.keyCodes</code> è‡ªå®šä¹‰ä¿®é¥°ç¬¦åˆ«å</p>
<pre><code>Vue.config.keyCodes.f1 = 112
</code></pre>
</blockquote>
<h3 id="v-model"><code>v-model</code></h3>
<blockquote>
<p>åœ¨è¡¨å•å…ƒç´ ä¸Šåˆ›å»ºæ•°æ®åŒå‘ç»‘å®š , å®ƒä¼šæ ¹æ®æ§ä»¶ç±»å‹è‡ªåŠ¨é€‰å–æ­£ç¡®çš„å€¼æ¥æ›´æ–°å…ƒç´ </p>
</blockquote>
<pre><code>// æ–‡æœ¬
&lt;input type=&quot;text&quot; v-model=&quot;message&quot;&gt;
&lt;p&gt;{{ message }}&lt;/p&gt;


// å¤šè¡Œæ–‡æœ¬
&lt;textarea cols=&quot;30&quot; rows=&quot;10&quot; v-model=&quot;message&quot;&gt;&lt;/textarea&gt;
&lt;p&gt;{{ message }}&lt;/p&gt;


// å•é€‰æ¡†
&lt;input type=&quot;radio&quot; value=&quot;ç”·&quot; v-model=&quot;sex&quot;&gt;ç”·
&lt;input type=&quot;radio&quot; value=&quot;å¥³&quot; v-model=&quot;sex&quot;&gt;å¥³
&lt;p&gt;{{ sex }}&lt;/p&gt;


// å•ä¸ªå¤é€‰æ¡†
&lt;input type=&quot;checkbox&quot; v-model=&quot;checked&quot;&gt;
&lt;p&gt;{{ checked }}&lt;/p&gt;


// å¤šä¸ªå¤é€‰æ¡†
&lt;input type=&quot;checkbox&quot; value=&quot;æ‰“ç¯®çƒ&quot; v-model=&quot;hobby&quot;/&gt;æ‰“ç¯®çƒ
&lt;input type=&quot;checkbox&quot; value=&quot;æ‰“çš®çƒ&quot; v-model=&quot;hobby&quot;/&gt;æ‰“çš®çƒ
&lt;input type=&quot;checkbox&quot; value=&quot;æ‰“æ°”çƒ&quot; v-model=&quot;hobby&quot;/&gt;æ‰“æ°”çƒ
&lt;input type=&quot;checkbox&quot; value=&quot;æ‰“æ£’çƒ&quot; v-model=&quot;hobby&quot;/&gt;æ‰“æ£’çƒ
&lt;p&gt;{{ hobby }}&lt;/p&gt;


// é€‰æ‹©æ¡† -&gt; å•é€‰
&lt;select v-model=&quot;selected&quot;&gt;
  &lt;option&gt;javascript&lt;/option&gt;
  &lt;option&gt;html&lt;/option&gt;
  &lt;option&gt;css&lt;/option&gt;
&lt;/select&gt;
&lt;p&gt;{{ selected }}&lt;/p&gt;


// é€‰æ‹©æ¡† -&gt; å¤šé€‰
&lt;select v-model=&quot;selectList&quot; multiple&gt;
  &lt;option&gt;javascript&lt;/option&gt;
  &lt;option&gt;html&lt;/option&gt;
  &lt;option&gt;css&lt;/option&gt;
&lt;/select&gt;
&lt;p&gt;{{ selectList }}&lt;/p&gt;


// å®ä¾‹å¯¹è±¡
new Vue({
  el: '#app',
  data: {
    message: '', // å¤šè¡Œ, å•è¡Œæ–‡æœ¬
    sex: '', // å•é€‰æ¡†
    checked: false, // å¤é€‰æ¡†å•ä¸ª
    hobby: [], // å¤é€‰æ¡†å¤šä¸ª
    selected: '', // é€‰æ‹©æ¡† -&gt; å•ä¸ª
    selectList: [] // é€‰æ‹©æ¡† -&gt; å¤šä¸ª
  }
})
</code></pre>
<h4 id="ä¿®é¥°ç¬¦">ä¿®é¥°ç¬¦</h4>
<ul>
<li>
<p><code>.lazy</code> : é»˜è®¤æƒ…å†µä¸‹ <code>v-model</code> åœ¨æ¯æ¬¡çš„ input äº‹ä»¶è§¦å‘åå°†è¾“å…¥æ¡†å†…å®¹è¿›è¡ŒåŒæ­¥ , æ·»åŠ  <code>lazy</code> ä¿®é¥°ç¬¦å , ä¼šå˜æˆ change äº‹ä»¶ååŒæ­¥æ•°æ®</p>
<input v-model.lazy="message">
</li>
<li>
<p><code>.number</code> : ç”¨æˆ·è¾“å…¥çš„å€¼è½¬ä¸ºæ•°å€¼ç±»å‹</p>
<input v-model.number="age">
</li>
<li>
<p><code>.trim</code> : è¿‡æ»¤è¾“å…¥æ¡†ä¸­çš„å·¦å³ç©ºç™½</p>
<input v-model.trim="message">
</li>
</ul>
<h2 id="vueset"><code>Vue.set</code></h2>
<blockquote>
<p>å¦‚æœåœ¨å®ä¾‹åˆ›å»ºä¹‹åæ·»åŠ æ–°çš„å±æ€§åˆ°å®ä¾‹ä¸Š , å®ƒä¸ä¼šè§¦å‘æ›´æ–°è§†å›¾ æ€ä¹ˆç†è§£å‘¢ ?</p>
</blockquote>
<pre><code>data() {
  return {
    info: {
      uname: 'zs'
    }
  }
}
mounted() {
  // æ­¤æ—¶æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ , å¦‚æœå†æ¨¡å—åŒ–çš„å¼€å‘ä¸­è¿˜ä¼šæŠ¥é”™
  this.info.age = 23
}
</code></pre>
<p>å— ES5 çš„é™åˆ¶ , Vue ä¸èƒ½æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–è€…åˆ é™¤ , å› ä¸º Vue åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°†å±æ€§è½¬æ¢ä¸º<code>getter</code> <code>setter</code> æ‰€ä»¥å±æ€§å¿…é¡»è¦åœ¨ data å¯¹è±¡ä¸Šæ‰èƒ½è®© Vue è½¬æ¢ , åªæœ‰åœ¨ data å¯¹è±¡ä¸Š æ‰æ˜¯å“åº”å¼çš„</p>
<pre><code>mounted() {
  // æ­£ç¡®å†™æ³•
  this.$set(this.info, 'age', 23)
}
</code></pre>
<p><strong>Vue.set()</strong> : ä¸ <code>this.$set</code> æ²¡æœ‰åŒºåˆ«, ä¸€ä¸ªå…¨å±€ ä¸€ä¸ªå±€éƒ¨ å®˜ç½‘è¯´ <code>this.$set</code> æ˜¯ <code>Vue.set</code> çš„ä¸€ä¸ªåˆ«å</p>
<h2 id="methods"><code>methods</code></h2>
<blockquote>
<p>methods å°†ä¼šè¢«æ··å…¥åˆ°Vue å®ä¾‹ä¸­ , å¯ä»¥ç›´æ¥é€šè¿‡ vm å®ä¾‹è®¿é—®è¿™äº›æ–¹æ³• , æˆ–è€…åœ¨æŒ‡ä»¤è¡¨è¾¾å¼ä¸­ä½¿ç”¨ , æ–¹æ³•ä¸­çš„ <code>this</code> è‡ªåŠ¨ç»‘å®š Vue å®ä¾‹</p>
<p>æ³¨æ„ : methods ä¸­çš„ æ–¹æ³• ä¸è¦ä½¿ç”¨ ç®­å¤´å‡½æ•° , ç®­å¤´å‡½æ•°ä¸­çš„ <code>this</code> æŒ‡å‘çˆ¶çº§ä½œç”¨åŸŸçš„ä¸Šä¸‹æ–‡ , æ‰€ä»¥ <code>this</code> å°†ä¸ä¼šæŒ‡å‘ Vue å®ä¾‹</p>
</blockquote>
<pre><code>new Vue({
  methods: {
    handle() {
      console.log(this)
    }
  }
})
</code></pre>
<h2 id="è®¡ç®—å±æ€§-computed">è®¡ç®—å±æ€§ <code>computed</code></h2>
<blockquote>
<p>æ¨¡æ¿å†…å†™è¡¨è¾¾å¼å›ºç„¶æ˜¯å¾ˆæ–¹ä¾¿çš„ , ä½†æ˜¯ä½ åº”è¯¥æ˜ç™½ , è¡¨è¾¾å¼çš„åˆè¡·æ˜¯ç”¨æ¥è®¡ç®—çš„ , æ¯”å¦‚å¤„ç†ä¸€äº›å­—ç¬¦ä¸² , æ—¶é—´æ ¼å¼ç­‰ç­‰ , å¦‚æœæˆ‘ä»¬å†™æˆæ–¹æ³•å§ ! æ¯æ¬¡éƒ½è¦å»è°ƒç”¨ , é‚£å°±å¤ªéº»çƒ¦äº† , ä¸ºæ­¤ Vue æä¾›äº† è®¡ç®—å±æ€§ computed</p>
</blockquote>
<p>å¯ä»¥çœ‹å‡ºæ¯æ¬¡æˆ‘ä»¬éƒ½å»è°ƒç”¨è¿™ä¸ªå‚æ•° , æ„Ÿè§‰å¾ˆä¸æ–¹ä¾¿</p>
<pre><code>&lt;input type=&quot;text&quot; v-model.number=&quot;input1&quot;/&gt; + 
&lt;input type=&quot;text&quot; v-model.number=&quot;input2&quot;/&gt; =
&lt;span&gt;{{ getSum() }}&lt;/span&gt;


data() {
  return {
    sum: '',
    input1: '',
    input2: ''
  }
},
methods: {
  getSum() {
    return this.sum = this.input1 + this.input2
  }
}
</code></pre>
<p>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨è®¡ç®—å±æ€§è§£å†³ ; å¯ä»¥çœ‹å‡ºæˆ‘ä»¬å»é™¤äº† data ä¸­çš„ sum å±æ€§ åœ¨ computed ä¸­æ–°å¢äº† getSum å‡½æ•°</p>
<pre><code>&lt;input type=&quot;text&quot; v-model.number=&quot;input1&quot;/&gt; + 
&lt;input type=&quot;text&quot; v-model.number=&quot;input2&quot;/&gt; =
&lt;span&gt;{{ getSum }}&lt;/span&gt;


data() {
  return {
    input1: '',
    input2: ''
  }
},
computed: {
  getSum() {
    return this.input1 + this.input2
  }
},
</code></pre>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº† ä¸ºä»€ä¹ˆå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°, å´å½“æˆå±æ€§æ‰§è¡Œ ? å…¶å®è¿™ä¸ªåªæ˜¯ç®€å†™è€Œå·² , ç®—æ˜¯ä¸€ä¸ªè¯­æ³•ç³– , æ¯ä¸€ä¸ªè®¡ç®—å±æ€§åŒ…å« get å’Œ set å½“åªæœ‰ get æ—¶å¯ä»¥ç®€å†™ä¸º å‡½æ•°çš„æ ¼å¼</p>
<pre><code>export default {
  computed: {
    getSum: {
      get() {
       // è·å–æ•°æ®
      },
      set(val) {
        // val æ˜¯è¿™ä¸ªè®¡ç®—å±æ€§è¢«ä¿®æ”¹ä¹‹åçš„æ•°æ®  è®¾ç½®æ•°æ®
      }
    }
  }
}
</code></pre>
<p>ç¤ºä¾‹ : çœ‹å®Œè¿™ä¸ªä¾‹å­å°±æ˜ç™½äº†ä¸ºä»€ä¹ˆå« è®¡ç®—å±æ€§äº†å§</p>
<pre><code>&lt;input type=&quot;text&quot; v-model.number=&quot;input1&quot;/&gt; + 
&lt;input type=&quot;text&quot; v-model.number=&quot;input2&quot;/&gt; =
&lt;span&gt;{{ getSum }}&lt;/span&gt;
&lt;!-- set å‡½æ•°å¯ä»¥æ¥æ”¶è¿™é‡Œä¼ é€’è¿‡æ¥çš„å€¼ --&gt;
&lt;button @click=&quot;getSum = 'æœªçŸ¥æ•°'&quot;&gt;ä¿®æ”¹ getSum&lt;/button&gt;


computed: {
  getSum: {
    get() {
      return this.input1  + this.input2
    },
    // æ¥æ”¶ getSum è¿™ä¸ªå±æ€§æ”¹å˜åçš„å€¼
    set(val) {
      console.log(val)
      this.input1 = 20
      this.input2 = 30
    }
  }
},
</code></pre>
<h2 id="ä¾¦å¬å±æ€§-watch">ä¾¦å¬å±æ€§ <code>watch</code></h2>
<p>è™½ç„¶è®¡ç®—å±æ€§åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½é€‚ç”¨ , ä½†æœ‰æ—¶ä¹Ÿéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¾¦å¬å™¨ , è¿™ä¸ªæ—¶å€™å°±éœ€è¦ ä¾¦å¬å±æ€§ <code>watch</code></p>
<p>ä»ç„¶æ˜¯è®¡ç®—ä¸¤æ•°ä¹‹å’Œ ; åœ¨ watch ç›‘å¬äº† input1 çš„å±æ€§ input1 è§¦å‘æ—¶ æ±‚å‡º sum ; ä»”ç»†çœ‹å·²ç»å‡ºç°äº†é—®é¢˜, ä¿®æ”¹ input2 çš„æ—¶å€™å°±ä¸ä¼šå†è§¦å‘äº† ;</p>
<p>æ€»ç»“ : å®ƒç›‘å¬ data æŸä¸€ä¸ªå±æ€§çš„å˜åŒ– , å¹¶ä¸ä¼šåˆ›é€ æ–°çš„å±æ€§</p>
<pre><code>&lt;input type=&quot;text&quot; v-model.number=&quot;input1&quot;/&gt; + 
&lt;input type=&quot;text&quot; v-model.number=&quot;input2&quot;/&gt; =
&lt;span&gt;{{ getSum }}&lt;/span&gt;


data() {
  return {
    input1: '',
    input2: '',
    getSum: ''
  }
},
watch: {
  // è¿™æ ·å†™çœ‹ç€æ˜¯ä¸€ä¸ªå‡½æ•°, å’Œå±æ€§ç†è§£ä¸ä¸€è‡´, å½“ç„¶è¿˜å¯ä»¥å†™æˆè¿™æ ·
  input1(newVal, oldVal) {
    console.log(newVal, oldVal)
    this.getSum = this.input1 + this.input2
  }
  input2: {
    // å›è°ƒå‡½æ•°ç›‘å¬ input2 çš„å˜åŒ–  å‡½æ•°åå¿…é¡»æ˜¯ handler
    handler(newVal, oldVal) {
      console.log(newVal, oldVal)
      this.getSum = this.input1 + this.input2
    }
  }
}
</code></pre>
<p>å¦‚æœæˆ‘ä»¬éœ€è¦ä¾¦å¬å¯¹è±¡å±æ€§, å¯ä»¥åœ¨é€‰é¡¹å‚æ•°ä¸­ä½¿ç”¨ <code>deep: true</code> æ³¨æ„ç›‘å¬æ•°æ®çš„å˜æ›´ä¸éœ€è¦è¿™ä¹ˆåš</p>
<pre><code>watch: {
  obj: {
    handler() {
      // ....
    },
    deep: true 
  }
}
</code></pre>
<p>watch ä½¿ç”¨æ—¶æœ‰ä¸€ä¸ªç‰¹ç‚¹ , å°±æ˜¯å½“å€¼ç¬¬ä¸€æ¬¡ç»‘å®šçš„æ—¶å€™ , ä¸ä¼šæ‰§è¡Œç›‘å¬å‡½æ•° , åªæœ‰å€¼å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šæ‰§è¡Œ , å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨æœ€åˆç»‘å®šå€¼çš„æ—¶å€™ä¹Ÿæ‰§è¡Œå‡½æ•° , åˆ™éœ€è¦ç”¨åˆ° <code>immediate: true</code></p>
<pre><code>watch: {
  apiData: {
    handler(newVal, oldVal) { },
    deep: true,
    immediate: true
  }
}
</code></pre>
<h2 id="methods-computed-watch-åŒºåˆ«">methods computed watch åŒºåˆ«</h2>
<ul>
<li>
<p><code>watch</code> å°±æ˜¯å•çº¯çš„ç›‘å¬æŸä¸ªæ•°æ®çš„å˜åŒ– , æ”¯æŒæ·±åº¦ç›‘å¬ , æ¥æ”¶ä¸¤ä¸ªå‚æ•°ä¸€ä¸ªæœ€æ–°å€¼, ä¸€ä¸ªå˜åŒ–å‰çš„æ—§å€¼ , ç»“æœä¸ä¼šè¢«ç¼“å­˜ , å¹¶ä¸” watch å¯ä»¥å¤„ç†å¼‚æ­¥ä»»åŠ¡</p>
</li>
<li>
<p><code>computed</code> æ˜¯è®¡ç®—å±æ€§, ä¾èµ–äºæŸä¸ªæˆ–è€…æŸäº›å±æ€§å€¼ , è®¡ç®—å‡ºæ¥çš„ç»“æœä¼šå‡ºç°ç¼“å­˜ , åªæœ‰å½“æ•°æ®çš„ä¾èµ–é¡¹å˜åŒ–æ—¶æ‰ä¼šå‘ç”Ÿå˜åŒ– , ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å±æ€§</p>
</li>
<li>
<p><code>methods</code> æ˜¯å‡½æ•°è°ƒç”¨ , æ²¡æœ‰ç¼“å­˜ , ä¸»è¦å¤„ç†ä¸€äº›ä¸šåŠ¡é€»è¾‘, è€Œä¸æ˜¯ç›‘å¬æˆ–è€…è®¡ç®—ä¸€äº›å±æ€§</p>
</li>
</ul>
<h2 id="è¿‡æ»¤å™¨-filter">è¿‡æ»¤å™¨ <code>filter</code></h2>
<blockquote>
<p>å¯ä»¥è¢«ç”¨äºä¸€äº›å¸¸è§çš„æ–‡æœ¬æ ¼å¼åŒ– , å…è®¸è¢«åº”ç”¨åœ¨ä¸¤ä¸ªåœ°æ–¹ <code>{{}}</code> <code>v-bind</code> ä¸­</p>
</blockquote>
<pre><code>{{ msg | formatMsg }}
&lt;div v-bind:msg=&quot;msg | formatMsg&quot;&gt;&lt;/div&gt;
</code></pre>
<ul>
<li>
<p>å¯ä»¥åœ¨ç»„ä»¶çš„é€‰é¡¹ä¸­å®šä¹‰ç»„ä»¶å†…ç§æœ‰çš„è¿‡æ»¤å™¨</p>
<p>Vue.component('son-component', {<br>
template: <code>&lt;div&gt;{{ msg | formatMsg }}&lt;/div&gt;</code>,<br>
data() {<br>
return {<br>
msg: 'this is message'<br>
}<br>
},<br>
filters: {<br>
formatMsg(msg) {<br>
return msg.toString().toUpperCase()<br>
}<br>
}<br>
})</p>
</li>
<li>
<p>å¯ä»¥åœ¨åˆ›å»º Vue å®ä¾‹ä¹‹å‰å®šä¹‰å…¨å±€è¿‡æ»¤å™¨</p>
<p>Vue.filter('formatMsg', function(msg) {<br>
return msg.toString().toUpperCase()<br>
})</p>
</li>
<li>
<p>è¿‡æ»¤å™¨é»˜è®¤æ˜¯ä»¥ <code>|</code> å‰é¢çš„çš„å†…å®¹ä½œä¸ºè¿‡æ»¤å™¨çš„ç¬¬ä¸€ä¸ªå‚æ•° , è¿˜å¯ä»¥å†æ¬¡ä¼ å…¥ä¼ è¾“</p>
<div>{{ msg | formatMsg('lower') }}</div>
<p>Vue.filter('formatMsg', function(msg, args) {<br>
console.log(msg) // lower<br>
if (args === 'lower') {<br>
return msg.toString().toLowerCase()<br>
}<br>
})</p>
</li>
</ul>
<h2 id="è‡ªå®šä¹‰æŒ‡ä»¤-directive">è‡ªå®šä¹‰æŒ‡ä»¤ <code>directive</code></h2>
<blockquote>
<p>ä¸ä¸Šé¢æåˆ°çš„æŒ‡ä»¤ä¸€è‡´ , å¦‚æœé‚£äº›æŒ‡ä»¤ä¸èƒ½æ»¡è¶³ä½¿ç”¨è¦æ±‚ , å¯ä»¥è‡ªå·±è¿›è¡Œå®šåˆ¶</p>
</blockquote>
<p>è‡ªå®šè·å–ç„¦ç‚¹æ¡ˆä¾‹</p>
<pre><code>&lt;input type=&quot;text&quot; v-focus/&gt;


// å…¨å±€æŒ‡ä»¤ å®šä¹‰æ—¶ä¸éœ€è¦ v-  è°ƒç”¨æ—¶è¦åŠ ä¸Š v- å‰ç¼€
Vue.directive('focus', {
  inserted(el) {
    el.focus()
  }
})
// æˆ–è€…å¯ä»¥å®šä¹‰ä¸ºå±€éƒ¨
directives: {
  'focus': {
    inserted(el) {
      el.focus()
    }
  }
}
</code></pre>
<h3 id="é’©å­å‡½æ•°">é’©å­å‡½æ•°</h3>
<ul>
<li><code>bind</code> : åªè°ƒç”¨ä¸€æ¬¡ , æŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šå…ƒç´ æ—¶è°ƒç”¨ , åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€æ¬¡æ€§çš„åˆå§‹åŒ–è®¾ç½® ;</li>
<li><code>inserted</code> : è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ , ä¸ä¸€å®šæ¸²æŸ“å®Œæˆ , html å·²ç»åˆ›å»ºå¥½äº†</li>
<li><code>update</code> : æ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨</li>
<li><code>componentUpdated</code> : æŒ‡ä»¤æ‰€åœ¨çš„ç»„ä»¶çš„ VNode å…¨éƒ¨æ›´æ–°å®Œæˆå</li>
<li><code>unbind</code> : æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨</li>
</ul>
<h3 id="é’©å­å‡½æ•°å‚æ•°">é’©å­å‡½æ•°å‚æ•°</h3>
<ul>
<li>
<p><code>el</code> : æŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´  , å¯ä»¥ç›´æ¥æ“ä½œ DOM</p>
</li>
<li>
<p><code>binding</code> : æŒ‡ä»¤ç›¸å…³çš„é…ç½®å¯¹è±¡</p>
<ul>
<li><code>modifiers</code> : ä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ ç¤ºä¾‹ <code>v-drag.limit</code></li>
<li><code>name</code> : æŒ‡ä»¤å , ä¸åŒ…å«å‰ç¼€</li>
<li><code>value</code> : æŒ‡ä»¤ç»‘å®šçš„å€¼ <code>v-drag=&quot;true&quot;</code></li>
</ul>
<div v-drag>
<p>// æ‹–æ‹½æ–¹å—æ¡ˆä¾‹<br>
Vue.directive('drag', {<br>
// åˆå§‹åŒ–æ ·å¼<br>
bind(el) {<br>
el.style.position = 'absolute'<br>
el.style.top = 0<br>
el.style.left = 0<br>
el.style.width = '100px'<br>
el.style.height = '100px'<br>
el.style.background = 'skyblue'<br>
el.style.cursor = 'pointer'<br>
},<br>
// å…ƒç´ å¯¹è±¡å­˜åœ¨å, å¼€å§‹å†™æ‹–åŠ¨é€»è¾‘<br>
inserted(el, binding) {<br>
let draging = false<br>
let elLeft = 0<br>
let elRight = 0</p>
<pre><code>document.addEventListener('mousedown', function (e) {
  draging = true
  let move = el.getBoundingClientRect()
  elLeft = e.clientX - move.left
  elRight = e.clientY - move.top  
})
document.addEventListener('mousemove', function (e) {
  let moveX = e.clientX - elLeft
  let moveY = e.clientY - elRight
  
  if (draging) {
    el.style.left = moveX + 'px'
    el.style.top = moveY + 'px'
  }
})
document.addEventListener('mouseup', function () {
  draging = false
})
</code></pre>
<p>}<br>
})</p>
</li>
</ul>
<h3 id="è‡ªå®šä¹‰æŒ‡ä»¤ä¿®é¥°ç¬¦">è‡ªå®šä¹‰æŒ‡ä»¤ä¿®é¥°ç¬¦</h3>
<blockquote>
<p>ç›¸ä¿¡å¤§å®¶ä»”ç»†çœ‹ä¸Šé¢çš„ä»£ç å¯èƒ½ä¼šå‘ç°è¿™ä¸ªæ–¹æ ¼æ‹–æ‹½è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜ ; å®ƒè¿˜æ˜¯å¯ä»¥æ‹–æ‹½åˆ°å¯è§†åŒºåŸŸä¹‹å¤–çš„ , é‚£ä¹ˆå¯ä¸å¯ä»¥ä¼ é€’ä¸€ä¸ªä¿®é¥°ç¬¦ , æ¥å‘Šè¯‰ä»–å‘¢ ? è¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ° binding è¿™ä¸ªæŒ‡ä»¤é…ç½®ç›¸å…³çš„å¯¹è±¡äº†</p>
</blockquote>
<pre><code>// æˆ‘ä»¬å…ˆä¼ å…¥ä¿®é¥°ç¬¦ limit ä¸ºè‡ªå·±å®šä¹‰çš„ä¿®é¥°ç¬¦
&lt;div v-drag.limit&gt;


// æ—¢ç„¶ä¸æƒ³è®©ä»–æ‹–æ‹½å‡ºè§†å£, é‚£ä¹ˆå°±åº”è¯¥åœ¨é¼ æ ‡ç§»åŠ¨çš„æ—¶å€™åŠ å…¥ä¸€äº›é€»è¾‘
document.addEventListener('mousemove', function (e) {
  let moveX = e.clientX - elLeft
  let moveY = e.clientY - elRight
  
  // æ˜¯å¦ä¼ å…¥äº†ä¿®é¥°ç¬¦ limit ä¸ºä»€ä¹ˆè¿™æ ·å¯ä»¥è·å– ä¸‹é¢å°±ä¸Šæˆªå›¾
  if (binding.modifiers.limit) {
    moveX = moveX &lt;= 0 ? moveX = 0 : moveX   
    moveY = moveY &lt;= 0 ? moveY = 0 : moveY
  }
  if (draging) {
    el.style.left = moveX + 'px'
    el.style.top = moveY + 'px'
  }
  console.log(binding) // binding å¯¹è±¡
})
</code></pre>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="700" height="234"></svg>)</p>
<h3 id="è‡ªå®šä¹‰æŒ‡ä»¤ä¼ å‚">è‡ªå®šä¹‰æŒ‡ä»¤ä¼ å‚</h3>
<blockquote>
<p>ä¸Šé¢æˆ‘ä»¬å·²ç»è§£å†³äº†æ‹–å‡ºè§†å£çš„é—®é¢˜ , åªè¦ä¼ é€’ä¸€ä¸ªä¿®é¥°ç¬¦å°±è§£å†³äº† , é‚£ä¹ˆç°åœ¨æˆ‘ä»¬å¸Œæœ›å¯ä»¥æ‰‹åŠ¨çš„æš‚åœæ‹–æ‹½ , å½“ç„¶ä¹Ÿæ˜¯å¯è¡Œçš„ ;</p>
</blockquote>
<pre><code>&lt;div v-drag.limit=&quot;{isDrag: false}&quot;&gt;


document.addEventListener('mousemove', function (e) {
  let moveX = e.clientX - elLeft
  let moveY = e.clientY - elRight
  
  // æ˜¯å¦ä¼ å…¥äº†ä¿®é¥°ç¬¦ limit
  if (binding.modifiers.limit) {
    moveX = moveX &lt;= 0 ? moveX = 0 : moveX   
    moveY = moveY &lt;= 0 ? moveY = 0 : moveY
  }
  // æ˜¯å¦ä¼ å…¥ isDrag åˆ¤æ–­æ˜¯å¦å¯æ»‘åŠ¨
  if (!binding.value.isDrag) return
  if (draging) {
    el.style.left = moveX + 'px'
    el.style.top = moveY + 'px'
  }
})
</code></pre>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="784" height="254"></svg>)</p>
<h2 id="ç»„ä»¶">ç»„ä»¶</h2>
<blockquote>
<p>é€šå¸¸ä¸€ä¸ªç»„ä»¶ä¼šä»¥ä¸€æ£µåµŒå¥—çš„ç»„ä»¶æ•°çš„å½¢å¼æ¥ç»„ç»‡ ; ä¸ºäº†èƒ½åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ , è¿™äº›ç»„ä»¶å¿…é¡»å…ˆæ³¨å†Œä»¥ä¾¿ vue èƒ½å¤Ÿè¯†åˆ« ;</p>
</blockquote>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1280" height="495"></svg>)</p>
<ul>
<li>
<p>å…¨å±€ç»„ä»¶</p>
<p>Vue.component('GlobalComponent', {<br>
template: <code>&lt;div&gt; hello component &lt;/div&gt;</code><br>
})</p>
<p>// å‘½åæ—¶æ¨èé©¼å³° , è°ƒç”¨æ—¶æ¨è - é“¾æ¥, html ä¸è¯†åˆ«å¤§å°å†™<br>
<global-component></global-component></p>
</li>
<li>
<p>å±€éƒ¨ç»„ä»¶</p>
<p>new Vue({<br>
el: '#app',<br>
components: {<br>
SonComponent: {<br>
template: <code>&lt;div&gt;hello private component&lt;/div&gt;</code><br>
}<br>
}<br>
})</p>
<p>// ç»„ä»¶å¯ä»¥è¢«å¤ç”¨å¤šæ¬¡<br>
<private-component></private-component><br>
<private-component></private-component><br>
<private-component></private-component></p>
</li>
<li>
<p>æ¨¡å—åŒ–å¼€å‘ä¸­çš„ç»„ä»¶</p>
<p>import SonComponent from '@/components/SonComponent.vue'</p>
<p>export default {<br>
components: {<br>
SonComponent<br>
}<br>
}</p>
<p><son-component></son-component></p>
</li>
</ul>
<h3 id="é€šè¿‡-props-å‘å­ç»„ä»¶ä¼ é€’æ•°æ®">é€šè¿‡ <code>props</code> å‘å­ç»„ä»¶ä¼ é€’æ•°æ®</h3>
<blockquote>
<p>prop æ˜¯ç»„ä»¶ä¸Šä¸€äº›è‡ªå®šä¹‰çš„ attribute , å½“ä¸€ä¸ªå€¼ä¼ é€’ç»™ä¸€ä¸ª prop attribute çš„æ—¶å€™ , å®ƒå°±å˜æˆé‚£ä¸ªç»„ä»¶å®ä¾‹çš„ property ;</p>
</blockquote>
<pre><code>// çˆ¶ç»„ä»¶
&lt;div&gt;
  &lt;son-component content=&quot;ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®, å¦‚æœåŠ¨æ€ä¼ å€¼å¯ä»¥åŠ  v-bind&quot;&gt;&lt;/son-component&gt;
&lt;/div&gt;


// å­ç»„ä»¶
Vue.component('SonComponent', {
   // å¤šä¸ªå•è¯å¯ä»¥æ˜¯é©¼å³°å¼, ä½†æ˜¯çˆ¶ç»„ä»¶ä¼ é€’æ—¶å¤šä¸ªå•è¯å¿…é¡»æ˜¯ - è¿æ¥
   // props ä¸­çš„å€¼, å¯ä»¥åƒ data ä¸­çš„æ•°æ®ä¸€æ ·è®¿é—®  this.content / {{ content }} 
   // props æ˜¯åªè¯»çš„ åˆ‡è®°ä¸è¦ä¿®æ”¹ ä¼šæŠ¥é”™
   props: ['content'],
   template: `&lt;div&gt; {{ content }} &lt;/div&gt;`
})
</code></pre>
<blockquote>
<p>props å¯ä»¥æ˜¯æ•°ç»„ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ , ç”¨æ¥æ¥æ”¶æ¥è‡ªçˆ¶ç»„ä»¶çš„æ•°æ® ;</p>
<p>å¯¹è±¡å…è®¸é…ç½®é«˜çº§é€‰é¡¹ , å¦‚ç±»å‹æ£€æµ‹ç­‰</p>
</blockquote>
<ul>
<li>
<p><code>type</code> : å¯ä»¥æ˜¯ <code>Number</code> <code>String</code> <code>Boolean</code> <code>Array</code> <code>Object</code> <code>Date</code> <code>Function</code> ä»»ä½•è‡ªå®šä¹‰æ„é€ å‡½æ•° , æˆ–ä¸Šè¿°å†…å®¹ç»„æˆçš„æ•°ç»„ , ä¼šæ£€æŸ¥ä¸€ä¸ª prop æ˜¯å¦æ˜¯ç»™å®šçš„ç±»å‹ , å¦åˆ™æŠ›å‡ºå¼‚å¸¸</p>
</li>
<li>
<p><code>default</code> : é»˜è®¤å€¼ , å¯¹è±¡æˆ–è€…æ•°ç»„çš„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°ä¸­è¿”å›</p>
</li>
<li>
<p><code>required</code> : boolean æ˜¯å¦ä¸ºå¿…å¡«é¡¹</p>
</li>
<li>
<p><code>validator</code> : Function è‡ªå®šä¹‰éªŒè¯å‡½æ•°ä¼šå°† prop çš„å€¼ä½œä¸ºå”¯ä¸€çš„å‚æ•°ä¼ å…¥</p>
<p>props: {<br>
content: {<br>
type: String,<br>
// default: 0, æ™®é€šå€¼å¯ç›´æ¥é»˜è®¤è¿”è¿˜<br>
default: () =&gt; [1, 2, 3],<br>
required: true,<br>
// å¦‚æœä¼ è¿›æ¥çš„ content é•¿åº¦å¤§äº 20 å°±ä¼šæŠ¥é”™<br>
validator: (value) =&gt; value.length &gt;= 20<br>
}<br>
}</p>
</li>
</ul>
<h3 id="ç›‘å¬å­ç»„ä»¶äº‹ä»¶-emit">ç›‘å¬å­ç»„ä»¶äº‹ä»¶ <code>$emit</code></h3>
<blockquote>
<p>æœ‰äº›æ—¶å€™ , çˆ¶ç»„ä»¶éœ€è¦ç”¨çš„å­ç»„ä»¶ä¸­ç‰¹å®šçš„å€¼æ—¶ , å¯ä»¥ä½¿ç”¨ <code>$emit</code> æŠŠè¿™ä¸ªå€¼ä¼ é€’å‡ºå»</p>
</blockquote>
<ul>
<li>
<p>è¡Œå†…æ¨¡å¼ä¼ å€¼</p>
<p>// å­ç»„ä»¶<br>
<template></p>
  <div class="son">
    // $emit ç¬¬ä¸€ä¸ªå‚æ•°è‡ªå®šä¹‰äº‹ä»¶, ç¬¬äºŒä¸ªåŠä»¥åæ˜¯ä¼ é€’çš„æ•°æ®
    <button @click="$emit(son-com, [1, 2, 3])"></button>
  </div>
</template>
<p>// çˆ¶ç»„ä»¶<br>
// ç›‘å¬å­ç»„ä»¶å®šä¹‰çš„è‡ªå®šä¹‰äº‹ä»¶ , é€šè¿‡ $event è®¿é—®ç¬¬ä¸€ä¸ªä¼ é€’çš„å‚æ•°<br>
&lt;son-component @son-com=&quot;msg = $event&quot;&gt;</son-component></p>
</li>
<li>
<p>äº‹ä»¶å¤„ç†å‡½æ•°ä¼ å€¼</p>
<p>// å­ç»„ä»¶<br>
<template></p>
  <div class="son">
    <button @click="sonHandle"></button>
  </div>
</template>
<script>
export default {
  methods: {
    sonHandle() {
      this.$emit('son-com', 'éœ€è¦ä¼ é€’çš„å€¼')
    }
  }
}
</script>
<p>// çˆ¶ç»„ä»¶<br>
<template></p>
  <div class="parent">
    <son-component @son-com="parentHandle"></son-component>
    // æ˜¾ç¤ºä¼ å…¥å…¶ä»–å‚æ•°çš„è¯ å¿…é¡»ä½¿ç”¨ $event æ¥æ”¶å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å€¼
    <son-component @son-com="parent('æ˜¾ç¤ºä¼ å…¥å‚æ•°', $event)"></son-component>
  </div>
</template>
<script>
export default {
  methods: {
    // é»˜è®¤ç¬¬ä¸€ä¸ªå€¼å°±æ˜¯ä¼ é€’è¿‡æ¥çš„å‚æ•°
    parentHandle(arg) {
      	console.log(arg) // éœ€è¦ä¼ é€’çš„å€¼
    },
    // å¯¹åº”ä¼ å…¥å‚æ•°çš„ä½ç½®
    parent(params, arg) {
      console.log(params) // æ˜¾ç¤ºä¼ å…¥å‚æ•°
      console.log(arg) // éœ€è¦ä¼ é€’çš„å€¼
    }
  }
}
</script>
</li>
<li>
<p>äº‹ä»¶å¤„ç†å‡½æ•°ä¼ é€’å¤šä¸ªå€¼</p>
<p>// å­ç»„ä»¶<br>
<template></p>
  <div class="son">
    <button @click="sonHandle"></button>
  </div>
</template>
<script>
export default {
  methods: {
    sonHandle(event) {
      // äº‹ä»¶å¯¹è±¡å¯ä»¥åœ¨ä»»æ„ä½ç½® , æ”¾åˆ°å‰é¢ç›¸å¯¹æ¯”è¾ƒå¥½æ¥æ”¶
      this.$emit('son-com', event, 'éœ€è¦ä¼ é€’çš„å€¼', 'éœ€è¦ä¼ é€’çš„ç¬¬äºŒä¸ªå€¼')
    }
  }
}
</script>
<p>// çˆ¶ç»„ä»¶<br>
<template></p>
  <div class="son">
    <button @son-com="parent"></button>
  </div>
</template>
<script>
export default {
  methods: {
    parent(event, ...args) {
      console.log(event)
      // å¦‚æœä¸æƒ³ä½¿ç”¨å‰©ä½™å‚æ•°, ä¹Ÿå¯ä»¥å¤šä¼ é€’å‚æ•°é€ä¸ªä½¿ç”¨
      console.log(args)
    }
  }
}
</script>
</li>
</ul>
<h4 id="ç»„ä»¶ä¸Šä½¿ç”¨-v-model">ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-model</code></h4>
<p>åœ¨ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ä¹‹å‰æˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸ªä¸œè¥¿ , <code>v-model</code> ç©¶ç«Ÿæ˜¯ä»€ä¹ˆ ; å…¶å®å®ƒä»æŸç§ç¨‹åº¦æ¥è¯´å°±æ˜¯ä¸€ä¸ªè¯­æ³•ç³–</p>
<pre><code>&lt;input type=&quot;text&quot; v-model=&quot;msg&quot;/&gt;
</code></pre>
<p>ç­‰ä»·äº</p>
<pre><code>&lt;input :value=&quot;msg&quot; @input=&quot;msg = $event.target.value&quot;/&gt;
</code></pre>
<p>åº”ç”¨åˆ°ç»„ä»¶ä¸­å°±æ˜¯ä¸‹é¢è¿™æ · ä¸ºäº†ä¸å¼•èµ·æ­§ä¹‰, æˆ‘æŠŠè‡ªå®šä¹‰çš„äº‹ä»¶ä»¥åŠå±æ€§åŠ äº†test å‰ç¼€è¯¦æƒ…çœ‹[å®˜ç½‘](https://cn.vuejs.org/v2/guide/components.html target=)</p>
<pre><code>// çˆ¶ç»„ä»¶
&lt;model-input 
  :test-value=&quot;searchText&quot; 
  @test-input=&quot;searchText = $event&quot;
  &gt;
&lt;/model-input&gt; 
</code></pre>
<ul>
<li>
<p>å­ç»„ä»¶çš„ result å¿…é¡»ç»‘å®šåˆ° value ä¸Šé¢</p>
</li>
<li>
<p>åœ¨è¿™ä¸ª input è§¦å‘çš„æ—¶å€™ é€šè¿‡ <code>$emit</code> å°†è‡ªå®šä¹‰çš„ test-input åœ¨æš´éœ²å‡ºå»</p>
<p>// å­ç»„ä»¶<br>
&lt;input<br>
type=&quot;text&quot;<br>
v-bind:value=&quot;testValue&quot;<br>
@input=&quot;$emit('test-input', $event.target.value)&quot;</p>
<blockquote></blockquote>
<p>// script<br>
props: ['testValue'] // è‡ªå®šä¹‰å±æ€§ä¼ é€’è¿‡æ¥çš„å€¼</p>
</li>
</ul>
<p>æ­¤æ—¶æˆ‘ä»¬å†ä¼˜åŒ–ä¸€ä¸‹ , ä½¿ç”¨ <code>v-model</code></p>
<pre><code>// çˆ¶ç»„ä»¶
&lt;model-input v-model=&quot;searchText&quot;&gt;&lt;/model-input&gt; 
</code></pre>
<p>ç”±äºæˆ‘ä»¬ç»„ä»¶ä¸­ä½¿ç”¨äº† v-model è€Œå‰é¢æˆ‘ä»¬ä¹Ÿæåˆ°äº† v-model å…¶å®æ˜¯ v-bind å’Œ v-on çš„è¯­æ³•ç³– , æ‰€ä»¥åªèƒ½ç”¨ value å±æ€§å’Œ input äº‹ä»¶</p>
<pre><code>// å­ç»„ä»¶
&lt;input
  type=&quot;text&quot;
  v-bind:value=&quot;value&quot;
  @input=&quot;$emit('input', $event.target.value)&quot;
&gt;
// script
props: ['value'] 
</code></pre>
<blockquote>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº† , ä¸Šé¢æˆ‘ä»¬æè¿‡ v-model é»˜è®¤æ˜¯ valueå±æ€§ å’Œ inputäº‹ä»¶ , ä½†æ˜¯åƒå•é€‰æ¡† , å¤é€‰æ¡†ç­‰ç±»å‹æ€ä¹ˆå¤„ç† ? å¯¹æ­¤ Vue æä¾›äº† <code>model</code> é€‰é¡¹æ¥é¿å…è¿™æ ·çš„å†²çª</p>
</blockquote>
<h4 id="å•ä¸ªå¤é€‰æ¡†ç»„ä»¶ç»‘å®š">å•ä¸ªå¤é€‰æ¡†ç»„ä»¶ç»‘å®š</h4>
<pre><code>// çˆ¶ç»„ä»¶
&lt;model-input v-model=&quot;isChecked&quot;&gt;&lt;/model-input&gt;

// script
data() {
  return {
    isChecked: false
  }
},
</code></pre>
<p>é€‰ä¸­ å’Œ æœªé€‰ä¸­ è¿”å› true / false</p>
<pre><code>// å­ç»„ä»¶
&lt;input
  type=&quot;checkbox&quot;
  v-bind:checked=&quot;checked&quot;
  @change=&quot;$emit('change', $event.target.checked)&quot;
&gt;
// script

export default {
  name: 'ModelInput',
  // v-model æ‹†åˆ†
  model: {
    prop: 'checked', // å°†ä¼ è¿›æ¥çš„ isChecked å˜æˆ checked ä¾›åé¢çš„ props ä½¿ç”¨
    event: 'change' //  å®šä¹‰ emit è‡ªå®šä¹‰çš„äº‹ä»¶åå­—
  },
  props: {
    checked: {
      type: Boolean
    }
  }
}
</code></pre>
<h2 id="ç»„ä»¶æ’æ§½">ç»„ä»¶æ’æ§½</h2>
<blockquote>
<p>åœ¨ 2.6.0 ä¸­ ä¸ºå…·åæ’æ§½å’Œä½œç”¨åŸŸæ’æ§½æä¾›äº†æ–°çš„ç»Ÿä¸€è¯­æ³• <code>v-slot</code> å®ƒå–ä»£äº† <code>slot</code> å’Œ <code>slot-scope</code> è¿™ä¸¤ä¸ªç›®å‰å·²è¢«åºŸå¼ƒ , ä½†æ˜¯è¿˜æ²¡æœ‰ç§»é™¤ (ä»ç„¶å¯ä»¥ä½¿ç”¨)</p>
<p>æ’æ§½ : ç®€å•ç†è§£å°±æ˜¯ å å‘ åœ¨ç»„ä»¶æ¨¡æ¿ä¸­å å¥½ä½ç½® , å½“ä½¿ç”¨è¯¥ç»„ä»¶çš„æ ‡ç­¾æ—¶ , ç»„ä»¶æ ‡ç­¾çš„å†…å®¹å°±ä¼šè‡ªåŠ¨å¡«å‘ , ( æ›¿æ¢ç»„ä»¶æ¨¡æ¿ä¸­çš„ <code>slot</code> ä½ç½® ) , å¹¶ä¸”å¯ä»¥ä½œä¸ºæ‰¿è½½åˆ†å‘å†…å®¹çš„å‡ºå£</p>
</blockquote>
<h3 id="å†…å®¹æ’æ§½">å†…å®¹æ’æ§½</h3>
<pre><code>// å­ç»„ä»¶
&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;è¿™æ˜¯ç»„ä»¶çš„å¤´éƒ¨&lt;/p&gt;
    &lt;slot&gt;&lt;/slot&gt;
    &lt;p&gt;è¿™æ˜¯ç»„ä»¶çš„å°¾éƒ¨&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;


// çˆ¶ç»„ä»¶
&lt;&lt;template&gt;
  &lt;div&gt;
    &lt;!-- æ’æ§½å†…å¯ä»¥æ˜¯ä»»ä½•å†…å®¹ ç»„ä»¶,æ–‡æœ¬,æ ‡ç­¾--&gt;
    &lt;slot-test&gt;
      &lt;p&gt;è¿™æ˜¯æ’æ§½çš„å†…å®¹&lt;/p&gt;
    &lt;/slot-test&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><strong>è§„åˆ™ :</strong> çˆ¶çº§æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ ; å­æ¨¡æ¿çš„æ‰€æœ‰å†…å®¹éƒ½åœ¨å­ä½œç”¨åŸŸä¸­ç¼–è¯‘</p>
<h3 id="é»˜è®¤å†…å®¹æ’æ§½">é»˜è®¤å†…å®¹æ’æ§½</h3>
<blockquote>
<p><code>&lt;slot&gt;</code> æ ‡ç­¾å†…å¯ä»¥åŠ å…¥ ç»„ä»¶, æ–‡æœ¬, æ ‡ç­¾ç­‰é»˜è®¤å†…å®¹ , å¦‚æœçˆ¶ç»„ä»¶è°ƒç”¨æ—¶, æ²¡æœ‰ä¼ å…¥å†…å®¹, é‚£ä¹ˆå°±ä¼šå±•ç¤ºé»˜è®¤çš„å†…å®¹</p>
</blockquote>
<pre><code>// å­ç»„ä»¶
&lt;template&gt;
  &lt;div&gt;
    &lt;p&gt;è¿™æ˜¯ç»„ä»¶çš„å¤´éƒ¨&lt;/p&gt;
    &lt;slot&gt;æˆ‘æ˜¯é»˜è®¤å†…å®¹&lt;/slot&gt;
    &lt;p&gt;è¿™æ˜¯ç»„ä»¶çš„å°¾éƒ¨&lt;/p&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h3 id="å…·åæ’æ§½">å…·åæ’æ§½</h3>
<blockquote>
<p>æœ‰äº›æ—¶å€™ä¸€ä¸ªæ’æ§½æ˜¯ä¸èƒ½æ»¡è¶³éœ€æ±‚çš„ , æˆ‘ä»¬å¯èƒ½éœ€è¦å¤šä¸ª ; å¯¹äºè¿™ç§æƒ…å†µ , <code>&lt;slot&gt;</code> å…ƒç´ ä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ attribute <code>name</code> è¿™ä¸ª attribute ç”¨æ¥å®šä¹‰é¢å¤–çš„æ’æ§½</p>
</blockquote>
<pre><code>// å­ç»„ä»¶
&lt;template&gt;
  &lt;div&gt;
    &lt;header&gt;
      &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;
    &lt;/header&gt;
    &lt;main&gt;
      &lt;!-- å¦‚æœæ²¡æœ‰æŒ‡å®š name é»˜è®¤çš„ name ä¸ºdefault --&gt;
      &lt;slot&gt;&lt;/slot&gt;
    &lt;/main&gt;
    &lt;footer&gt;
      &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;
    &lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<blockquote>
<p>åœ¨å‘å…·åæ’æ§½æä¾›å†…å®¹çš„æ—¶å€™ , å¯ä»¥åœ¨ä¸€ä¸ª <code>template</code> å…ƒç´ ä¸­ä¸Š ä½¿ç”¨<code>v-slot</code> æŒ‡ä»¤ å¹¶ä»¥å‚æ•°çš„å½¢å¼æä¾›åç§°</p>
</blockquote>
<pre><code>// çˆ¶ç»„ä»¶
&lt;template&gt;
  &lt;div&gt;
	&lt;slot-test&gt;
	  &lt;template v-slot:header&gt; æˆ‘æ˜¯ header å†…å®¹ &lt;/template&gt;
      æˆ‘æ˜¯ æ²¡æœ‰æŒ‡å®š name çš„å†…å®¹ &lt;!-- æˆ–è€…ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢çš„å†…å®¹ --&gt;
      &lt;template v-slot:default&gt; æ²¡æœ‰æŒ‡å®š name çš„å†…å®¹ &lt;/template&gt;
      &lt;template v-slot:footer&gt; æˆ‘æ˜¯ footer å†…å®¹ &lt;/template&gt;
	&lt;/slot-test&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<blockquote>
<p><code>&lt;template&gt;</code> ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šä¼ å…¥å“åº”çš„æ’æ§½ , ä»»ä½•æ²¡æœ‰åŒ…è£¹åœ¨å¸¦æœ‰ <code>v-slot</code> çš„ <code>&lt;template&gt;</code> ä¸­çš„å†…å®¹éƒ½ä¼šè¢«è§†ä¸ºé»˜è®¤æ’æ§½çš„å†…å®¹ ; é€šä¿—ä¸€ç‚¹æ¥è¯´ , å°±æ˜¯æˆ‘åœ¨å­ç»„ä»¶ä¸­å£°æ˜äº†å¤šä¸ª æ²¡æœ‰ <code>name</code> çš„ <code>&lt;slot&gt;</code> , é‚£ä¹ˆ æˆ‘åœ¨çˆ¶ç»„ä»¶ä¸­ , åªéœ€è¦æ¸²æŸ“ä¸€æ¬¡ , æ‰€æœ‰å­ç»„ä»¶çš„æ’æ§½å°±éƒ½ä¼šè¢«æ¸²æŸ“ ;</p>
<p>æ³¨æ„ : <code>v-slot</code> åªèƒ½æ·»åŠ åœ¨ <code>&lt;template&gt;</code> ä¸Š , è¿˜æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µåé¢ä¼šè¯´</p>
</blockquote>
<h4 id="å…·åæ’æ§½ç¼©å†™">å…·åæ’æ§½ç¼©å†™</h4>
<blockquote>
<p><code>v-slot:</code> æ›¿æ¢ä¸º <code>#</code></p>
<p>æ³¨æ„ ï¼š åªæœ‰å¸¦å‚æ•°æ—¶å¯ä»¥ä½¿ç”¨ ï¼Œ å…¶ä»–æƒ…å†µä¸‹æ˜¯æ— æ•ˆçš„</p>
</blockquote>
<pre><code>// å­ç»„ä»¶
&lt;div&gt;
  &lt;slot&gt;&lt;/slot&gt;
&lt;/div&gt;


/* çˆ¶ç»„ä»¶ */

// é”™è¯¯ç¤ºä¾‹
&lt;slot-test&gt;
  &lt;template #&gt;
    &lt;!-- å†…å®¹ã€‚ã€‚ã€‚ã€‚--&gt;
  &lt;/template&gt;
&lt;/slot-test&gt;

// æ­£ç¡®ç¤ºä¾‹
&lt;slot-test&gt;
  &lt;template #default&gt;
    &lt;!-- å†…å®¹ã€‚ã€‚ã€‚ã€‚--&gt;
  &lt;/template&gt;
&lt;/slot-test&gt;
</code></pre>
<h3 id="ä½œç”¨åŸŸæ’æ§½">ä½œç”¨åŸŸæ’æ§½</h3>
<blockquote>
<p>ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´ , æ’æ§½æ˜¯å­ç»„ä»¶é«˜å¯ç”¨ , é«˜å®šåˆ¶åŒ–çš„ä¸€ç§æ‰‹æ®µ , é‚£ä¹ˆæˆ‘ä»¬è‚¯å®šä¼šç¢°åˆ°æ’æ§½å†…å®¹ , éœ€è¦è®¿é—®å­ç»„ä»¶ä¸­æ•°æ®çš„æƒ…å†µ ;</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>v-bind</code> æŠŠéœ€è¦ä¼ é€’çš„å€¼ ç»‘å®šåˆ° <code>&lt;slot&gt;</code> ä¸Š , ç„¶ååœ¨ çˆ¶ç»„ä»¶ä¸­ ä½¿ç”¨ <code>v-slot</code> è®¾ç½®ä¸€ä¸ªå€¼æ¥å®šä¹‰æä¾›æ’æ§½çš„åå­—</p>
<pre><code>// å­ç»„ä»¶
&lt;template&gt;
  &lt;div&gt;
	&lt;slot name=&quot;userInfo&quot; :user=&quot;userInfo&quot;&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  data() {
    return {
      userInfo: {
        firstName: 'firstName',
        lastName: 'lastName'
      }
    }
  }
}
&lt;/script&gt;


// çˆ¶ç»„ä»¶
&lt;template&gt;
  &lt;div&gt;
    &lt;slot-test&gt;
      &lt;!-- å¦‚æœåªæœ‰ä¸€ä¸ªæ’æ§½å¯ä»¥å§ v-slot å†™åˆ° ç»„ä»¶ä¸Šé¢ å…·ä½“çœ‹ä¸‹é¢--&gt;
      &lt;template v-slot:userInfo=&quot;slotProps&quot;&gt;
        {{ slotProps.user.firstName }}
      &lt;/template&gt;
    &lt;/slot-test&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h4 id="ç‹¬å é»˜è®¤æ’æ§½ç¼©å†™è¯­æ³•">ç‹¬å é»˜è®¤æ’æ§½ç¼©å†™è¯­æ³•</h4>
<blockquote>
<p>å½“è¢«æä¾›çš„å†…å®¹åªæœ‰é»˜è®¤æ’æ§½æ—¶ , ç»„ä»¶çš„æ ‡ç­¾æ‰å¯ä»¥å½“åšæ’æ§½çš„æ¨¡æ¿ä½¿ç”¨ , è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æŠŠ <code>v-slot</code> ç›´æ¥ç”¨åœ¨ç»„ä»¶ä¸Š</p>
</blockquote>
<pre><code>// å­ç»„ä»¶
&lt;div&gt;
  &lt;slot :user=&quot;userInfo&quot;&gt;&lt;/slot&gt;
&lt;/div&gt;

// ç»„ä»¶æ•°æ®
data(){
  return {
    userInfo: {
      firstName: 'firstName',
      lastName: 'lastName'
    }
  }
}


// çˆ¶ç»„ä»¶
&lt;div&gt;
  &lt;slot-test v-slot=&quot;slotProps&quot;&gt;
    {{ slotProps.user.firstName }}
  &lt;/slot-test&gt;
&lt;/div&gt;
</code></pre>
<ul>
<li>ä¸è¦å°è¯•æ’æ§½çš„ &quot;ç¼©å†™è¯­æ³•&quot; å’Œ &quot;å…·åæ’æ§½æ··ç”¨&quot; ä¼šå¯¼è‡´ä½œç”¨åŸŸä¸æ˜ç¡®</li>
<li>åªè¦å‡ºç°å¤šä¸ªæ’æ§½ , éœ€è¦å§‹ç»ˆä¸ºæ‰€æœ‰çš„æ’æ§½ä½¿ç”¨ <code>&lt;template&gt;</code> è¯­æ³•</li>
<li>å‚è€ƒå®˜ç½‘ : [é»˜è®¤æ’æ§½](https://cn.vuejs.org/v2/guide/components-slots.html target=)</li>
</ul>
<h4 id="è§£æ„æ’æ§½-prop">è§£æ„æ’æ§½ <code>Prop</code></h4>
<blockquote>
<p>æ’æ§½æ”¯æŒé€šè¿‡ ES6 ç»“æ„ä¼ å…¥å…·ä½“çš„æ’æ§½ prop è‡³äºåŸç† ;</p>
<p>å®˜ç½‘è¯´ : ä½œç”¨åŸŸæ’æ§½å†…éƒ¨åŸç†æ˜¯å°†ä½ çš„æ’æ§½å†…å®¹åŒ…æ‹¬åœ¨ä¸€ä¸ªä¼ å…¥å•ä¸ªå‚æ•°çš„å‡½æ•°é‡Œ ; æ²¡æœ‰å¬æ‡‚ ğŸ˜‚ è‡ªèº«æ¡£æ¬¡è¿˜ä¸å¤Ÿï¼Œ è¿˜æ˜¯çœ‹çœ‹æ€ä¹ˆç”¨çš„å§</p>
</blockquote>
<pre><code>&lt;div&gt;
  &lt;slot-test v-slot=&quot;{ user }&quot;&gt;
    {{ user.firstName }}
  &lt;/slot-test&gt;
&lt;/div&gt;
</code></pre>
<p>åœ¨æä¾›å¤šä¸ª prop çš„æ—¶å€™ ï¼Œå®ƒåŒæ ·å¼€å¯äº† prop é‡å‘½åçš„åŠŸèƒ½</p>
<pre><code>&lt;div&gt;
  &lt;slot-test v-slot=&quot;{ user: preson }&quot;&gt;
    {{ preson.firstName }}
  &lt;/slot-test&gt;
&lt;/div&gt;
</code></pre>
<h3 id="æ’æ§½å…¶ä»–ç¤ºä¾‹">æ’æ§½å…¶ä»–ç¤ºä¾‹</h3>
<blockquote>
<p>æ’æ§½ prop å…è®¸æˆ‘ä»¬å°†æ’æ§½è½¬æ¢ä¸ºå¯å¤ç”¨çš„æ¨¡æ¿ ï¼Œ è¿™äº›æ¨¡æ¿å¯ä»¥åŸºäºè¾“å…¥ä¸åŒçš„ prop æ¸²æŸ“å‡ºä¸åŒçš„å†…å®¹ï¼›</p>
</blockquote>
<p>æ¯”å¦‚æˆ‘ä»¬è®¾è®¡ä¸€ä¸ª <code>&lt;todo-list&gt;</code> ç»„ä»¶ ï¼Œå®ƒæ˜¯ä¸€ä¸ªåˆ—è¡¨ä¸”åŒ…å«ä¸€å®šçš„é€»è¾‘</p>
<pre><code>// å­ç»„ä»¶
&lt;template&gt;
  &lt;ul&gt;
    &lt;li v-for=&quot;item in list&quot; :key=&quot;item.id&quot;&gt;
      &lt;!-- è¿™é‡ŒæŠŠæ§åˆ¶é€»è¾‘äº¤å‡ºå»ï¼Œç”±çˆ¶ç»„ä»¶å»æ§åˆ¶ä¸€å®šçš„é€»è¾‘ --&gt;
      &lt;slot name=&quot;todo&quot; :item=&quot;item&quot;&gt;
        {{ item.uname }}
      &lt;/slot&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;
// æ•°æ®
[
  {id: 1, uname: 'zs'},
  {id: 2, uname: 'ls'},
  {id: 3, uname: 'we'},
  {id: 4, uname: 'mz'},
]


// çˆ¶ç»„ä»¶
&lt;test v-slot:todo=&quot;slotProps&quot;&gt;
  &lt;!-- æœ¬æ¥æ˜¯æ˜¾ç¤ºåå­—çš„æ”¹æˆäº†æ˜¾ç¤ºid --&gt;
  {{ slotProps.item.id }}
&lt;/test&gt;
</code></pre>
<h2 id="åŠ¨æ€ç»„ä»¶-component">åŠ¨æ€ç»„ä»¶ <code>component</code></h2>
<p>åœ¨è¯´åŠ¨æ€ç»„ä»¶ä¹‹å‰ï¼Œ å…ˆåŠ¨æ‰‹å®ç°ä¸€ä¸ª tab åˆ†é¡µï¼Œä¸ç„¶è²Œä¼¼ä¸æ˜¯å¾ˆå¥½ç†è§£ ğŸ˜‚</p>
<pre><code>// æ¨¡æ¿
&lt;div&gt;
  &lt;button @click=&quot;handle('post')&quot; :style=&quot;{background: !isShow ? 'red' : ''}&quot;&gt;post&lt;/button&gt;
  &lt;button @click=&quot;handle('list')&quot; :style=&quot;{background: isShow ? 'red' : ''}&quot;&gt;list&lt;/button&gt;
  &lt;item-post v-show=&quot;!isShow&quot;&gt;&lt;/item-post&gt;
  &lt;item-list v-show=&quot;isShow&quot;&gt;&lt;/item-list&gt;
&lt;/div&gt;

// script
import ItemPost from '@/components/ItemPost.vue'
import ItemList from '@/components/ItemList.vue'

export default {
  name: 'Home',
  components: {
    ItemPost,
    ItemList
  },
  data() {
    return {
      isShow: true
    }
  },
  methods: {
    handle(title) {
      title === 'list' ? this.isShow = true : this.isShow = false
    }
  }
}
</code></pre>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="830" height="396"></svg>)</p>
<blockquote>
<p>å¯ä»¥çœ‹å‡ºä¸Šé¢æˆ‘ä»¬å†™äº†ä¸¤ä¸ªå°ç»„ä»¶ï¼Œåšäº†ä¸€ä¸ªç®€æ˜“çš„ tab é€‰é¡¹å¡ ï¼›</p>
<p>é‡ç‚¹å¯ä»¥çœ‹æˆ‘ä»¬å¼•å…¥ç»„ä»¶çš„æ–¹å¼ï¼›å°±æ˜¯ç®€å•çš„åœ¨æ¨¡æ¿ä¸­åº”ç”¨ï¼›å¸¸è§„æ“åšï¼›ç°åœ¨åªå¼•å…¥ä¸¤ä¸ªæ ‡ç­¾è¿˜å¥½ï¼Œé‚£å¦‚æœä¸‰äº”åæ¥ä¸ªå°±æ˜¾å¾—æœ‰ç‚¹éº»çƒ¦äº†</p>
</blockquote>
<h3 id="åŠ¨æ€ç»„ä»¶åº”ç”¨">åŠ¨æ€ç»„ä»¶åº”ç”¨</h3>
<blockquote>
<p>æœ‰äº†åŠ¨æ€ç»„ä»¶ä¹‹åï¼Œ ç±»ä¼¼è¿™ç§ç®€æ˜“çš„ tab åˆ‡æ¢æˆ‘ä»¬å°±ä¸éœ€è¦å†æ¨¡æ¿ä¸­ä½¿ç”¨è¿™ä¹ˆå¤šçš„ç»„ä»¶æ ‡ç­¾äº†</p>
</blockquote>
<p>çœ‹ä»£ç ç¤ºä¾‹ï¼Œ æˆ‘ä»¬åªéœ€è¦ template ä¸­å¼•å…¥ç»„ä»¶çš„éƒ¨åˆ† ä»¥åŠåœ¨ script ä¸­çš„ data æ–°å¢ä¸€ä¸ªå±æ€§</p>
<pre><code>&lt;!-- æ¯æ¬¡ç‚¹å‡» button çš„æ—¶å€™è§¦å‘ handleäº‹ä»¶å‡½æ•°æ—¶ isç»‘å®šçš„å€¼ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶ --&gt;
&lt;component :is=&quot;showWhat&quot;&gt;&lt;/component&gt;


data() {
  return {
    showWhat: 'ItemPost',
    isShow: true
  }
},
methods: {
  handle(title) {
    // è¿™é‡ŒåŒæ—¶æ§åˆ¶äº†åˆ‡æ¢ä¹‹å active çš„æ ·å¼ï¼Œæ‰€ä»¥å°±ä¸åˆ äº†
    title === 'list' ? this.isShow = true : this.isShow = false
    // åŠ ä¸€å±‚åˆ¤æ–­åˆ‡æ¢é€»è¾‘
    title === 'list' ? this.showWhat = 'ItemList' : this.showWhat = 'ItemPost'
  }
}
</code></pre>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="830" height="396"></svg>)</p>
<blockquote>
<p>è¿™é‡Œå°±å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œ è™½ç„¶æˆ‘ä»¬å®Œæˆäº† ç»„ä»¶ä¹‹é—´çš„åˆ‡æ¢ï¼Œä½†æ˜¯å…³äº input çš„é€‰ä¸­çŠ¶æ€æˆ‘ä»¬æ²¡æœ‰ä¿ç•™ä¸‹æ¥ï¼Œ<strong>åŸå› æ˜¯æ¯æ¬¡åˆ‡æ¢çš„æ—¶å€™ï¼ŒVue éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ <code>showWhat</code> å®ä¾‹</strong> é‡æ–°åˆ›å»ºåŠ¨æ€ç»„ä»¶çš„è¡Œä¸ºé€šå¸¸æ¥è¯´è¿˜æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæ›´å¸Œæœ›å®ƒèƒ½å¤Ÿä¿ç•™ä¸‹æ¥ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVue ä¸­æä¾›äº†ä¸€ä¸ªå†…ç½®å…ƒç´  <code>&lt;keep-alive&gt;</code> åªéœ€è¦å°†è¯¥å…ƒç´ æŠŠç»„ä»¶åŒ…è£¹èµ·æ¥å³å¯</p>
</blockquote>
<pre><code>&lt;!-- å¤±æ´»çš„ tab å°†ä¼šè¢«ç¼“å­˜ --&gt;
&lt;keep-alive&gt;  
  &lt;component :is=&quot;showWhat&quot;&gt;&lt;/component&gt;
&lt;/keep-alive&gt;
</code></pre>
<h2 id="å¼‚æ­¥ç»„ä»¶">å¼‚æ­¥ç»„ä»¶</h2>
<blockquote>
<p>åœ¨å¤§å‹åº”ç”¨ä¸­ï¼Œ æˆ‘ä»¬å¯èƒ½éœ€è¦å°†åº”ç”¨ä¸­åˆ†å‰²æˆå°ä¸€äº›çš„ä»£ç å—ï¼Œå¹¶ä¸”åªåœ¨éœ€è¦çš„æ—¶å€™ï¼Œå†æ¬¡åŠ è½½è¿™ä¸ªæ¨¡å—ï¼›é“ç†å’Œ webpack çš„æŒ‰éœ€åŠ è½½æ˜¯ä¸€æ ·çš„ï¼›</p>
</blockquote>
<p>è¿™é‡Œå…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„ç»„ä»¶</p>
<pre><code>&lt;template&gt;
  &lt;div&gt;è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç»„ä»¶&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>ç„¶ååœ¨ä¸»ç»„ä»¶å†…å¸¸è§„å¼•å…¥çœ‹ä¸‹æ•ˆæœ</p>
<pre><code>&lt;template&gt;
  &lt;div&gt;
    &lt;dynamic&gt;&lt;/dynamic&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import Dynamic from '@/component/Dynamic.vue'

export default {
  name: 'Home',
  components: {
    Dynamic
  }
}
&lt;/script&gt;
</code></pre>
<p>çœ‹ä¸‹å›¾ï¼Œ ä¸Šé¢çš„ä¹¦å†™æ–¹å¼ï¼ŒåŠ è½½å‡ºæ¥çš„ç»„ä»¶ï¼Œä¼šè¢«å…¨éƒ¨æ¸²æŸ“åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œå¦‚æœæˆ‘ä»¬çš„è¿™ä¸ªé¡µé¢ç»„ä»¶å¾ˆå¤šï¼Œæˆ–è€…è¯´æœ‰äº›ç»„ä»¶ï¼Œåªæœ‰è§¦å‘äº†ç‰¹å®šæ“ä½œåæ‰ä¼šæ˜¾ç¤ºï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å°±æ²¡æœ‰å¿…è¦åœ¨é¡µé¢æ¸²æŸ“æ—¶ï¼Œå°±æŠŠæ‰€æœ‰çš„ç»„ä»¶å…¨éƒ¨åŠ è½½å‘¢ ï¼Ÿ</p>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="827" height="470"></svg>)</p>
<h3 id="å¼‚æ­¥ç»„ä»¶ç¤ºä¾‹">å¼‚æ­¥ç»„ä»¶ç¤ºä¾‹</h3>
<p>æ ¹æ®ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ script éƒ¨åˆ†</p>
<pre><code>export default {
  components: {
    // script å¤´éƒ¨çš„å¯¼å…¥ï¼Œ ç›´æ¥åœ¨ç»„ä»¶å†…å¯¼å…¥
    Dynamic: () =&gt; import Dynamic from '@/component/Dynamic.vue'
  }
}
</code></pre>
<p>å¯ä»¥çœ‹å‡ºä¸‹å›¾å¤šå‡ºäº† <code>0.js</code> ç”±æ­¤å¯è§ vue-cli å¸®åŠ©æˆ‘ä»¬åˆ†å¼€æ‰“åŒ…äº†æ–‡ä»¶ï¼›è¿™ä¸ªæ–‡ä»¶åœ¨è¢«åŠ è½½ä¹‹åï¼Œå°±ä¼šè¢«ç¼“å­˜èµ·æ¥ï¼›è¿™ä¸ªä¾‹å­åªæ˜¯çœ‹å‡ºäº†å®ƒè¢«æ‹†å¼€äº†ï¼Œå¹¶ä¸èƒ½è¯æ˜å’±ä»¬å¼€å§‹è¯´çš„æŒ‰éœ€æ¸²æŸ“çš„é“ç†ï¼›åŸºäºè¿™ä¸ªä¾‹å­å¯ä»¥å†æ”¹ä¸€ä¸‹ï¼ŒåŠ ä¸€ä¸ªåˆ¤æ–­é€»è¾‘</p>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="931" height="498"></svg>)</p>
<pre><code>&lt;template&gt;
  &lt;div&gt;
    // å°±æ˜¯å¢åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»æ§åˆ¶ï¼Œè¿™é‡Œå°±ç»™å¤§å®¶ç®€åŒ–äº†
    &lt;dynamic  v-if=&quot;isShow&quot;&gt;&lt;/dynamic&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>ä¸‹å›¾å¯ä»¥çœ‹å‡ºæ²¡æœ‰æ˜¾ç¤ºå­ç»„ä»¶æ—¶ï¼Œ æŠŠè¿™ä¸ªæ–‡ä»¶ç»™ç¼“å­˜èµ·æ¥äº†ï¼Œåªæœ‰çœŸæ­£è°ƒç”¨åˆ°çš„æ—¶å€™æ‰ä¼šåŠ è½½å¯¹åº”çš„èµ„æºï¼›</p>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1015" height="549"></svg>)</p>
<p>å½“ç„¶è¿™åªæ˜¯å…¶ä¸­ä¸€ä¸ªåŠŸèƒ½ï¼Œæ¯”å¦‚ç½‘ç»œä¸å¥½çš„æ—¶å€™ï¼Œç»„ä»¶åŠ è½½çš„ç”¨æˆ·ä½“éªŒä¼šå—åˆ°æŸå®³ï¼Œè¶…æ—¶çš„å¤„ç†ç­‰ç­‰ï¼›å…·ä½“é…ç½®å‚è€ƒ vue å®˜ç½‘ ï¼š [å¤„ç†åŠ è½½çŠ¶æ€](https://cn.vuejs.org/v2/guide/components-dynamic-async.html target=)</p>
<h2 id="è®¿é—®å­ç»„ä»¶å®ä¾‹æˆ–å­å…ƒç´ -ref">è®¿é—®å­ç»„ä»¶å®ä¾‹æˆ–å­å…ƒç´  <code>ref</code></h2>
<p>å°½ç®¡å­˜åœ¨ prop å’Œäº‹ä»¶ , æœ‰çš„æ—¶å€™ä½ æ‰”å¯èƒ½éœ€è¦å† JavaScript ä¸­ç›´æ¥è®¿é—®ä¸€ä¸ªå­ç»„ä»¶ , ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ä½ å¯ä»¥ä½¿ç”¨ <code>ref</code> è¿™ä¸ªå±æ€§ä¸ºå­ç»„ä»¶èµ‹äºˆä¸€ä¸ª id å¼•ç”¨</p>
<pre><code>// æ¨¡æ¿
&lt;template&gt;
  &lt;div&gt;
    &lt;item-list ref=&quot;itemRef&quot;&gt;&lt;/item-list&gt;
    &lt;input type=&quot;text&quot; ref=&quot;inputRef&quot;/&gt;
  &lt;/div&gt;
&lt;/template&gt;
// script
export default {
  mounted() {
    // å­ç»„ä»¶çš„å®ä¾‹å¯¹è±¡
    console.log(this.$refs.itemRef)
    // å…ƒç´ çš„å®ä¾‹å¯¹è±¡, å¯ä»¥æ“ä½œ dom
    console.log(this.$refs.inputRef)
  }
}
</code></pre>
<p>å¦‚æœ ref å’Œ v-for ä¸€èµ·ä½¿ç”¨çš„è¯ , é‚£ä¹ˆ <code>this.refs</code> å°†ä¼šå¾—åˆ°ä¸€ä¸ªå…ƒç´ æ•°ç»„</p>
<pre><code>&lt;ul&gt;
  &lt;li v-for=&quot;user of userList&quot; :key=&quot;user.id&quot; :style=&quot;{listStyle: 'none'}&quot; ref=&quot;forRef&quot;&gt;
    &lt;input type=&quot;checkbox&quot; /&gt;
    {{ user.id }} --- {{ user.uname }} --- {{ user.age }}
  &lt;/li&gt;
&lt;/ul&gt;

mounted() {
  console.log(this.$refs.forRef)
}
</code></pre>
<blockquote>
<p><code>$refs</code> åªä¼šåœ¨ç»„ä»¶æ¸²æŸ“å®Œæˆåç”Ÿæ•ˆ , å¹¶ä¸”å®ƒä¸æ˜¯å“åº”å¼çš„ , è¿™ä»…ä½œä¸ºç”¨äºç›´æ¥æ“ä½œå­ç»„ä»¶çš„ é€ƒç”Ÿèˆ± åº”è¯¥å°½é‡é¿å…åœ¨æ¨¡æ¿æˆ–è€…è®¡ç®—å±æ€§ä¸­è®¿é—® <code>$refs</code></p>
</blockquote>
<h2 id="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ">ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h2>
<blockquote>
<p>æ¯ä¸ª Vue å®ä¾‹åˆ›å»ºæ—¶éƒ½éœ€è¦ç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ– ; å¼€å§‹åˆ›å»º , åˆå§‹åŒ–æ•°æ® , ç¼–è¯‘æ¨¡æ¿, æŒ‚è½½DOM , æ›´æ–° , æ¸²æŸ“ , å¸è½½ç­‰ä¸€ç³»åˆ—è¿‡ç¨‹ , æˆä¸º ç”Ÿå‘½å‘¨æœŸ , åŒæ—¶åœ¨è¿™äº›è¿‡ç¨‹ä¸­ä¹Ÿä¼šè¿è¡Œä¸€äº›å«åšç”Ÿå‘½å‘¨æœŸé’©å­çš„å‡½æ•°</p>
</blockquote>
<ul>
<li>
<p><code>beforeCreate</code> : <strong>åˆ›å»ºå‰</strong> å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼ŒthisæŒ‡å‘åˆ›å»ºçš„å®ä¾‹ï¼Œä¸èƒ½è®¿é—®åˆ°<code>data</code>ã€<code>computed</code>ã€<code>watch</code>ã€<code>methods</code>ä¸Šçš„æ–¹æ³•å’Œæ•°æ®</p>
</li>
<li>
<p><code>created</code> : <strong>åˆ›å»ºå</strong> å®ä¾‹åˆ›å»ºå®Œæˆ , å¯ä»¥è®¿é—® <code>data</code> <code>computed</code> <code>watch</code> <code>methods</code> æ•°æ® , æ²¡æœ‰æ¸²æŸ“è¿› æµè§ˆå™¨ æ— æ³•è®¿é—® DOM ; <strong>æ³¨æ„ :</strong> è¿™ä¸ªç”Ÿå‘½å‘¨æœŸå†…å‘é€ ajax è¯·æ±‚ æ˜¯æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯¹å®ä¾‹åŒ–è¿‡ç¨‹è¿›è¡Œæ‹¦æˆªçš„ , å› æ­¤åŠ å…¥æŸäº›æ•°æ®å¿…é¡»è·å–ä¹‹åæ‰èƒ½è¿›å…¥è¿™ä¸ªé¡µé¢çš„è¯ , å¹¶ä¸é€‚åˆåœ¨è¿™ä¸ªæ–¹æ³•å†…å®Œæˆ , å»ºè®®ä½¿ç”¨ <code>beforeRouterEnter</code> è·¯ç”±é’©å­ä¸­å®Œæˆ</p>
</li>
<li>
<p><code>beforeMount</code> : <strong>æŒ‚è½½å‰</strong> æŒ‚è½½å¼€å§‹ä¹‹å‰è°ƒç”¨ , <code>beforeMount</code> ä¹‹å‰ä¼šæ‰¾åˆ°å¯¹åº”çš„ template ç¼–è¯‘æˆ render å‡½æ•°</p>
</li>
<li>
<p><code>mounted</code> : <strong>æŒ‚è½½å</strong> å®ä¾‹æŒ‚è½½åˆ° DOM , å¯ä»¥æ“ä½œDOM <code>$ref</code> å¯ä»¥ä½¿ç”¨ ; æ­¤æ—¶å¯ä»¥åšä¸€äº› ajax æ“ä½œ , mounted åªä¼šæ‰§è¡Œä¸€æ¬¡</p>
</li>
<li>
<p><code>beforeUpdate</code> : <strong>æ›´æ–°å‰</strong> å“åº”å¼æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ , DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰ , å¯ä»¥åœ¨è¿™é‡Œè¿›ä¸€æ­¥æ›´æ”¹çŠ¶æ€ , ä¸ä¼šè¿›è¡ŒäºŒæ¬¡æ¸²æŸ“</p>
</li>
<li>
<p><code>updated</code> : <strong>æ›´æ–°å</strong> è™šæ‹ŸDOMé‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹åè°ƒç”¨ , ç»„ä»¶å·²ç»æ›´æ–° , å¯ä»¥æ‰§è¡Œåç»­æ“ä½œ ; é¿å…åœ¨è¿™é‡Œæ“ä½œæ•°æ® , å¯èƒ½ä¼šé™·å…¥æ­»å¾ªç¯</p>
</li>
<li>
<p><code>activated</code> : <strong>è¢« keep-alive ç¼“å­˜çš„ç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨</strong></p>
</li>
<li>
<p><code>deacticated</code> : <strong>è¢« keep-alive ç¼“å­˜çš„ç»„ä»¶åœç”¨æ—¶è°ƒç”¨</strong></p>
<p>// å­ç»„ä»¶<br>
// è¦åœ¨å­ç»„ä»¶çš„å£°å‘½å‘¨æœŸå†… , æ‰ä¼šè§¦å‘è¿™ä¸¤ä¸ªé’©å­å‡½æ•°<br>
activated() {<br>
console.log('itemList è¢«æ¿€æ´»')<br>
},<br>
deactivated() {<br>
console.log('itemList è¢«åœç”¨ / å¤±æ´»')<br>
},</p>
<p>// çˆ¶ç»„ä»¶<br>
// toggle åˆ‡æ¢æ—¶è§¦å‘å­ç»„ä»¶ä¸­çš„è¿™ä¸¤ä¸ªé’©å­å‡½æ•°<br>
&lt;button @click=&quot;com = 'ItemPost'&quot;&gt;post</button><br>
&lt;button @click=&quot;com = 'ItemList'&quot;&gt;list</button></p>
<keep-alive>
  <component :is="com"></component>
</keep-alive>
</li>
<li>
<p><code>beforeDestroy</code> : <strong>é”€æ¯å‰</strong> å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ , è¿™é‡Œå„ç§æ•°æ®ä»ç„¶å¯ä»¥è®¿é—® ; å¯ä»¥å†æ¬¡é”€æ¯å®šæ—¶å™¨, è§£ç»‘äº‹ä»¶ç­‰æ“ä½œ</p>
</li>
<li>
<p><code>destroyed</code> : <strong>é”€æ¯å</strong> å®ä¾‹é”€æ¯åè°ƒç”¨ , Vue å®ä¾‹çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè§£é™¤ç»‘å®š , æ‰€æœ‰äº‹ä»¶äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ , æ‰€æœ‰å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯</p>
<template>
  <div>
    <p>this is $el</p>
    <button @click="info = 'ä¿®æ”¹åçš„å€¼'">{{ info }}</button> 
    <button @click="handle">å¸è½½</button> 
  </div>
</template>
<script>
export default {
  name: 'HomePage',
  data() {
    return {
      info: 'data options',
      flag: true
    }
  },
  methods: {
    handle() {
      this.$destroy()
    }
  },
  beforeCreate() {
    console.group('##### ç»„ä»¶åˆ›å»ºå‰ beforeCreate #####')
    console.log('Vue', this)
    console.log(this.info)
    console.log(this.$el)
  },
  created() {
    console.group('##### ç»„ä»¶åˆ›å»ºå created #####')
    console.log(this.info)
    console.log(this.$el)
  },
  beforeMount() {
    console.group('##### ç»„ä»¶æŒ‚è½½å‰ beforeMount #####')
    console.log(this.info)
    console.log(this.$el)
  },
  mounted() {
    console.group('##### ç»„ä»¶æŒ‚è½½å mounted #####')
    console.log(this.$el)
  },
  beforeUpdate() {
    console.group('##### ç»„ä»¶æ›´æ–°å‰ beforeUpdate #####')
    console.log(`è¿™é‡Œçš„æ•°æ®å·²ç»ä¿®æ”¹äº†åªæ˜¯æ²¡æœ‰æ¸²æŸ“ ----- `+ this.info)
    this.info  = 'åˆä¿®æ”¹äº†ä¸€æ¬¡'
  },
  updated() {
    console.group('##### ç»„ä»¶æ›´æ–°å updated #####')
    console.log('æ›´æ–°åçš„æ–°å€¼: ', this.info)
  },
  beforeDestroy() {
    console.group('##### ç»„ä»¶å¸è½½å‰ updated #####')
    console.log(this.info)
    console.log(this.$el)
  },
  destroyed() {
    console.group('##### ç»„ä»¶å¸è½½å updated #####')
    console.log(this.info)
    console.log(this.$el)
  }
}
</script>
</li>
</ul>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1165" height="473"></svg>)</p>
<h3 id="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ">çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h3>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="859" height="303"></svg>)</p>
<ul>
<li>çˆ¶ç»„ä»¶æ‰§è¡Œå®Œ <code>beforeMount</code> é’©å­ä¹‹åå°±ä¼šå»åŠ è½½ å­ç»„ä»¶ , åªç»„ä»¶åŠ è½½å®Œæˆåæ‰ä¼šè§¦å‘çˆ¶ç»„ä»¶çš„ <code>Mounted</code></li>
<li>å­ç»„ä»¶æ›´æ–°ä¸ä¼šè§¦å‘çˆ¶ç»„ä»¶çš„æ›´æ–°, ( ä¸æ¶‰åŠçˆ¶å­ç»„ä»¶äº¤äº’æ•°æ® )</li>
<li>å­ç»„ä»¶çš„å¸è½½ä¼šè§¦å‘çˆ¶ç»„ä»¶çš„æ›´æ–°</li>
</ul>
<h2 id="è¿‡æ¸¡-åŠ¨ç”»">è¿‡æ¸¡ åŠ¨ç”»</h2>
<blockquote>
<p>Vue åœ¨æ’å…¥ï¼Œæ›´æ–°æˆ–è€…ç§»å‡º DOM æ—¶ï¼Œæä¾›å¤šç§ä¸åŒçš„è¿‡æ¸¡æ•ˆæœ</p>
<p>åœ¨ä¸‹åˆ—æƒ…å½¢ä¸­å¯ä»¥ç»™ä»»ä½•å…ƒç´ æ·»åŠ è¿›å…¥/ç¦»å¼€è¿‡æ¸¡</p>
<ul>
<li>æ¡ä»¶æ¸²æŸ“ ï¼ˆ<code>v-if v-show</code>ï¼‰</li>
<li>åŠ¨æ€ç»„ä»¶ (<code>component</code>)</li>
<li>ç»„ä»¶æ ¹èŠ‚ç‚¹</li>
</ul>
</blockquote>
<p>è¿‡æ¸¡çš„ç±»åï¼šåœ¨è¿›å…¥/ç¦»å¼€çš„è¿‡æ¸¡ä¸­ï¼Œä¼šæœ‰6ä¸ª class åˆ‡æ¢</p>
<ul>
<li><code>v-enter</code> : å®šä¹‰è¿‡æ¸¡çš„å¼€å§‹ , åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆ , åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹åçš„ä¸‹ä¸€å¸§ç§»é™¤</li>
<li><code>v-enter-active</code> : å®šä¹‰è¿›å…¥è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ , åœ¨æ•´ä¸ªè¿›å…¥è¿‡æ¸¡çš„é˜¶æ®µä¸­éƒ½ä¼šåº”ç”¨ . åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆ . å’‹è¿‡æ¸¡/åŠ¨ç”»ç»“æŸä¹‹åç§»é™¤ , è¿™ä¸ªç±»å¯ä»¥è¢«å®šä¹‰è¿›å…¥è¿‡æ¸¡çš„è¿‡ç¨‹æ—¶é—´ , å»¶è¿Ÿ å’Œæ›²çº¿å‡½æ•°</li>
<li><code>v-enter-to</code> : å®šä¹‰è¿›å…¥è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ , åœ¨å…ƒç´ è¢«æ’å…¥åçš„ä¸‹ä¸€å¸§ç”Ÿæ•ˆ ( åŒæ—¶ v-enter ç§»é™¤ ), åœ¨è¿‡æ¸¡åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤</li>
<li><code>v-leave</code> : å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„å¼€å§‹æ—¶é—´ , åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘æ—¶ç«‹åˆ»ç”Ÿæ•ˆ , ä¸‹ä¸€å¸§è¢«ç§»é™¤</li>
<li><code>v-leave-active</code> : å®šä¹‰ç¦»å¼€è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ , åœ¨æ•´ä¸ªç¦»å¼€è¿‡æ¸¡çš„é˜¶æ®µä¸­åº”ç”¨ , åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘æ—¶ ç«‹å³ç”Ÿæ•ˆ , åœ¨è¿‡æ¸¡åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ , è¿™ä¸ªç±»å¯ä»¥è¢«å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„è¿‡ç¨‹æ—¶é—´ , å»¶è¿Ÿå’Œæ›²çº¿å‡½æ•°</li>
<li><code>v-leave-to</code> : å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ , åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘åä¸‹ä¸€å¸§ç”Ÿæ•ˆ (åŒæ—¶ v-leave ç§»é™¤), åœ¨è¿‡æ¸¡ä¸œç¯å®Œæˆä¹‹åç§»é™¤</li>
</ul>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1200" height="600"></svg>)</p>
<pre><code>&lt;transition&gt;
  &lt;dynamic v-if=&quot;isShow&quot;&gt;&lt;/dynamic&gt;
&lt;/transition&gt;
</code></pre>
<p>å¦‚æœ <code>&lt;transition&gt;</code> æ²¡æœ‰ name å±æ€§ ç±»åé»˜è®¤æ˜¯ <code>v-</code> å¼€å¤´ , å¦‚æœä½¿ç”¨äº†è‡ªå®šä¹‰åå­— , æ›¿æ¢æˆè‡ªå®šåå­—å¼€å¤´ ; <strong>transition ä¸ä¼šè¢«æ¸²æŸ“æˆçœŸæ˜¯çš„ DOM å…ƒç´ </strong></p>
<p>ç¤ºä¾‹ : <code>&lt;transition name=&quot;my-trans&quot;&gt;</code> <code>my-trans-enter</code></p>
<pre><code>&lt;style lang=&quot;css&quot;&gt;
  .v-enter, .v-leave-to{
    opacity: 0;
    transition: all .5s ;
  }
  .v-enter-to, .v-leave{
    opacity: 1;
    transition: all .5s ;
  }
&lt;/style&gt;
</code></pre>
<h3 id="å¤šä¸ªç»„ä»¶çš„è¿‡æ¸¡">å¤šä¸ªç»„ä»¶çš„è¿‡æ¸¡</h3>
<pre><code>&lt;transition&gt;
  &lt;keep-alive&gt;  
    &lt;component :is=&quot;showWhat&quot;&gt;&lt;/component&gt;
  &lt;/keep-alive&gt;
&lt;/transition&gt;


&lt;style lang=&quot;css&quot;&gt;
  .v-enter, .v-leave-to{
    opacity: 0;
  }
  .v-enter-active, .v-leave-active{
    transition: opacity .3s ease;
  }
&lt;/style&gt;
</code></pre>
<p>![](https://juejin.cn/post/data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1015" height="549"></svg>)</p>
<h4 id="è¿‡æ¸¡æ¨¡å¼">è¿‡æ¸¡æ¨¡å¼</h4>
<blockquote>
<p>åœ¨åˆ‡æ¢ tab çš„æ—¶å€™ å†…å®¹è¢«é‡ç»˜äº† , ä¸€ä¸ªæ˜¯ç¦»å¼€è¿‡æ¸¡çš„æ—¶å€™, å¦ä¸€ä¸ªæ˜¯è¿›å…¥è¿‡æ¸¡ , è¿™æ˜¯ <code>&lt;transition&gt;</code> çš„é»˜è®¤è¡Œä¸º , è¿›å…¥å’Œç¦»å¼€åŒæ—¶å‘ç”Ÿ ; è¿‡æ¸¡æ¨¡å¼ä»…é€‚ç”¨äºç»„ä»¶ä¹‹é—´</p>
<p>åŒæ—¶ç”Ÿæ•ˆçš„è¿›å…¥å’Œç¦»å¼€çš„è¿‡æ¸¡ä¸èƒ½æ»¡è¶³æ‰€æœ‰è¦æ±‚ï¼Œæ‰€ä»¥ Vue æä¾›äº†<strong>è¿‡æ¸¡æ¨¡å¼</strong></p>
</blockquote>
<ul>
<li><code>in-out</code> : æ–°å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ , å®Œæˆä¹‹åå½“å‰å…ƒç´ è¿‡æ¸¡ç¦»å¼€</li>
<li><code>out-in</code> : å½“å‰å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ , å®Œæˆä¹‹åæ–°å…ƒç´ è¿‡æ¸¡è¿›å…¥</li>
</ul>
<p>å¯ä»¥çœ‹å‡ºä¸Šå›¾çš„åŠ¨ç”»æ•ˆæœä¸ºå½“å‰å…ƒç´ è¿˜æ²¡æœ‰å®Œæˆ , æ–°å…ƒç´ å°±è¿›æ¥äº† , æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>out-in</code> æ¨¡å¼å³å¯è§£å†³ä¸Šè¿°é—®é¢˜</p>
<pre><code>&lt;transition mode=&quot;out-in&quot;&gt;
  &lt;keep-alive&gt;  
    &lt;component :is=&quot;showWhat&quot;&gt;&lt;/component&gt;
  &lt;/keep-alive&gt;
&lt;/transition&gt;
</code></pre>
<h3 id="åˆå§‹æ¸²æŸ“è¿‡æ¸¡">åˆå§‹æ¸²æŸ“è¿‡æ¸¡</h3>
<p>å¯ä»¥é€šè¿‡ <code>appear</code> å±æ€§è®¾ç½®èŠ‚ç‚¹çš„åˆå§‹æ¸²æŸ“è¿‡æ¸¡ ; éœ€è¦æ³¨æ„çš„æ˜¯, è¿™ä¸ªå…³é”®å­—åŠ ä¸Šä¹‹å, é»˜è®¤å°±ä¼šå¸¦æœ‰è¿‡æ¸¡æ•ˆæœ , <code>translateY</code> ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç±»åå’Œé’©å­ ; [åˆå§‹æ¸²æŸ“è¿‡æ¸¡](https://cn.vuejs.org/v2/guide/transitions.html target=)</p>
<pre><code>&lt;transition appear&gt;
  &lt;div v-if=&quot;toggle&quot;&gt;post&lt;/div&gt;
  &lt;div v-else&gt;list&lt;/div&gt;
&lt;/transition&gt;
</code></pre>
<h3 id="åˆ—è¡¨è¿‡æ¸¡">åˆ—è¡¨è¿‡æ¸¡</h3>
<p>åˆ—è¡¨è¿‡æ¸¡éœ€è¦ç”¨åˆ° <code>&lt;transition-group&gt;</code></p>
<ul>
<li>
<p>ä¼šäº§ç”Ÿæ ‡ç­¾å, é»˜è®¤ä¸º span å¯ä»¥é€šè¿‡ tag å±æ€§è¿›è¡Œè®¾ç½®</p>
</li>
<li>
<p>è¿‡æ¸¡æ¨¡å¼ä¸å¯ç”¨</p>
<transition-group  tag="ul" appear>
  <li v-for="user of users" :key="user.id">
    <p>{{ user.uname }}</p>
  </li>
</transition-group>
</li>
</ul>
<p>æ›´å¤šåŠ¨ç”»ç›¸å…³ : <a href="https://cn.vuejs.org/v2/guide/transitions.html">Vueè¿‡æ¸¡åŠ¨ç”»</a></p>
<h2 id="nexttick">nextTick</h2>
<blockquote>
<p>Vue åœ¨æ›´æ–° DOM çš„æ—¶å€™æ˜¯å¼‚æ­¥çš„ , åªè¦ä¾¦å¬åˆ°æ•°æ®çš„å˜åŒ– , å¹¶ç¼“å­˜åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­ , ç­‰å¾…äº‹ä»¶å¾ªç¯ä¸­çš„æ‰€æœ‰çš„æ•°æ®å˜åŒ–å®Œæˆå, ç»Ÿä¸€æ›´æ–°è§†å›¾ , ä¸ºäº†å¾—åˆ°æœ€æ–°çš„DOM æ‰€ä»¥è®¾ç½®äº† <code>nextTick()</code></p>
<p>å°†å›è°ƒå»¶è¿Ÿåˆ°ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ä¹‹åæ‰§è¡Œ , åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨ä»– , ç„¶åç­‰å¾… DOM æ›´æ–° ;</p>
<p>ç®€å•ç†è§£å°±æ˜¯ : <code>nextTick</code> æ˜¯å°†è¿™ä¸ªå›è°ƒå‡½æ•°å»¶è¿Ÿåœ¨ä¸‹ä¸€æ¬¡ DOM æ›´æ–°æ•°æ®åè°ƒç”¨ , å³ DOM é‡æ–°æ¸²æŸ“åè‡ªåŠ¨æ‰§è¡Œè¯¥å‡½æ•°</p>
</blockquote>
<pre><code>created() {
  // created é’©å­ä¸­å¯ä»¥æ“ä½œ DOM å…ƒç´ 
  this.$nextTick(() =&gt; {
    this.$refs.divRef.innerHTML = 'hello vue'
  })
}
</code></pre>
<h2 id="æ··å…¥-mixin">æ··å…¥ Mixin</h2>
<blockquote>
<p>æ··å…¥æä¾›ä¸€ç§å¾ˆçµæ´»çš„æ–¹å¼, æ¥åˆ†å‘ Vue ç»„ä»¶ä¸­çš„å¯å¤ç”¨åŠŸèƒ½, ä¸€ä¸ªæ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ (data, components, methods, created ç­‰), å½“ç»„ä»¶ä½¿ç”¨æ··å…¥å¯¹è±¡æ—¶, æ‰€æœ‰æ··å…¥å¯¹è±¡çš„é€‰é¡¹å°†è¢«æ··åˆè¿›ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ ;</p>
</blockquote>
<p>å‡è®¾æˆ‘ä»¬ç°åœ¨è¦å°è£…ä¸€ä¸ª button ç»„ä»¶, æˆ‘ä»¬å¯ä»¥å°è¯•ç€ä¸å† components æ–‡ä»¶å¤¹ä¸­å»å°è£…, åœ¨åŒçº§ç›®å½•ä¸­æ–°å»ºä¸€ä¸ª Mixin æ–‡ä»¶å¤¹ å®ä¾‹</p>
<pre><code>&lt;!-- path: Mixin/MyButton/MyButton.vue --&gt;
&lt;template&gt;
  &lt;button :class=&quot;['my-btn', type]&quot;&gt;
    &lt;!-- æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·è¾“å…¥æŒ‰é’®çš„åå­—æ‰€ä»¥ä½¿ç”¨æ’æ§½ --&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/button&gt;
&lt;/template&gt;
&lt;script&gt;
// æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·ä¼ é€’è¿›æ¥ä¸€ä¸ª type æ¥å®šåˆ¶ btn æ ·å¼
export default {
  props: {
    type: {
      type: String,
      default: 'my-primay'
    }
  }
}
&lt;/script&gt;
&lt;style scoped&gt;
 /* åŸºç±»æ ·å¼ */
 .my-btn {
    border: none;
    outline: none;
    line-height: 30px;
    width: 50px;
  }
 /* ç”¨æˆ·å¯æ‹“å±•æ ·å¼ */
.btn-primary {
  background: skyblue;
}
.btn-danger {
  background: orange;
}
.btn-success {
  background: palegreen;
}
&lt;/style&gt;
</code></pre>
<p>ç„¶åæˆ‘ä»¬åœ¨åŒçº§åˆ«çš„ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ª Mixin å¯¹è±¡</p>
<pre><code>// path: Mixin/MyButton/index.js
import MyButton from './MyButton.vue'
export default {
  // è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† ç»„ä»¶ä¸­çš„ components å¯¹è±¡
  components: {
    MyButton
  }
}
</code></pre>
<p>ç„¶åæˆ‘ä»¬åœ¨é¡µé¢ä¸­å»ä½¿ç”¨å®ƒ</p>
<pre><code>&lt;!-- views/page.vue --&gt;
&lt;template&gt;
  &lt;!-- æ­¤æ—¶æˆ‘ä»¬åªéœ€è¦ä¼ å…¥æŒ‡å®šä¸åŒçš„ç±»åå³å¯å˜æ¢ button çš„æ ·å¼ --&gt;
  &lt;my-button type=&quot;btn-danger&quot;&gt;æŒ‰é’®&lt;/my-button&gt;
&lt;/template&gt;
&lt;script&gt;
import MyButton from './mixin/MyButton'
export default {
  // ç»„ä»¶å†…ä½¿ç”¨ mixins å°†è¿™ä¸ªå¯¹è±¡æ··å…¥, 
  mixins: [MyButton]  
}
&lt;/script&gt;
</code></pre>
<blockquote>
<p>ç®€å•æ€»ç»“ä¸€ä¸‹, å¯ä»¥çœ‹å‡ºæˆ‘ä»¬ä¸Šé¢è™½ç„¶ç”¨çš„æœ‰äº›ç‰µå¼º, ä¸æ™“å¾—æœ‰æ²¡æœ‰æ³¨æ„åˆ° , æˆ‘ä»¬å®é™…ä¸Šç­‰äºæŠŠ æ³¨å†Œç»„ä»¶çš„æ–¹å¼ç»™æŠ½ç¦»å‡ºå»äº†, å–è€Œä»£ä¹‹çš„æ˜¯æŠŠä»–æ··å…¥è¿›å», è¿™é‡Œå°±å¯ä»¥ç®€å•ç†è§£, å¾ˆæƒ³ åˆå¹¶äº†ä¸¤ä¸ªå¯¹è±¡çš„æ¦‚å¿µ , é‚£ä¹ˆæ¥ä¸‹æ¥å°±çœ‹ä¸€ä¸‹ç»†èŠ‚</p>
</blockquote>
<h3 id="é€‰é¡¹åˆå¹¶">é€‰é¡¹åˆå¹¶</h3>
<blockquote>
<p>å½“ç»„ä»¶å’Œæ··å…¥å¯¹è±¡å«æœ‰åŒåé€‰é¡¹æ—¶ , è¿™äº›é€‰é¡¹å°†ä»¥<strong>æ°å½“</strong> çš„æ–¹å¼è¿›è¡Œ<strong>åˆå¹¶</strong></p>
<p>ä»€ä¹ˆå«æ°å½“ ğŸ˜‚ çœ‹ç¤ºä¾‹</p>
</blockquote>
<ul>
<li>
<p>è¾“å…¥å¯¹è±¡ä¼šè¿›è¡Œé€’å½’åˆå¹¶ ï¼Œ å¹¶åœ¨å‘ç”Ÿå†²çªæ—¶ï¼Œä»¥ç»„ä»¶æ•°æ®ä¼˜å…ˆ</p>
</li>
<li>
<p>åŒåçš„é’©å­å‡½æ•°ä¼šåˆå¹¶æˆä¸ºä¸€ä¸ªæ•°ç»„ï¼Œä¾æ¬¡è°ƒç”¨ï¼Œ<strong>mixinçš„é’©å­ä¼˜å…ˆæ‰§è¡Œ</strong></p>
</li>
<li>
<p>å¯¹è±¡ç±»å‹é€‰é¡¹ä¼šåˆå¹¶ä¸ºåŒä¸€ä¸ªå¯¹è±¡ï¼Œ<strong>å¦‚æœé”®åå†²çªï¼Œä»¥ç»„ä»¶å†…ä¸ºä¸»</strong></p>
<p>// mixin/index.js<br>
export default {<br>
data() {<br>
return {<br>
m_name: 'lisi',<br>
m_list: [1, 2, 3]<br>
}<br>
},<br>
created() {<br>
// æ··å…¥ä¹‹åä¼šè¢«è°ƒç”¨ åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ··å…¥ä¹‹å‰è°ƒç”¨ç»„ä»¶å†…çš„æ•°æ®<br>
console.log(this.m_name, this.m_list, 'mixin')<br>
console.log(this.c_name, this.c_list, 'component')</p>
<pre><code>// æ‰§è¡Œ handle 
this.handle() // è¿™ä¸ªhandle å®é™…å°±æ˜¯è°ƒç”¨äº† ç»„ä»¶ä¸­çš„handle è€Œä¸æ˜¯ mixin ä¸­çš„handle
this.handle1()
</code></pre>
<p>},<br>
methods: {<br>
// ç”±äºæ­¤å¤„çš„ handle ä¸ ç»„ä»¶å†…å­˜åœ¨åŒå æŒ‰ç…§ä¸Šé¢è¯´æ˜ï¼Œ è¿™ä¸ªhandleè¢«è¦†ç›–ä»¥ä¸‹é¢ç»„ä»¶ä¸­ä¸ºä¸»<br>
handle() {<br>
console.log('mixin handle')<br>
},<br>
handle1() {<br>
console.log('mixin handle1')<br>
}<br>
}<br>
}</p>
<template>
  <div></div>
</template>
<script>
import mixin from '@/mixin'
export default {
  mixins: [mixin],
  data() {
    return {
      c_name: 'zhangsan',
      c_list: [1, 2, 3]
    }
  },
  created() {
    // åŒç†è¿™é‡Œä¹Ÿå¯ä»¥ç›´æ¥è®¿é—® mixin ä¸­çš„æ•°æ®ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†
    console.log('this is component')
<pre><code>// è°ƒç”¨handle 
this.handle() 
</code></pre>
<p>},<br>
methods: {<br>
handle() {<br>
console.log('component handle')<br>
}<br>
}<br>
}<br>
</script></p>
</li>
</ul>
<h3 id="å…¨å±€æ··å…¥">å…¨å±€æ··å…¥</h3>
<blockquote>
<p>æ··å…¥ä¹Ÿå¯ä»¥å…¨å±€æ³¨å†Œ ï¼Œ ä½¿ç”¨æ—¶éœ€è¦å°å¿ƒï¼Œ å…¨å±€æ··å…¥ä¼šå½±å“æ¯ä¸€ä¸ªä¹‹ååˆ›å»ºçš„ vue ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ä»¥ååˆ›å»ºçš„æ¯ä¸€ä¸ª Vue ç»„ä»¶ä¼šæ··å…¥è¿™ä¸ª mixin éƒ½ä¼šæ‰§è¡Œè¿™é‡Œé¢çš„æ“ä½œ</p>
</blockquote>
<pre><code>// main.js
Vue.mixin({
  data() {
    return {}
  },
  created() {},
  // ......
})
</code></pre>
<h2 id="provide-inject-ä¾èµ–æ³¨å…¥">provide / inject ä¾èµ–æ³¨å…¥</h2>
<blockquote>
<p><code>provide</code> å’Œ <code>inject</code> ä¸»è¦å¼€å‘é«˜é˜¶æ’ä»¶/ç»„ä»¶åº“æ—¶ä½¿ç”¨ï¼Œå¹¶ä¸æ¨èç”¨äºæ™®é€šåº”ç”¨ç¨‹åºä¸­</p>
<p>è¿™å¯¹é€‰é¡¹è¦ä¸€èµ·ä½¿ç”¨ï¼Œå…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘è‡ªå·±æ‰€æœ‰çš„å­å­™ç»„ä»¶æ³¨å…¥ä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚é—´æœ‰å¤šæ·±ï¼›</p>
<p>ä¹Ÿå°±è¯´è¿™å¯¹é€‰é¡¹å¯ä»¥è·¨è¶Šç»„ä»¶çš„ä¼ å€¼ ä¸‹é¢çœ‹ç¤ºä¾‹</p>
</blockquote>
<pre><code>// App.vue
&lt;template&gt;
  &lt;div&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  data() {
    return {
      info: { name: 'zs', age: 23 }
    }
  },
  // ä½¿ç”¨ provide æŠŠå€¼ä¼ é€’å‡ºå»
  // è¿™é‡Œç¢°åˆ°ä¸€ç‚¹å°é—®é¢˜ï¼Œå®˜ç½‘è¯´å¯ä»¥æ˜¯ Objct | function è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™é‡Œè¯•äº† Object å°±æ˜¯ä¸èƒ½æˆåŠŸä¸çŸ¥é“ä¸ºå•¥ğŸ˜­
  provide() {
    return {
      info: this.info,
      reload: this.reload
    }
  },
  methods: {
    reload() {
      console.log('reload')
    }
  }
}
&lt;/script&gt;


// Home.vue
&lt;template&gt;
  &lt;div&gt;
    Home
    &lt;provide-test&gt;&lt;/provide-test&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
// è¿™é‡Œæˆ‘ä»¬åªæ˜¯æŠŠéœ€è¦ç”¨åˆ° provide æ•°æ®çš„ç»„ä»¶å¼•å…¥ï¼Œå¯ä»¥çœ‹å‡ºæˆ‘ä»¬å¹¶æ²¡æœ‰ä½¿ç”¨
import ProvideTest from '@/components/ProvideTest.vue'
export default {
  components: {
    ProvideTest
  }
}
&lt;/script&gt;


// components/ProvideTest.vue
&lt;template&gt;
  &lt;div&gt;&lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  // è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ indect æ¥æ¥æ”¶ çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œå¯ä»¥çœ‹å‡ºè¿™ç§æ–¹å¼ç±»ä¼¼äº props æ¥æ”¶
  inject: ['info', 'reload'],
  mounted() {
    // ç„¶åå°±å¯ä»¥é€šè¿‡å®ä¾‹è®¿é—®è¿™äº›æ•°æ®äº†
    console.log(this.info)
    this.reload()
  }
}
&lt;/script&gt;
</code></pre>
<p>å½“ç„¶ <code>inject</code> ä¹Ÿä¸æ˜¯åªèƒ½é€šè¿‡æ•°æ®æ¥æ¥æ”¶å‚æ•°ï¼›å…·ä½“å‚è€ƒ [cn.vuejs.org/v2/api/#proâ€¦](https://cn.vuejs.org/v2/api/ target=)</p>
<blockquote>
<p><code>provide</code> å’Œ <code>inject</code> ç»‘å®šå¹¶ä¸æ˜¯å“åº”å¼çš„ï¼Œ è¿™æ˜¯åˆ»æ„ä¸ºä¹‹ï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„ property è¿˜æ˜¯å¯å“åº”å¼çš„ï¼› <code>inject</code> æ¥æ”¶è¿‡æ¥çš„æ•°æ®ï¼Œä¸è¦è¯•å›¾ä¿®æ”¹ï¼Œä¼šæŠ¥é”™çš„</p>
</blockquote>
<h2 id="éçˆ¶å­ç»„ä»¶ä¼ å€¼-onon-onemit">éçˆ¶å­ç»„ä»¶ä¼ å€¼ on/on / on/emit</h2>
<blockquote>
<p>$emit è¿™ä¸ªå’±ä»¬å‰é¢å°±çŸ¥é“äº† è§¦å‘å½“å‰å®ä¾‹ä¸Šçš„äº‹ä»¶ï¼Œ é™„ä»¶å‚æ•°ä¼ ç»™ç›‘å¬å™¨çš„å›è°ƒ ï¼ˆå¯ä»¥å®ç°å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é—´çš„ä¼ å€¼ï¼‰</p>
<p>äº†è§£å¦‚ä½•ä¼ å€¼ä¹‹å‰å…ˆäº†è§£ <code>$on</code></p>
<p><code>$on</code> ç›‘å¬å½“å‰å®ä¾‹çš„ä¸Šçš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œäº‹ä»¶å¯ä»¥ç”± <code>$emit</code> è§¦å‘ï¼Œå›è°ƒå‡½æ•°ä¼šæ¥æ”¶æ‰€æœ‰ä¼ å…¥äº‹ä»¶è§¦å‘çš„é¢å¤–å‚æ•°ï¼Œ ä¹ä¸€çœ‹å’ŒæŒ‡ä»¤ v-on å·®ä¸å¤šï¼Œé‚£ä¹ˆä¸‹é¢å°±çœ‹ä¸‹å…·ä½“ç¤ºä¾‹</p>
</blockquote>
<pre><code>// About.vue
&lt;template&gt;
  &lt;div&gt;
    &lt;button @click=&quot;handle&quot;&gt;ç‚¹å‡»ä¼ é€’&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  methods: {
    handle() {
      // è¿™é‡Œä½¿ç”¨ emit è§¦å‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ å¦‚æœæ˜¯ç›‘å¬åŸç”Ÿäº‹ä»¶ åŒæ ·å¯ä»¥ä¼ é€’ event
      this.$emit('on-click', 'å•æ–‡ä»¶å†…è¢«ç›‘å¬äº†')
    }
  },
  mounted() {
    // åœ¨ mounted ä¸­ ç”¨ on å»ç›‘å¬è§¦å‘çš„äº‹ä»¶ï¼Œ å¹¶ä¸”æ¥æ”¶ä¼ é€’è¿‡æ¥çš„å‚æ•°
    this.$on('on-click', msg =&gt; {
      console.log(msg)
    })
  }
}
&lt;/script&gt;
</code></pre>
<p>å½“ç„¶å¦‚æœåªæ˜¯è¿™æ ·ä½¿ç”¨ï¼Œ è‚¯å®šæ˜¯ç•¥æ˜¾é¸¡è‚‹ï¼Œ æ—¢ç„¶çŸ¥é“ API çš„ç‰¹æ€§ï¼Œé‚£ä¹ˆä¸‹é¢çœ‹çˆ¶å­ç»„ä»¶ä¼ å€¼</p>
<blockquote>
<p>å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œ<code>EventBus</code> Vue ä¸­ä¹Ÿå« äº‹ä»¶æ€»çº¿ï¼Œæ˜¯ä¸€ç§<strong>å‘å¸ƒè®¢é˜…æ¨¡å¼</strong>ï¼ˆ<a href="https://juejin.im/post/6844903513009422343">å…³äºå‘å¸ƒè®¢é˜…æ¨¡å¼</a>ï¼‰é€šè¿‡ <code>EventBus</code> æ¥ä½œä¸ºæ²Ÿé€šæ¡¥æ¢ï¼Œè®©æ‰€æœ‰ç»„ä»¶å…±ç”¨ä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒï¼Œå¯ä»¥åƒè¯¥äº‹ä»¶ä¸­å¿ƒæ³¨å†Œäº‹ä»¶æˆ–è€…æ¥æ”¶äº‹ä»¶</p>
</blockquote>
<pre><code>// Bus/index.js
import Vue from 'vue'

// åˆ›å»ºä¸€ä¸ªç©ºçš„ Vue å®ä¾‹ ç”¨æ¥åš æ¡¥æ¢
export const Bus = new Vue()


// main.js
import { Bus } from './Bus'
// å°†è¿™ä¸ªç©ºçš„å®ä¾‹ç»‘å®šåˆ° vue çš„åŸå‹ä¸­
Vue.prototype.$bus = Bus


// About.vue
&lt;template&gt;
  &lt;div&gt;
    &lt;button @click=&quot;handle&quot;&gt;ç‚¹å‡»ä¼ é€’&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  data() {
    return {
      message: ''
    }
  },
  methods: {
    handle() {
      // é€šè¿‡ $bus.$emit è§¦å‘äº‹ä»¶ å¯ä»¥æ˜¯è‡ªå®šä¹‰äº‹ä»¶ä¹Ÿå¯ä»¥æ˜¯åŸç”Ÿäº‹ä»¶
      this.$bus.$emit('click', 'å…¶ä»–æ–‡ä»¶å†…è¢«ç›‘å¬äº†', event)
    }
  }
}
&lt;/script&gt;


// Home.vue
&lt;template&gt;
  &lt;div&gt;&lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  mounted() {
    // å…„å¼Ÿç»„ä»¶ä¸­å¯ä»¥é€šè¿‡ $bus.$on ç›‘å¬è§¦å‘çš„äº‹ä»¶ï¼Œ å¹¶ä¸”æ¥æ”¶ä¸€ä¸ªå›è°ƒå¤„ç†å‚æ•°
    this.$bus.$on('click', (msg, e) =&gt; {
      console.log(msg)
      console.log(e)
    })
  }
}
&lt;/script&gt;
</code></pre>
<p><strong>æ³¨æ„ï¼š</strong> ç»„ä»¶æŒ‚åœ¨ä¹‹å‰ä¼šæ‰§è¡Œ <code>mounted</code> é’©å­ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªé’©å­ä¸­ç›‘å¬è§¦å‘çš„äº‹ä»¶ï¼Œå½“ç„¶åœ¨ <code>created</code> ä¸­ä¹Ÿæ˜¯å¯ä»¥çš„ å»ºè®®è¿˜æ˜¯ <code>mounted</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ–°æ‰‹å…¥é—¨ Github Webhooks å®Œç¾è‡ªåŠ¨åŒ–éƒ¨ç½²æ•™ç¨‹]]></title>
        <id>https://imcm.xyz/Github-webhook/</id>
        <link href="https://imcm.xyz/Github-webhook/">
        </link>
        <updated>2020-12-22T14:26:59.000Z</updated>
        <content type="html"><![CDATA[<h3 id="å‰è¨€">å‰è¨€</h3>
<p>ä¹‹å‰ä½¿ç”¨GitHub Actionså¯ä»¥åœ¨æäº¤ä»£ç åè‡ªåŠ¨ä¸Šä¼ åˆ°è…¾è®¯äº‘COSå­˜å‚¨æ¡¶,å®ç°é™æ€ç½‘ç«™å®Œç¾è‡ªåŠ¨åŒ–éƒ¨ç½².é‚£ä¹ˆéé™æ€çš„ç½‘ç«™æˆ–è€…é¡¹ç›®éœ€è¦è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°VPSæœåŠ¡å™¨ä¸Šå°±å¯ä»¥ä½¿ç”¨GitHub Webhooksæ¥å®ç°.ä½œä¸ºçº¯å±æ–°æ‰‹æ¥è¯´,ç½‘ä¸ŠæŸ¥é˜…äº†åå‡ ç¯‡ç›¸å…³æ•™ç¨‹,éƒ½æ²¡æ³•éƒ¨ç½²æˆåŠŸ,æœ€åæ€»ç®—æ‰¾åˆ°äº†é—®é¢˜å…³é”®ç‚¹,å†³å®šæ•´ç†æˆæ–‡ç« åˆ†äº«å‡ºæ¥,å¸Œæœ›èƒ½å¸®åŠ©åˆ°æ–°æ‰‹ç”¨æˆ·.</p>
<blockquote>
<p>Webhookæ”¯æŒphp,jsç­‰å¤šç§æ–¹å¼,å¯ä»¥å®ç°ç®€å•çš„éƒ¨ç½²,ä¹Ÿå¯ä»¥å®ç°å¤æ‚çš„è‡ªåŠ¨åŒ–æ„å»ºç­‰åŠŸèƒ½,æœ¬æ–‡ä»‹ç»é€‚åˆæ–°æ‰‹ç”¨æˆ·çš„phpæ–¹å¼,æ¥è‡ªåŠ¨åŒ–éƒ¨ç½²ç½‘ç«™.</p>
</blockquote>
<h3 id="webhookç®€å•åŸç†">Webhookç®€å•åŸç†</h3>
<p>å¯¹äºå…¥é—¨æ–°æ‰‹æ¥è¯´,Webhookå¯ä»¥ç†è§£ä¸ºå½“ä½ åœ¨æœ¬åœ°å®Œæˆä»£ç å·¥ä½œå,Pushæäº¤åˆ°GitHub,GitHubæ£€æµ‹åˆ°Pushå,ä½¿ç”¨Webhookå‘é€ä¸€æ¡å‘½ä»¤åˆ°ä½ çš„VPSæœåŠ¡å™¨ä¸Šçš„Webhook.phpæ–‡ä»¶,æœåŠ¡å™¨æ£€æµ‹åˆ°å‘½ä»¤åæ ¹æ®webhook.phpä¸­çš„é…ç½®åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡ŒPullå‘½ä»¤,åŒæ­¥GitHubä¸Šçš„ä»£ç åˆ°æœåŠ¡å™¨.å®ç°äº†ç®€å•çš„è‡ªåŠ¨åŒ–éƒ¨ç½²å·¥ä½œ.èŠ‚çœäº†ä½ å†æ¬¡ä¸Šä¼ è‡³æœåŠ¡å™¨çš„å¤šä½™æ“ä½œ.</p>
<h3 id="éƒ¨ç½²æµç¨‹">éƒ¨ç½²æµç¨‹</h3>
<h4 id="å¯ç”¨shell_exec">å¯ç”¨shell_exec</h4>
<p>ç¼–è¾‘php.ini</p>
<pre><code class="language-shell">vim /usr/local/php/etc/php.ini
</code></pre>
<p>æŸ¥æ‰¾shell_exec,åœ¨disable_functionsä¸­åˆ é™¤shell_execå­—æ®µ.<br>
<img src="https://imcm.xyz/post-images/1608622210723.jpg" alt="" loading="lazy"></p>
<p>é‡å¯php.iniä¿å­˜è®¾ç½®</p>
<pre><code class="language-shell">/etc/init.d/php-fpm restart
</code></pre>
<h4 id="é…ç½®ç«™ç‚¹ç›®å½•æƒé™">é…ç½®ç«™ç‚¹ç›®å½•æƒé™</h4>
<p>ç”±äºWebhookçš„æ¨é€è¯·æ±‚æ˜¯é€šè¿‡http/httpsæ–¹å¼å‘é€è‡³æœåŠ¡å™¨,æ ¹æ®webhook.phpä¸­çš„å‘½ä»¤æ‰§è¡Œgit pullçš„å®ä¸ºè¿è¡Œphpçš„ç”¨æˆ·,æ ¹æ®ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥æ‰§è¡Œphpç”¨æˆ·ä¸ºwww.</p>
<pre><code class="language-shell">ps aux | grep php
</code></pre>
<p>ç¡®ä¿ä»“åº“æ‰€åœ¨çš„ç«™ç‚¹ç›®å½•æ‰€æœ‰è€…ä¸ºwww</p>
<pre><code class="language-shell">chown -R www:www /home/wwwroot
</code></pre>
<h4 id="åˆ‡æ¢ä¸ºwwwè´¦æˆ·">åˆ‡æ¢ä¸ºwwwè´¦æˆ·</h4>
<p>ä»¥rootè´¦æˆ·ç™»é™†æœåŠ¡å™¨,ä¿®æ”¹wwwçš„ç™»å½•æƒé™.</p>
<pre><code class="language-shell">vim /etc/passwd
</code></pre>
<p>æ‰¾åˆ°</p>
<pre><code class="language-shell">www:x:1003:1003::/home/www:/sbin/nologin
</code></pre>
<p>ä¿®ä¸ºæ”¹</p>
<pre><code class="language-shell">www:x:1003:1003::/home/www:/bin/bash
</code></pre>
<h4 id="ä¸ºwwwåˆ›å»ºsshå…¬é’¥">ä¸ºwwwåˆ›å»ºsshå…¬é’¥</h4>
<p>åˆ‡æ¢ä¸ºwwwç™»é™†</p>
<pre><code class="language-shell">su www
</code></pre>
<p>åˆ›å»ºsshå…¬é’¥</p>
<pre><code class="language-shell">ssh-keygen -t rsa
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://imcm.xyz/post-images/1608622389755.jpg" alt="" loading="lazy"></figure>
<p>è·å–ä½ çš„å…¬é’¥id_rsa.pub</p>
<pre><code class="language-shell">cat /home/www/.ssh/id_rsa.pub
</code></pre>
<h4 id="ç™»é™†githubé…ç½®sshå…¬é’¥">ç™»é™†GitHubé…ç½®sshå…¬é’¥</h4>
<p>ç™»é™†GitHub - è¿›å…¥ä»“åº“ - Settings - Deploy keys - Add Deploy keys<br>
ç²˜è´´åˆšæ‰åˆ›å»ºçš„å…¬é’¥</p>
<figure data-type="image" tabindex="2"><img src="https://imcm.xyz/post-images/1608622410820.jpg" alt="" loading="lazy"></figure>
<h4 id="é¦–æ¬¡git-cloneä»“åº“">é¦–æ¬¡git cloneä»“åº“</h4>
<p>éªŒè¯sshå…¬é’¥é…ç½®æˆåŠŸ</p>
<pre><code class="language-shell">ssh -T git@github.com
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://imcm.xyz/post-images/1608622477397.jpg" alt="" loading="lazy"></figure>
<p>é¦–æ¬¡cloneä»“åº“æˆåŠŸ</p>
<pre><code class="language-shell">git clone git@github.com:xxxxxx/xxxxxxx.git
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://imcm.xyz/post-images/1608622485033.jpg" alt="" loading="lazy"></figure>
<h4 id="é…ç½®webhookphp">é…ç½®webhook.php</h4>
<p>åœ¨é¡¹ç›®ç½‘ç«™æ ¹ç›®å½•åˆ›å»ºwebhook.phpè·å¾—å¤–ç½‘é“¾æ¥ä¸ºhttps://yourdoamin.com/webhook.php<br>
ç²˜è´´ä»¥ä¸‹ä»£ç ,åªéœ€è¦æ›´æ”¹keySecretå’ŒwwwRootå³å¯.</p>
<pre><code class="language-php">&lt;?php

// è‡ªè¡Œåˆ›å»ºä¸€ä¸ªéªŒè¯å¯†ç 
$keySecret = 'xxxxxx';

// ä¿®æ”¹ä¸ºä½ è‡ªå·±çš„ä»“åº“ç»å¯¹è·¯å¾„
$wwwRoot = [
    '/home/wwwroot/xxxx',
];

// ä¿å­˜è¿è¡Œè„šæœ¬çš„æ—¥å¿—
$logFile = 'log/webhook.log';

// æ‰§è¡Œgitå‘½ä»¤
$gitCommand = 'git pull';

// åˆ¤æ–­æ˜¯å¦å¼€å¯ç§˜é’¥è®¤è¯(å·²å®ç°giteeå’Œgithub)
if (isset($keySecret) &amp;&amp; !empty($keySecret)) {
    list($headers, $gitType) = [[], null];
    foreach ($_SERVER as $key =&gt; $value) {
        'HTTP_' == substr($key, 0, 5) &amp;&amp; $headers[str_replace('_', '-', substr($key, 5))] = $value;
        if (empty($gitType) &amp;&amp; strpos($key, 'GITEE') !== false) {
            $gitType = 'GITEE';
        }
        if (empty($gitType) &amp;&amp; strpos($key, 'GITHUB') !== false) {
            $gitType = 'GITHUB';
        }
    }
    if ($gitType == 'GITEE') {
        if (!isset($headers['X-GITEE-TOKEN']) || $headers['X-GITEE-TOKEN'] != $keySecret) {
            die('GITEE - è¯·æ±‚å¤±è´¥ï¼Œç§˜é’¥æœ‰è¯¯');
        }
    } elseif ($gitType == 'GITHUB') {
        $json_content = file_get_contents('php://input');
        $signature = &quot;sha1=&quot; . hash_hmac('sha1', $json_content, $keySecret);
        if ($signature != $headers['X-HUB-SIGNATURE']) {
            die('GITHUB - è¯·æ±‚å¤±è´¥ï¼Œç§˜é’¥æœ‰è¯¯');
        }
    } else {
        die('è¯·æ±‚é”™è¯¯ï¼ŒæœªçŸ¥gitç±»å‹');
    }
}

!is_array($wwwRoot) &amp;&amp; $wwwRoot = [$wwwRoot];
foreach ($wwwRoot as $vo) {
    $shell = sprintf(&quot;cd %s &amp;&amp; git pull 2&gt;&amp;1&quot;, $vo);
    $output = shell_exec($shell);
    $log = sprintf(&quot;[%s] %s \n&quot;, date('Y-m-d H:i:s', time()) . ' - ' . $vo, $output);
    echo $log;
    file_put_contents($logFile, $log, FILE_APPEND);
}
</code></pre>
<h4 id="github-webhooksé…ç½®">GitHub Webhooksé…ç½®</h4>
<p>ç™»é™†GitHub - è¿›å…¥ä»“åº“ - Settings - Webhooks - Add webhook<br>
Payload URL è¾“å…¥åˆšæ‰è·å–çš„webhook.phpçš„å¤–ç½‘é“¾æ¥.<br>
Content type ä¿æŒé»˜è®¤<br>
Secret è¾“å…¥åˆšæ‰é…ç½®webhook.phpåˆ›å»ºçš„éªŒè¯å¯†ç <br>
Add webhook å®Œæˆåˆ›å»º<br>
<img src="https://imcm.xyz/post-images/1608622528975.jpg" alt="" loading="lazy"></p>
<h4 id="æ¢å¤å…³é—­wwwç™»é™†">æ¢å¤å…³é—­wwwç™»é™†</h4>
<p>exité€€å‡ºwwwç™»é™†åˆ‡å›root,åœ¨æ¬¡å…³é—­wwwç™»é™†.</p>
<pre><code class="language-shell">vim /etc/passwd
</code></pre>
<p>æ¢å¤ä¸º</p>
<pre><code class="language-shell">www:x:1003:1003::/home/www:/sbin/nologin
</code></pre>
<h4 id="è‡ªåŠ¨åŒ–éƒ¨ç½²æˆåŠŸ">è‡ªåŠ¨åŒ–éƒ¨ç½²æˆåŠŸ</h4>
<p>æœ¬åœ°pushä»£ç åˆ°GitHubå,å¯ä»¥çœ‹åˆ°è¿”å›ä¿¡æ¯æç¤ºæœåŠ¡å™¨pullæˆåŠŸ.<br>
<img src="https://imcm.xyz/post-images/1608622569768.jpg" alt="" loading="lazy"></p>
<h3 id="å…³é”®ç‚¹å’Œç›¸å…³é”™è¯¯">å…³é”®ç‚¹å’Œç›¸å…³é”™è¯¯</h3>
<h4 id="æƒé™">æƒé™</h4>
<p>ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹éƒ½æ²¡æœ‰æåˆ°æƒé™é—®é¢˜,æ‰€ä»¥å¯¹äºæ–°æ‰‹å°ç™½æ¥è¯´,å°±ä¼šä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸æˆåŠŸ.è€Œå°‘æ•°æåˆ°æƒé™çš„æ•™ç¨‹,ä¹Ÿæ²¡æœ‰éå¸¸è¯¦ç»†æŒ‡å¯¼ç”¨æˆ·å¦‚ä½•é…ç½®.æ‰€ä»¥å¦‚æœéƒ¨ç½²æœ‰é—®é¢˜,è¯·æ£€æŸ¥æƒé™é—®é¢˜,æ–°æ‰‹ç”¨æˆ·å¯ä»¥ä¸¥æ ¼æŒ‰ç…§æœ¬æ•™ç¨‹å…ˆéƒ¨ç½²æˆåŠŸ,åœ¨æ¥è‡ªè¡Œä¿®æ”¹ä½ éœ€è¦çš„é…ç½®.</p>
<h4 id="webhookphp">webhook.php</h4>
<p>webhook.phpçš„ä»£ç ç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šç§,æœ‰äº›èƒ½ç”¨æœ‰äº›æ— æ³•ä½¿ç”¨,æœ¬æ–‡æä¾›çš„æ˜¯ç»è¿‡æµ‹è¯•å¯ç”¨çš„,å¤§å®¶ä¹Ÿå¯ä»¥è‡ªè¡Œæœç´¢æˆ–è€…ç¼–è¾‘.</p>
<h4 id="service-timeout">Service Timeout</h4>
<p>å½“é‡åˆ°pushå¤§é‡ä»£ç æ—¶,æœåŠ¡å™¨pulléœ€è¦æ›´é•¿çš„æ—¶é—´,æ‰€ä»¥webhookè¿”å›ç»™GitHubçš„ä¿¡æ¯å¦‚ä¸‹å›¾ä¼šå‡ºç°Service Timeoutè¶…æ—¶é”™è¯¯,ä½†å®é™…ä¸ŠæœåŠ¡å™¨ä¹ŸæˆåŠŸæ‰§è¡Œäº†pull,ä½ å¯ä»¥ç™»é™†æœåŠ¡å™¨æ£€æŸ¥æ¥ç¡®è®¤,åŒæ—¶ä¹Ÿå¯ä»¥æ ¹æ®ä½ çš„é¡¹ç›®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹webhook.phpæ‰§è¡Œé…ç½®.<br>
<img src="https://imcm.xyz/post-images/1608622604663.jpg" alt="" loading="lazy"></p>
<h4 id="è¯ä¹¦é”™è¯¯">è¯ä¹¦é”™è¯¯</h4>
<p>æœ‰å¯èƒ½ä¼šå‡ºç°ä¸‹å›¾ä¸­çš„è¯ä¹¦é”™è¯¯æç¤º,è¯·æ›´æ¢è¯ä¹¦,æµ‹è¯•æ—¶ä½¿ç”¨çš„Let's Encryptçš„æ³›åŸŸåè¯ä¹¦å°±ä¼šæŠ¥é”™,åšä¸»æ›´æ¢ä¸ºè…¾è®¯äº‘ç”³è¯·çš„å•åŸŸåè¯ä¹¦å°±å¯ä»¥äº†.<br>
<img src="https://imcm.xyz/post-images/1608622614276.jpg" alt="" loading="lazy"></p>
<h3 id="ç»“è¯­">ç»“è¯­</h3>
<p>ç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹ä¸¤ç¯‡æ–‡ç« ç»™äºˆäº†å…³äºwwwæƒé™å’Œwebhook.phpä¸¤ä¸ªå…³é”®ç‚¹çš„å¸®åŠ©:<br>
<a href="https://learnku.com/articles/34320">gitee å’Œ GitHub çš„ webhook çš„ä½¿ç”¨ï¼Œå®ç°æœåŠ¡å™¨ä»£ç çš„è‡ªåŠ¨æ›´æ–°</a><br>
<a href="https://www.jianshu.com/p/00bc0323e83f">gitlabä¹‹webhookè‡ªåŠ¨éƒ¨ç½²</a></p>
<p>æœ¬æ–‡è½¬è‡ª:<a href="https://www.ioiox.com/archives/72.html">IOIOX</a></p>
]]></content>
    </entry>
</feed>